<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8" />
<meta name="generator" content="Hugo 0.123.6">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="toTop" content="true">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="author" content="子舒" />
<meta property="og:url" content="https://zishu.me/" />
<link rel="canonical" href="https://zishu.me/" /><link rel="apple-touch-icon" href="https://imgurl.zishu.me/favicon.ico" />
<link rel="icon" href="https://imgurl.zishu.me/favicon.ico" />
<link rel="shortcut" href="https://imgurl.zishu.me/favicon.ico" /><link rel="alternate" type="application/atom+xml" href="https://zishu.me/index.xml" title="子舒的博客">
<script type="application/ld+json">
{
"@context" : "http://schema.org",
"@type" : "BlogPosting",
"mainEntityOfPage": {
"@type": "WebPage",
"@id": "https:\/\/zishu.me\/"
},
"articleSection" : "",
"name" : "子舒的博客",
"headline" : "子舒的博客",
"description" : "",
"inLanguage" : "en-US",
"author" : "子舒",
"creator" : "子舒",
"publisher": "子舒",
"accountablePerson" : "子舒",
"copyrightHolder" : "子舒",
"copyrightYear" : "2024",
"datePublished": "2024-08-29 00:00:00 \u002b0000 UTC",
"dateModified" : "2024-08-29 00:00:00 \u002b0000 UTC",
"url" : "https:\/\/zishu.me\/",
"keywords" : [  ]
}
</script><title>子舒的博客</title>
<meta property="og:title" content="子舒的博客" />
<meta property="og:type" content="website" />
<meta property="og:description" content="" />
<meta name="description" content="" />
<meta property="og:locale" content="en-us" /><meta property="og:image" content="https://imgurl.zishu.me/favicon.ico" />


<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/css/index.css">
<link href="/index.xml" rel="alternate" type="application/rss+xml" title="子舒的博客">
<script src="/js/jquery3.6.0.min.js"></script>
</head>























































































































































































































































































































































































































































































































































































































































































































































































<body id="container">
  <meter id="isread" max="100" value="0"></meter>
<script>
  window.addEventListener('scroll', function () {
    var scrolled = window.scrollY;
    var totalHeight = document.documentElement.scrollHeight - window.innerHeight;
    var percentage = (scrolled / totalHeight) * 100;
    $('#isread').attr('value', percentage)
  });
</script>


<div id="head" class="site-index">
  <a id="logo" href="/">
    <img src="https://imgurl.zishu.me/author.webp">
  </a>
  <div id="site-title">
    <a href="/">子舒的博客</a>
  </div>
  <ul id="menu">
    
    <li><a href="/categories/%e6%8a%80%e6%9c%af/">技术</a></li>
    
    <li><a href="/categories/%e9%9a%8f%e7%ac%94/">随笔</a></li>
    
    <li><a href="/categories/weekly/">周刊</a></li>
    
    <li><a href="/message/">留言</a></li>
    
    <li><a href="/about/">关于</a></li>
    
    <li><a href="/index.xml" target="_blank">订阅</a></li>
  </ul>
</div>

  <section id="body">
    <h2 id="body-title">📓 Articles</h2>

    <div id="body-in">

      <div class="index-post index-post-content-long">
        <p class="text">欢迎来到我的博客，已经运行了 <span id="days"></span> 天，有 <span id="busuanzi_value_site_pv">...</span>
          位小伙伴逛过，写了 270 篇文章，共 180887 字。</p>
      </div>

      
      
      

      
      
      

      
      

      
      <div class="index-post" onclick="javascript:window.location.href='\/blog\/133.html\/'">
        <div class="index-post-content-long">
          <a href="/blog/133.html/">
            <h2>随想录 (6)</h2>
          </a>
          <div class="text">随着年龄的增长，越发感觉自我想象力的缺失。 最近迷上了科幻小说，遂找到刘慈欣的小说集，大概二十多篇，花上一周时间研读完毕，只有一种惊艳的感觉，不论是文笔还是世界观架构，都令我着迷。 而大刘作为理工生，将充满浪漫色彩的想象力和严谨的物理学知识相结合，我很佩服。 诗云中对宇宙艺术的理解，是我最喜欢的一篇，文明发展到最后，生存就已经变成了婴孩时期的啼哭，除了怀念已经没有意义了，要追求更高层次的满足，唯有艺术感。 对艺术的追求已经强烈到毁灭银河系，简单粗暴而又充满艺术感。 与诗云一样的还有低温艺术家，描述群体文明的终点是个体文明，也同样没有了生存的追求，整篇充满了艺术彩色。但是对于低层次的文明，生存的追求还是极其必要的。 大刘的文笔是非常浪漫的，将残酷的宇宙以温柔的笔墨书写，而又相对严谨的科学知识，都令我着迷。</div>
          <div class="index-post-meta">
            <a href="/blog/133.html/"> # 2022-06-10</a>
            
            
            <span class="namenode">随笔</span>
            
            
          </div>
        </div>
      </div>
      
      
      
      
      

      
      

      
      <div class="index-post" onclick="javascript:window.location.href='\/blog\/132.html\/'">
        <div class="index-post-content-long">
          <a href="/blog/132.html/">
            <h2>typecho 评论回复艾特评论人</h2>
          </a>
          <div class="text">typecho 在评论时默认是没有 @ 评论人的功能，可以用代码加一下。 在 functions.php 中： /* * 评论回复时 @ 评论人 */ function get_comment_at($coid) { $db = Typecho_Db::get(); $prow = $db-&gt;fetchRow($db-&gt;select(&#39;parent,status&#39;)-&gt;from(&#39;table.comments&#39;) -&gt;where(&#39;coid = ?&#39;, $coid)); $mail = &#34;&#34;; $parent = @$prow[&#39;parent&#39;]; if ($parent != &#34;0&#34;) { $arow = $db-&gt;fetchRow($db-&gt;select(&#39;author,status,mail&#39;)-&gt;from(&#39;table.comments&#39;) -&gt;where(&#39;coid = ?&#39;, $parent)); @$author = @$arow[&#39;author&#39;]; $mail = @$arow[&#39;mail&#39;]; if(@$author &amp;&amp; $arow[&#39;status&#39;] == &#34;approved&#34;){ if (@$prow[&#39;status&#39;] == &#34;waiting&#34;){ echo &#39;&lt;p class=&#34;commentReview&#34;&gt;（评论审核中）)&lt;/p&gt;&#39;; } echo &#39;&lt;a href=&#34;#comment-&#39; . $parent . &#39;&#34;&gt;@&#39; . $author . &#39;&lt;/a&gt;&#39;; }else{ if (@$prow[&#39;status&#39;] == &#34;waiting&#34;){ echo &#39;&lt;p class=&#34;commentReview&#34;&gt;（评论审核中）)&lt;/p&gt;&#39;; }else{ echo &#39;&#39;; } } } else { if (@$prow[&#39;status&#39;] == &#34;waiting&#34;){ echo &#39;&lt;p class=&#34;commentReview&#34;&gt;（评论审核中）)&lt;/p&gt;&#39;; }else{ echo &#39;&#39;; } } } 然后在 comments.php 中输出评论内容代码的前面加上： &lt;?php $parentMail = get_comment_at($comments-&gt;coid)?&gt;&lt;?php echo $parentMail;?&gt; ▼代码所示 ▼效果图 我的博客即将同步至腾讯云+社区，邀请大家一同入驻：https://cloud.tencent.com/developer/support-plan?invite_code=17ctk6evsjk5b</div>
          <div class="index-post-meta">
            <a href="/blog/132.html/"> # 2022-06-07</a>
            
            
            <span class="namenode">技术</span>
            
            
          </div>
        </div>
      </div>
      
      
      
      
      

      
      

      
      <div class="index-post" onclick="javascript:window.location.href='\/blog\/131.html\/'">
        <div class="index-post-content-long">
          <a href="/blog/131.html/">
            <h2>随想录 (5)</h2>
          </a>
          <div class="text">抽空看完了爱死机第三季，个人感受比第二季优秀，但是还是不如第一季。太过追求三者的结合，科幻与死亡的元素，不够灵活。 但是其中的剧情还是比较精彩的，比如邪神那一集，估计只有了解克苏鲁的人才能看懂，结局也比较贴合剧情走向。女子挖去了眼睛和耳朵，听不到邪神的喃语，才免受精神污染，活着走出危机。（2022/05/26） bootcss4 是一个轻量前端 ui 框架，最近的项目中用到了它，使用体验还不错，不过功能倒是与 element 相比弱了一些（2022/05/27） 今天运气不知是好好坏，刚下地铁，就下了毛毛雨。然后一路上四个路口全是绿灯，一口气骑回家，虽然我也穿了雨披，不过还是为自己的运气感到骄傲，很少碰到连续四个绿灯的情况。看来老天都不想让我淋雨，刚在小区停好车，就下大了。（2022/05/31） 最近又步入了雨季，已经记不清这是杭州第几次了，感觉全年都处于下雨天。闷热加潮湿，基本在屋里呆着都要开空调和风扇，不然感觉不透气。所以吃完饭后我喜欢到小区楼下走走，很凉快空气也很清新。（2022/06/02）</div>
          <div class="index-post-meta">
            <a href="/blog/131.html/"> # 2022-06-02</a>
            
            
            <span class="namenode">随笔</span>
            
            
          </div>
        </div>
      </div>
      
      
      
      
      

      
      

      
      <div class="index-post" onclick="javascript:window.location.href='\/blog\/130.html\/'">
        <div class="index-post-content-long">
          <a href="/blog/130.html/">
            <h2>宝塔自动备份网站到邮箱教程</h2>
          </a>
          <div class="text">前言 网站经常备份好处就是遇到问题以后可以迅速的恢复，不那么被动，防止信息丢失，操作性很大。虽然搭建一个网站非常容易，但为了应对网络上各种各样的意外情况，避免自己的网站付诸东流，做好网站备份是非常有必要的。 现在邮箱接收都支持附件文件，将网站文件和数据库文件备份到我们自己的邮箱也是一种很好地备份方式，也防止备份文件丢失。 邮箱接收附件文件大小，取决于使用的邮箱服务。一般来说个人博客网站源文件，数据库文件不大，常见邮箱服务都是可以使用的。 下面开始教程，宝塔安装教程可去宝塔官网查看安装教程。 系统环境：CentOS 7.9.2009 x86_64（其他系统可参考方式，命令安装自行解决） 宝塔面板：7.9.0 安装 mailx 浏览器登录进入宝塔面板，左侧-》终端。首次使用宝塔终端，需要登录服务器，填写 root 用户密码后登录。 在终端中输入以下 mailx 安装命令，回车安装。 yum install -y mailx 编辑配置文件 安装完成后，编辑邮箱服务的相关配置文件。 在终端输入以下命令，然后回车进入编辑文件界面。 vim /etc/mail.rc 使用键盘上下键，找到大约 69 行位置，按‘i’键输入，添加以下配置。 set from=发件人@qq.com #发送邮件后显示的邮件发送方 需要修改 set smtp=smtps://smtp.qq.com:465 #SMTP服务器的网址及端口 需要修改 set smtp-auth-user=发件人@qq.com #发送邮箱 需要修改 set smtp-auth-password=邮箱密码/SMTP授权码 #设置的邮箱密码，SMTP授权密码 需要修改 set smtp-auth=login #动作、登录 无需修改 set ssl-verify=ignore #ssl验证忽略 无需修改 set nss-config-dir=/etc/pki/nssdb #证书存放目录 无需修改 请将配置按要求修改为自己所使用的邮箱服务配置。服务器需要开启 465 端口。 配置修改完成后，按 Esc 键，输入:wq回车保存退出编辑界面。 测试发送邮件 在终端输入发送测试邮件命令，需要修改收件人邮箱，回车执行。 echo &#34;这是一封测试邮件&#34; | mail -s &#34;邮件主题&#34; 收件人@qq.com 查看邮箱是否收到测试邮件。 如果发现终端报以下错误（但没有影响收件），没有错误请跳过。 Error in certificate: Peer's certificate issuer has been marked as not trusted by the. Ctrl+C结束命令后，修改邮箱服务配置文件，将set ssl-verify=ignore修改为set ssl-verify=strict后保存退出（编辑方法同上）。 修改完成后在终端输入以下命令。 获取邮件服务器证书 echo -n &#34; &#34; | openssl s_client -connect smtp.qq.com:465 | sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFIICATE-/p&#39; &gt; /etc/pki/nssdb/qq.crt 把证书添加到受信任表 certutil -A -n &#39;yeah&#39; -t &#34;P,P,P&#34; -d /etc/pki/nssdb -i /etc/pki/nssdb/qq.crt 注：如果是 163 或者其他邮箱服务器请将smtp.qq.com改为smtp.163.com，qq.crt改为163.crt 以此类推。 命令执行完成后，重新执行发送测试邮件命令，不在报错。 宝塔定时任务 左侧-》计划任务 首先按自己需求（计划任务执行时间，保留文件数量等）添加网站和数据库源文件备份任务。 然后添加shell脚本任务，在脚本内容中添加以下脚本命令，修改收件人为自己的邮箱。 #!/bin/bash cd /www/backup/site for file in $(ls *) do str=&#34;${str} -a ${file}&#34; done echo &#34;主人，今天的网站备份又到了哦，请注意查收！&#34; | mail -s &#34;网站备份&#34; $str 2502393029@qq.com 执行时间可按需求，晚于网站，数据库备份任务执行时间。 数据库备份和网站备份一样需要再添加一次计划任务，将cd /www/backup/site 修改为cd /www/backup/database数据库备份文件所在目录即可，参考改一下邮件主题，和内容信息。 计划任务添加完成后，可先执行网站，数据库源文件备份任务，再执行网站，数据库邮箱shell脚本备份任务，然后前往邮箱查看文件是否收到，文件过大，邮件会有延迟。 注：如果有报错或收不到邮件情况，请仔细检查命令，配置文件是否有误，或者查看脚本执行日志进行排查。 转载自梦繁星博客：https://blog.emoao.com/13.html 如果问题请在评论区留言。</div>
          <div class="index-post-meta">
            <a href="/blog/130.html/"> # 2022-05-25</a>
            
            
            <span class="namenode">技术</span>
            
            
          </div>
        </div>
      </div>
      
      
      
      
      

      
      

      
      <div class="index-post" onclick="javascript:window.location.href='\/blog\/106.html\/'">
        <div class="index-post-content-long">
          <a href="/blog/106.html/">
            <h2>一个优雅的字体压缩解决方案 fonttools</h2>
          </a>
          <div class="text">分享一个 python 的库 &mdash;fonttools，针对字体文件进行处理非常方便。 下载 需要先在电脑上下载 python 环境，这个就不多说了。 然后在本地命令行输入： pip install fonttools 字体库 本地新建一个文件夹，取名为 fonts ，随意即可。将自己需要压缩整理的字体放在文件夹中，如 OPPOSans.ttf 。 然后建立一个文件取名为 word.txt，这时我们需要找到一个常用字体库，这里我在 github 分享一个 https://github.com/dlzmoe/cdn/blob/main/font/汉字常用字体.txt ，把里面的内容常用字体复制到 word.txt 文件。 运行 pyftsubset OPPOSans.ttf --text=$(cat word.txt) --no-hinting 我们看一下命令，其中 OPPOSans.ttf 是字体文件，word.txt 是常用字体，我们要将这些字单独分离出来。 名字都可以按照自己的要求来，但是一定要互相对应。 在命令行输入即可，运行完成之后，可以在文件夹中看到带有 subset 字样的字体文件，占用空间大大缩小，可以直接拿来使用。</div>
          <div class="index-post-meta">
            <a href="/blog/106.html/"> # 2022-05-24</a>
            
            
            <span class="namenode">技术</span>
            
            
          </div>
        </div>
      </div>
      
      
      
      
      

      
      

      
      <div class="index-post" onclick="javascript:window.location.href='\/blog\/127.html\/'">
        <div class="index-post-content-long">
          <a href="/blog/127.html/">
            <h2>随想录 (4)</h2>
          </a>
          <div class="text">好事和坏事总是接踵而至，你永远不知道下一秒会发生什么。但是总有解决的办法，不是吗？但实际上我也不确定。 昨天很晚才睡，想了很多，乱七八糟的。生活哪有容易的事情，就跟摸石头过河一样，跌跌拌拌，最后才找到适合自己生活的模式。（2020/05/09） coding 构建部署同步 github 好像有 bug，搞了半天最后重新刷新 GitHub.com OAuth 认证就好了。（2020/05/10） 昨天一整天都是雨天，我从地铁出来时，雨是朦朦胧胧的，跟雾一样。索性就直接骑着车了，迎面而来的冷空气让我打了个冷战，疲惫的身体清醒了许多。 向前骑去时看到一对情侣，也是晃晃悠悠的骑着电车，女生侧坐着靠在男生的背上。一瞬间有些恍惚，好像是我羡慕的场景。带着心爱的女孩漫无目的的漂游，或许她可以在后座一边搂着我的腰，一边听我讲述生活遇到的趣事或者烦恼。 （2020/05/11） 这两天读了一本新书《菜根谭》，作者是明代洪应明，内容是儒家通俗读物，采儒、佛、道三家思想。 以心学、禅学为核心，拥有修身、齐家、治国、平天下等大道，同时由于它融处世哲学，生活艺术，审美情趣这些特色，也是一部使人奋发向上的中国文学作品。 挺有意思，说是鸡汤又不太像。如果对网络文学读腻的朋友，可以试着看一看。通篇为五言，也不显得臃肿。 建议在微信读书阅读，可以用无限卡免费。 拨开世尘氛，消却心鄙吝。拨开世尘氛，消却心鄙吝。拨开世尘氛，消却心鄙吝&hellip;. （2020/05/13）</div>
          <div class="index-post-meta">
            <a href="/blog/127.html/"> # 2022-05-13</a>
            
            
            <span class="namenode">随笔</span>
            
            
          </div>
        </div>
      </div>
      
      
      
      
      

      
      

      
      <div class="index-post" onclick="javascript:window.location.href='\/blog\/128.html\/'">
        <div class="index-post-content-long">
          <a href="/blog/128.html/">
            <h2>分享一款自用的 v2ex 主题样式</h2>
          </a>
          <div class="text">起因是因为觉得 v2ex 网站主题略有拥挤，阅读体验不好，而正好网站支持自定义 css，所以就在参考其他人的基础上，修改了一套比较美观的样式。 本来是自用的，但是看到有人发帖分享主题，我也索性将它分享出来了。 v2ex 帖子：https://www.v2ex.com/t/851735 Github 仓库：https://github.com/dlzmoe/v2ex_theme 不想看文档可以直接用下面的链接。 /* 通过 jsd 加速 github 文件 */ @import &#34;https://cdn.jsdelivr.net/gh/dlzmoe/v2ex_theme/v2ex_theme.min.css&#34;; /* 放在我自己服务器上的链接 */ @import &#34;https://cdn.zburu.com/list/v2ex_theme.css&#34;;</div>
          <div class="index-post-meta">
            <a href="/blog/128.html/"> # 2022-05-12</a>
            
            
            <span class="namenode">技术</span>
            
            
          </div>
        </div>
      </div>
      
      
      
      
      

      
      

      
      <div class="index-post" onclick="javascript:window.location.href='\/blog\/125.html\/'">
        <div class="index-post-content-long">
          <a href="/blog/125.html/">
            <h2>随想录 (3)</h2>
          </a>
          <div class="text">五一假期回老家处理一些事情，收拾东西的时候，从角落里翻出来几张老照片，很有怀念意义。（2022/05/03） 好事和坏事总是接踵而至，你永远不知道下一秒会发生什么。但是总有解决的办法，不是吗？（2022/05/05） 整理了一下个人书单，发现读过的书太少了，打算做一个阅读计划，保证持续阅读。 ps: 这周碎碎念很少，因为五一有事出去了，身体和心灵都没停下来，有些疲惫。（2022/05/06）</div>
          <div class="index-post-meta">
            <a href="/blog/125.html/"> # 2022-05-06</a>
            
            
            <span class="namenode">随笔</span>
            
            
          </div>
        </div>
      </div>
      
      
      
      
      

      
      

      
      <div class="index-post" onclick="javascript:window.location.href='\/blog\/124.html\/'">
        <div class="index-post-content-long">
          <a href="/blog/124.html/">
            <h2>docker 部署思源笔记</h2>
          </a>
          <div class="text">文章废弃 部署 docker run --name siyuan -itd -p 6806:6806 -v /opt/my_siyuan_path:/opt/siyuan --restart always b3log/siyuan 备份 sudo su # 查看容器列表 docker ps -a # 制作备份 docker commit -p 7409ce6aae7b siyuan_backup # 其中 403e6db0c 是容器id, jenkins_backup是备份名称 # 查看备份是否成功 docker images # 将镜像制作成文件 docker save -o [filename] [image] docker save -o siyuan_backup.tar siyuan_backup ls # 在 /home/ubuntu/ 中可以看到制作后的压缩包</div>
          <div class="index-post-meta">
            <a href="/blog/124.html/"> # 2022-05-05</a>
            
            
            <span class="namenode">技术</span>
            
            
          </div>
        </div>
      </div>
      
      
      

      



















<div class="page">
  
  <a href="/page/17/" class="prev">上一页</a>
  

  
  <a href="/page/19/" class="next">下一页</a>
  


</div>



    </div>

    <footer id="foot">
  <p>© 2020 - 2024 Powered by
    <a href="https://github.com/dlzmoe/blog" target="_blank">Github</a>
    / <a href="/index.xml" target="_blank">RSS</a>
  </p>
</footer>

<script src="/js/main.js"></script>

<script defer src="https://cn.vercount.one/js"></script>
  </section>

  <script>
    const time = "2020-06-14";
    var now = new Date();
    var end = new Date(time);
    var diff = Math.abs(now - end);
    var days = Math.ceil(diff / (1000 * 60 * 60 * 24));
    $('#days').html(days);
  </script>
</body>

</html>
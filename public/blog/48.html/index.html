<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8" />
<meta name="generator" content="Hugo 0.146.5">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="toTop" content="true">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="author" content="map[email:anghunk@gmail.com name:å­èˆ’]" />
<meta property="og:url" content="https://zishu.me/blog/48.html/" />
<link rel="canonical" href="https://zishu.me/blog/48.html/" /><link rel="apple-touch-icon" href="https://imgurl.zishu.me/favicon.ico" />
<link rel="icon" href="https://imgurl.zishu.me/favicon.ico" />
<link rel="shortcut" href="https://imgurl.zishu.me/favicon.ico" /><link rel="alternate" type="application/atom+xml" href="https://zishu.me/index.xml" title="å­èˆ’çš„åšå®¢">
<script type="application/ld+json">
{
"@context" : "http://schema.org",
"@type" : "BlogPosting",
"mainEntityOfPage": {
"@type": "WebPage",
"@id": "https:\/\/zishu.me\/"
},
"articleSection" : "blog",
"name" : "ES5 å’Œ ES6 çš„åŒºåˆ«ï¼Ÿ",
"headline" : "ES5 å’Œ ES6 çš„åŒºåˆ«ï¼Ÿ",
"description" : "ä¸€ã€javascript ç”±ä¸‰éƒ¨åˆ†ç»„æˆ 1.ECMAScriptï¼ˆæ ¸å¿ƒï¼‰ å®ƒè§„å®šäº†è¯­è¨€çš„ç»„æˆéƒ¨åˆ†ï¼šæ³•è¯­ï¼Œç±»å‹ï¼Œè¯­å¥ï¼Œå…³é”®å­—ï¼Œæ“ä½œç¬¦ç­‰ç­‰ã€‚\n2.DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰ DOM æŠŠæ•´ä¸ªé¡µé¢æ˜ å°„ä¸ºä¸€ä¸ªå¤šå±‚èŠ‚ç‚¹ç»“æœï¼Œå¼€å‘äººå‘˜å¯å€ŸåŠ© DOM æä¾›çš„ APIï¼Œè½»æ¾åœ°åˆ é™¤ã€æ·»åŠ ã€æ›¿æ¢æˆ–ä¿®æ”¹ä»»ä½•èŠ‚ç‚¹ã€‚\n3.BOMï¼ˆæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼‰ æ”¯æŒå¯ä»¥è®¿é—®å’Œæ“ä½œæµè§ˆå™¨çª—å£çš„æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼Œå¼€å‘äººå‘˜å¯ä»¥æ§åˆ¶æµè§ˆå™¨æ˜¾ç¤ºçš„é¡µé¢ä»¥å¤–çš„éƒ¨åˆ†ã€‚\näºŒã€ä»€ä¹ˆæ˜¯ ES5ï¼Ÿ ä½œä¸º ECMAScript ç¬¬äº”ä¸ªç‰ˆæœ¬ï¼ˆç¬¬å››ç‰ˆå› ä¸ºè¿‡äºå¤æ‚åºŸå¼ƒäº†ï¼‰ï¼Œæµè§ˆå™¨æ”¯æŒæƒ…å†µå¯çœ‹ç¬¬ä¸€å‰¯å›¾ï¼Œå¢åŠ ç‰¹æ€§å¦‚ä¸‹ã€‚\n1.strict æ¨¡å¼ ä¸¥æ ¼æ¨¡å¼ï¼Œé™åˆ¶ä¸€äº›ç”¨æ³•ï¼Œ\u0026lsquo;use strict\u0026rsquo;;\n2.Array å¢åŠ æ–¹æ³• å¢åŠ äº† everyã€someã€forEachã€filterã€indexOfã€lastIndexOfã€isArrayã€mapã€reduceã€reduceRight æ–¹æ³•\nPSï¼šè¿˜æœ‰å…¶ä»–æ–¹æ³• Function.prototype.bindã€String.prototype.trimã€Date.now\n3.Object æ–¹æ³• Object.getPrototypeOf Object.create Object.getOwnPropertyNames Object.defineProperty Object.getOwnPropertyDescriptor Object.defineProperties Object.keys Object.preventExtensions \/ Object.isExtensible Object.seal \/ Object.isSealed Object.freeze \/ Object.isFrozen PSï¼šåªè®²æœ‰ä»€ä¹ˆï¼Œä¸è®²æ˜¯ä»€ä¹ˆã€‚\n2.ä»€ä¹ˆæ˜¯ ES6? ECMAScript6 åœ¨ä¿è¯å‘ä¸‹å…¼å®¹çš„å‰æä¸‹ï¼Œæä¾›å¤§é‡æ–°ç‰¹æ€§ï¼Œç›®å‰æµè§ˆå™¨å…¼å®¹æƒ…å†µå¦‚ä¸‹ï¼š\nES6 ç‰¹æ€§å¦‚ä¸‹ï¼š\nå—çº§ä½œç”¨åŸŸ å…³é”®å­— let, å¸¸é‡ const\nå¯¹è±¡å­—é¢é‡çš„å±æ€§èµ‹å€¼ç®€å†™ï¼ˆproperty value shorthandï¼‰\nvar obj = { \/\/ __proto__ __proto__: theProtoObj, \/\/ Shorthand for â€˜handler: handlerâ€™ handler, \/\/ Method definitions toString() { \/\/ Super calls return \u0026#34;d \u0026#34; \u002b super.toString(); }, \/\/ Computed (dynamic) property names [ \u0026#39;prop_\u0026#39; \u002b (() =\u0026gt; 42)() ]: 42 }; èµ‹å€¼è§£æ„ let singer = { first: \u0026#34;Bob\u0026#34;, last: \u0026#34;Dylan\u0026#34; }; let { first: f, last: l } = singer; \/\/ ç›¸å½“äº f = \u0026#34;Bob\u0026#34;, l = \u0026#34;Dylan\u0026#34; let [all, year, month, day] = \/^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$\/.exec(\u0026#34;2015-10-25\u0026#34;); let [x, y] = [1, 2, 3]; \/\/ x = 1, y = 2 å‡½æ•°å‚æ•° - é»˜è®¤å€¼ã€å‚æ•°æ‰“åŒ…ã€æ•°ç»„å±•å¼€ï¼ˆDefaultã€Restã€Spreadï¼‰ \/\/Default function findArtist(name=\u0026#39;lu\u0026#39;, age=\u0026#39;26\u0026#39;) { ... } \/\/Rest function f(x, ...y) { \/\/ y is an Array return x * y.length; } f(3, \u0026#34;hello\u0026#34;, true) == 6 \/\/Spread function f(x, y, z) { return x \u002b y \u002b z; } \/\/ Pass each elem of array as argument f(...[1,2,3]) == 6 ç®­å¤´å‡½æ•° Arrow functions (1) ç®€åŒ–äº†ä»£ç å½¢å¼ï¼Œé»˜è®¤ return è¡¨è¾¾å¼ç»“æœã€‚\n(2) è‡ªåŠ¨ç»‘å®šè¯­ä¹‰ thisï¼Œå³å®šä¹‰å‡½æ•°æ—¶çš„ thisã€‚å¦‚ä¸Šé¢ä¾‹å­ä¸­ï¼ŒforEach çš„åŒ¿åå‡½æ•°å‚æ•°ä¸­ç”¨åˆ°çš„ thisã€‚\n6.å­—ç¬¦ä¸²æ¨¡æ¿ Template strings\nvar name = \u0026#34;Bob\u0026#34;, time = \u0026#34;today\u0026#34;; \u0060Hello ${name}, how are you ${time}?\u0060 \/\/ return \u0026#34;Hello Bob, how are you today?\u0026#34; Iteratorsï¼ˆè¿­ä»£å™¨ï¼‰\u002b for..of è¿­ä»£å™¨æœ‰ä¸ª next æ–¹æ³•ï¼Œè°ƒç”¨ä¼šè¿”å›ï¼š\n(1) è¿”å›è¿­ä»£å¯¹è±¡çš„ä¸€ä¸ªå…ƒç´ ï¼š{ done: false, value: elem }\n(2) å¦‚æœå·²åˆ°è¿­ä»£å¯¹è±¡çš„æœ«ç«¯ï¼š{ done: true, value: retVal }\nfor (var n of [\u0026#39;a\u0026#39;,\u0026#39;b\u0026#39;,\u0026#39;c\u0026#39;]) { console.log(n); } \/\/ æ‰“å°aã€bã€c ç”Ÿæˆå™¨ï¼ˆGeneratorsï¼‰\nClass\nClassï¼Œæœ‰ constructorã€extendsã€superï¼Œä½†æœ¬è´¨ä¸Šæ˜¯è¯­æ³•ç³–ï¼ˆå¯¹è¯­è¨€çš„åŠŸèƒ½å¹¶æ²¡æœ‰å½±å“ï¼Œä½†æ˜¯æ›´æ–¹ä¾¿ç¨‹åºå‘˜ä½¿ç”¨ï¼‰ã€‚\nclass Artist { constructor(name) { this.name = name; } perform() { return this.name \u002b \u0026#34; performs \u0026#34;; } } class Singer extends Artist { constructor(name, song) { super.constructor(name); this.song = song; } perform() { return super.perform() \u002b \u0026#34;[\u0026#34; \u002b this.song \u002b \u0026#34;]\u0026#34;; } } let james = new Singer(\u0026#34;Etta James\u0026#34;, \u0026#34;At last\u0026#34;); james instanceof Artist; \/\/ true james instanceof Singer; \/\/ true james.perform(); \/\/ \u0026#34;Etta James performs [At last]\u0026#34; Modules ES6 çš„å†…ç½®æ¨¡å—åŠŸèƒ½å€Ÿé‰´äº† CommonJS å’Œ AMD å„è‡ªçš„ä¼˜ç‚¹ï¼š\n(1) å…·æœ‰ CommonJS çš„ç²¾ç®€è¯­æ³•ã€å”¯ä¸€å¯¼å‡ºå‡ºå£ (single exports) å’Œå¾ªç¯ä¾èµ– (cyclic dependencies) çš„ç‰¹ç‚¹ã€‚\n(2) ç±»ä¼¼ AMDï¼Œæ”¯æŒå¼‚æ­¥åŠ è½½å’Œå¯é…ç½®çš„æ¨¡å—åŠ è½½ã€‚\n\/\/ lib\/math.js export function sum(x, y) { return x \u002b y; } export var pi = 3.141593; \/\/ app.js import * as math from \u0026#34;lib\/math\u0026#34;; alert(\u0026#34;2Ï€ = \u0026#34; \u002b math.sum(math.pi, math.pi)); \/\/ otherApp.js import {sum, pi} from \u0026#34;lib\/math\u0026#34;; alert(\u0026#34;2Ï€ = \u0026#34; \u002b sum(pi, pi)); Module Loaders: \/\/ Dynamic loading â€“ â€˜Systemâ€™ is default loader System.import(\u0026#39;lib\/math\u0026#39;).then(function(m) { alert(\u0026#34;2Ï€ = \u0026#34; \u002b m.sum(m.pi, m.pi)); }); \/\/ Directly manipulate module cache System.get(\u0026#39;jquery\u0026#39;); System.set(\u0026#39;jquery\u0026#39;, Module({$: $})); \/\/ WARNING: not yet finalized Map \u002b Set \u002b WeakMap \u002b WeakSet å››ç§é›†åˆç±»å‹ï¼ŒWeakMapã€WeakSet ä½œä¸ºå±æ€§é”®çš„å¯¹è±¡å¦‚æœæ²¡æœ‰åˆ«çš„å˜é‡åœ¨å¼•ç”¨å®ƒä»¬ï¼Œåˆ™ä¼šè¢«å›æ”¶é‡Šæ”¾æ‰ã€‚\n\/\/ Sets var s = new Set(); s.add(\u0026#34;hello\u0026#34;).add(\u0026#34;goodbye\u0026#34;).add(\u0026#34;hello\u0026#34;); s.size === 2; s.has(\u0026#34;hello\u0026#34;) === true; \/\/ Maps var m = new Map(); m.set(\u0026#34;hello\u0026#34;, 42); m.set(s, 34); m.get(s) == 34; \/\/WeakMap var wm = new WeakMap(); wm.set(s, { extra: 42 }); wm.size === undefined \/\/ Weak Sets var ws = new WeakSet(); ws.add({ data: 42 });\/\/Because the added object has no other references, it will not be held in the set Math \u002b Number \u002b String \u002b Array \u002b Object APIs ä¸€äº›æ–°çš„ API\nNumber.EPSILON Number.isInteger(Infinity) \/\/ false Number.isNaN(\u0026#34;NaN\u0026#34;) \/\/ false Math.acosh(3) \/\/ 1.762747174039086 Math.hypot(3, 4) \/\/ 5 Math.imul(Math.pow(2, 32) - 1, Math.pow(2, 32) - 2) \/\/ 2 \u0026#34;abcde\u0026#34;.includes(\u0026#34;cd\u0026#34;) \/\/ true \u0026#34;abc\u0026#34;.repeat(3) \/\/ \u0026#34;abcabcabc\u0026#34; Array.from(document.querySelectorAll(\u0026#39;*\u0026#39;)) \/\/ Returns a real Array Array.of(1, 2, 3) \/\/ Similar to new Array(...), but without special one-arg behavior [0, 0, 0].fill(7, 1) \/\/ [0,7,7] [1, 2, 3].find(x =\u0026gt; x == 3) \/\/ 3 [1, 2, 3].findIndex(x =\u0026gt; x == 2) \/\/ 1 [1, 2, 3, 4, 5].copyWithin(3, 0) \/\/ [1, 2, 3, 1, 2] [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;].entries() \/\/ iterator [0, \u0026#34;a\u0026#34;], [1,\u0026#34;b\u0026#34;], [2,\u0026#34;c\u0026#34;] [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;].keys() \/\/ iterator 0, 1, 2 [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;].values() \/\/ iterator \u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34; Object.assign(Point, { origin: new Point(0,0) }) Proxies ä½¿ç”¨ä»£ç†ï¼ˆProxyï¼‰ç›‘å¬å¯¹è±¡çš„æ“ä½œï¼Œç„¶åå¯ä»¥åšä¸€äº›ç›¸åº”äº‹æƒ…ã€‚\nvar target = {}; var handler = { get: function (receiver, name) { return \u0060Hello, ${name}!\u0060; } }; var p = new Proxy(target, handler); p.world === \u0026#39;Hello, world!\u0026#39;; å¯ç›‘å¬çš„æ“ä½œï¼šgetã€setã€hasã€deletePropertyã€applyã€constructã€getOwnPropertyDescriptorã€definePropertyã€getPrototypeOfã€setPrototypeOfã€enumerateã€ownKeysã€preventExtensionsã€isExtensibleã€‚\nSymbols Symbol æ˜¯ä¸€ç§åŸºæœ¬ç±»å‹ã€‚Symbol é€šè¿‡è°ƒç”¨ symbol å‡½æ•°äº§ç”Ÿï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå¯é€‰çš„åå­—å‚æ•°ï¼Œè¯¥å‡½æ•°è¿”å›çš„ symbol æ˜¯å”¯ä¸€çš„ã€‚\nvar key = Symbol(\u0026#34;key\u0026#34;); var key2 = Symbol(\u0026#34;key\u0026#34;); key == key2 \/\/false Promises Promises æ˜¯å¤„ç†å¼‚æ­¥æ“ä½œçš„å¯¹è±¡ï¼Œä½¿ç”¨äº† Promise å¯¹è±¡ä¹‹åå¯ä»¥ç”¨ä¸€ç§é“¾å¼è°ƒç”¨çš„æ–¹å¼æ¥ç»„ç»‡ä»£ç ï¼Œè®©ä»£ç æ›´åŠ ç›´è§‚ï¼ˆç±»ä¼¼ jQuery çš„ deferred å¯¹è±¡ï¼‰ã€‚\nfunction fakeAjax(url) { return new Promise(function (resolve, reject) { \/\/ setTimeouts are for effect, typically we would handle XHR if (!url) { return setTimeout(reject, 1000); } return setTimeout(resolve, 1000); }); } \/\/ no url, promise rejected fakeAjax().then(function () { console.log(\u0026#39;success\u0026#39;); },function () { console.log(\u0026#39;fail\u0026#39;); }); ",
"inLanguage" : "en-US",
"author" : "map[email:anghunk@gmail.com name:å­èˆ’]",
"creator" : "map[email:anghunk@gmail.com name:å­èˆ’]",
"publisher": "map[email:anghunk@gmail.com name:å­èˆ’]",
"accountablePerson" : "map[email:anghunk@gmail.com name:å­èˆ’]",
"copyrightHolder" : "map[email:anghunk@gmail.com name:å­èˆ’]",
"copyrightYear" : "2021",
"datePublished": "2021-01-20 00:00:00 \u002b0000 UTC",
"dateModified" : "2021-01-20 00:00:00 \u002b0000 UTC",
"url" : "https:\/\/zishu.me\/blog\/48.html\/",
"keywords" : [ "js","ES6", ]
}
</script><title>ES5 å’Œ ES6 çš„åŒºåˆ«ï¼Ÿ - å­èˆ’çš„åšå®¢</title>
<meta property="og:title" content="ES5 å’Œ ES6 çš„åŒºåˆ«ï¼Ÿ" />
<meta property="og:type" content="article" />
<meta property="og:description" content="ä¸€ã€javascript ç”±ä¸‰éƒ¨åˆ†ç»„æˆ 1.ECMAScriptï¼ˆæ ¸å¿ƒï¼‰ å®ƒè§„å®šäº†è¯­è¨€çš„ç»„æˆéƒ¨åˆ†ï¼šæ³•è¯­ï¼Œç±»å‹ï¼Œè¯­å¥ï¼Œå…³é”®å­—ï¼Œæ“ä½œç¬¦ç­‰ç­‰ã€‚
2.DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰ DOM æŠŠæ•´ä¸ªé¡µé¢æ˜ å°„ä¸ºä¸€ä¸ªå¤šå±‚èŠ‚ç‚¹ç»“æœï¼Œå¼€å‘äººå‘˜å¯å€ŸåŠ© DOM æä¾›çš„ APIï¼Œè½»æ¾åœ°åˆ é™¤ã€æ·»åŠ ã€æ›¿æ¢æˆ–ä¿®æ”¹ä»»ä½•èŠ‚ç‚¹ã€‚
3.BOMï¼ˆæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼‰ æ”¯æŒå¯ä»¥è®¿é—®å’Œæ“ä½œæµè§ˆå™¨çª—å£çš„æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼Œå¼€å‘äººå‘˜å¯ä»¥æ§åˆ¶æµè§ˆå™¨æ˜¾ç¤ºçš„é¡µé¢ä»¥å¤–çš„éƒ¨åˆ†ã€‚
äºŒã€ä»€ä¹ˆæ˜¯ ES5ï¼Ÿ ä½œä¸º ECMAScript ç¬¬äº”ä¸ªç‰ˆæœ¬ï¼ˆç¬¬å››ç‰ˆå› ä¸ºè¿‡äºå¤æ‚åºŸå¼ƒäº†ï¼‰ï¼Œæµè§ˆå™¨æ”¯æŒæƒ…å†µå¯çœ‹ç¬¬ä¸€å‰¯å›¾ï¼Œå¢åŠ ç‰¹æ€§å¦‚ä¸‹ã€‚
1.strict æ¨¡å¼ ä¸¥æ ¼æ¨¡å¼ï¼Œé™åˆ¶ä¸€äº›ç”¨æ³•ï¼Œ&lsquo;use strict&rsquo;;
2.Array å¢åŠ æ–¹æ³• å¢åŠ äº† everyã€someã€forEachã€filterã€indexOfã€lastIndexOfã€isArrayã€mapã€reduceã€reduceRight æ–¹æ³•
PSï¼šè¿˜æœ‰å…¶ä»–æ–¹æ³• Function.prototype.bindã€String.prototype.trimã€Date.now
3.Object æ–¹æ³• Object.getPrototypeOf Object.create Object.getOwnPropertyNames Object.defineProperty Object.getOwnPropertyDescriptor Object.defineProperties Object.keys Object.preventExtensions / Object.isExtensible Object.seal / Object.isSealed Object.freeze / Object.isFrozen PSï¼šåªè®²æœ‰ä»€ä¹ˆï¼Œä¸è®²æ˜¯ä»€ä¹ˆã€‚
2.ä»€ä¹ˆæ˜¯ ES6? ECMAScript6 åœ¨ä¿è¯å‘ä¸‹å…¼å®¹çš„å‰æä¸‹ï¼Œæä¾›å¤§é‡æ–°ç‰¹æ€§ï¼Œç›®å‰æµè§ˆå™¨å…¼å®¹æƒ…å†µå¦‚ä¸‹ï¼š
ES6 ç‰¹æ€§å¦‚ä¸‹ï¼š
å—çº§ä½œç”¨åŸŸ å…³é”®å­— let, å¸¸é‡ const
å¯¹è±¡å­—é¢é‡çš„å±æ€§èµ‹å€¼ç®€å†™ï¼ˆproperty value shorthandï¼‰
var obj = { // __proto__ __proto__: theProtoObj, // Shorthand for â€˜handler: handlerâ€™ handler, // Method definitions toString() { // Super calls return &#34;d &#34; &#43; super.toString(); }, // Computed (dynamic) property names [ &#39;prop_&#39; &#43; (() =&gt; 42)() ]: 42 }; èµ‹å€¼è§£æ„ let singer = { first: &#34;Bob&#34;, last: &#34;Dylan&#34; }; let { first: f, last: l } = singer; // ç›¸å½“äº f = &#34;Bob&#34;, l = &#34;Dylan&#34; let [all, year, month, day] = /^(\d\d\d\d)-(\d\d)-(\d\d)$/.exec(&#34;2015-10-25&#34;); let [x, y] = [1, 2, 3]; // x = 1, y = 2 å‡½æ•°å‚æ•° - é»˜è®¤å€¼ã€å‚æ•°æ‰“åŒ…ã€æ•°ç»„å±•å¼€ï¼ˆDefaultã€Restã€Spreadï¼‰ //Default function findArtist(name=&#39;lu&#39;, age=&#39;26&#39;) { ... } //Rest function f(x, ...y) { // y is an Array return x * y.length; } f(3, &#34;hello&#34;, true) == 6 //Spread function f(x, y, z) { return x &#43; y &#43; z; } // Pass each elem of array as argument f(...[1,2,3]) == 6 ç®­å¤´å‡½æ•° Arrow functions (1) ç®€åŒ–äº†ä»£ç å½¢å¼ï¼Œé»˜è®¤ return è¡¨è¾¾å¼ç»“æœã€‚
(2) è‡ªåŠ¨ç»‘å®šè¯­ä¹‰ thisï¼Œå³å®šä¹‰å‡½æ•°æ—¶çš„ thisã€‚å¦‚ä¸Šé¢ä¾‹å­ä¸­ï¼ŒforEach çš„åŒ¿åå‡½æ•°å‚æ•°ä¸­ç”¨åˆ°çš„ thisã€‚
6.å­—ç¬¦ä¸²æ¨¡æ¿ Template strings
var name = &#34;Bob&#34;, time = &#34;today&#34;; `Hello ${name}, how are you ${time}?` // return &#34;Hello Bob, how are you today?&#34; Iteratorsï¼ˆè¿­ä»£å™¨ï¼‰&#43; for..of è¿­ä»£å™¨æœ‰ä¸ª next æ–¹æ³•ï¼Œè°ƒç”¨ä¼šè¿”å›ï¼š
(1) è¿”å›è¿­ä»£å¯¹è±¡çš„ä¸€ä¸ªå…ƒç´ ï¼š{ done: false, value: elem }
(2) å¦‚æœå·²åˆ°è¿­ä»£å¯¹è±¡çš„æœ«ç«¯ï¼š{ done: true, value: retVal }
for (var n of [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]) { console.log(n); } // æ‰“å°aã€bã€c ç”Ÿæˆå™¨ï¼ˆGeneratorsï¼‰
Class
Classï¼Œæœ‰ constructorã€extendsã€superï¼Œä½†æœ¬è´¨ä¸Šæ˜¯è¯­æ³•ç³–ï¼ˆå¯¹è¯­è¨€çš„åŠŸèƒ½å¹¶æ²¡æœ‰å½±å“ï¼Œä½†æ˜¯æ›´æ–¹ä¾¿ç¨‹åºå‘˜ä½¿ç”¨ï¼‰ã€‚
class Artist { constructor(name) { this.name = name; } perform() { return this.name &#43; &#34; performs &#34;; } } class Singer extends Artist { constructor(name, song) { super.constructor(name); this.song = song; } perform() { return super.perform() &#43; &#34;[&#34; &#43; this.song &#43; &#34;]&#34;; } } let james = new Singer(&#34;Etta James&#34;, &#34;At last&#34;); james instanceof Artist; // true james instanceof Singer; // true james.perform(); // &#34;Etta James performs [At last]&#34; Modules ES6 çš„å†…ç½®æ¨¡å—åŠŸèƒ½å€Ÿé‰´äº† CommonJS å’Œ AMD å„è‡ªçš„ä¼˜ç‚¹ï¼š
(1) å…·æœ‰ CommonJS çš„ç²¾ç®€è¯­æ³•ã€å”¯ä¸€å¯¼å‡ºå‡ºå£ (single exports) å’Œå¾ªç¯ä¾èµ– (cyclic dependencies) çš„ç‰¹ç‚¹ã€‚
(2) ç±»ä¼¼ AMDï¼Œæ”¯æŒå¼‚æ­¥åŠ è½½å’Œå¯é…ç½®çš„æ¨¡å—åŠ è½½ã€‚
// lib/math.js export function sum(x, y) { return x &#43; y; } export var pi = 3.141593; // app.js import * as math from &#34;lib/math&#34;; alert(&#34;2Ï€ = &#34; &#43; math.sum(math.pi, math.pi)); // otherApp.js import {sum, pi} from &#34;lib/math&#34;; alert(&#34;2Ï€ = &#34; &#43; sum(pi, pi)); Module Loaders: // Dynamic loading â€“ â€˜Systemâ€™ is default loader System.import(&#39;lib/math&#39;).then(function(m) { alert(&#34;2Ï€ = &#34; &#43; m.sum(m.pi, m.pi)); }); // Directly manipulate module cache System.get(&#39;jquery&#39;); System.set(&#39;jquery&#39;, Module({$: $})); // WARNING: not yet finalized Map &#43; Set &#43; WeakMap &#43; WeakSet å››ç§é›†åˆç±»å‹ï¼ŒWeakMapã€WeakSet ä½œä¸ºå±æ€§é”®çš„å¯¹è±¡å¦‚æœæ²¡æœ‰åˆ«çš„å˜é‡åœ¨å¼•ç”¨å®ƒä»¬ï¼Œåˆ™ä¼šè¢«å›æ”¶é‡Šæ”¾æ‰ã€‚
// Sets var s = new Set(); s.add(&#34;hello&#34;).add(&#34;goodbye&#34;).add(&#34;hello&#34;); s.size === 2; s.has(&#34;hello&#34;) === true; // Maps var m = new Map(); m.set(&#34;hello&#34;, 42); m.set(s, 34); m.get(s) == 34; //WeakMap var wm = new WeakMap(); wm.set(s, { extra: 42 }); wm.size === undefined // Weak Sets var ws = new WeakSet(); ws.add({ data: 42 });//Because the added object has no other references, it will not be held in the set Math &#43; Number &#43; String &#43; Array &#43; Object APIs ä¸€äº›æ–°çš„ API
Number.EPSILON Number.isInteger(Infinity) // false Number.isNaN(&#34;NaN&#34;) // false Math.acosh(3) // 1.762747174039086 Math.hypot(3, 4) // 5 Math.imul(Math.pow(2, 32) - 1, Math.pow(2, 32) - 2) // 2 &#34;abcde&#34;.includes(&#34;cd&#34;) // true &#34;abc&#34;.repeat(3) // &#34;abcabcabc&#34; Array.from(document.querySelectorAll(&#39;*&#39;)) // Returns a real Array Array.of(1, 2, 3) // Similar to new Array(...), but without special one-arg behavior [0, 0, 0].fill(7, 1) // [0,7,7] [1, 2, 3].find(x =&gt; x == 3) // 3 [1, 2, 3].findIndex(x =&gt; x == 2) // 1 [1, 2, 3, 4, 5].copyWithin(3, 0) // [1, 2, 3, 1, 2] [&#34;a&#34;, &#34;b&#34;, &#34;c&#34;].entries() // iterator [0, &#34;a&#34;], [1,&#34;b&#34;], [2,&#34;c&#34;] [&#34;a&#34;, &#34;b&#34;, &#34;c&#34;].keys() // iterator 0, 1, 2 [&#34;a&#34;, &#34;b&#34;, &#34;c&#34;].values() // iterator &#34;a&#34;, &#34;b&#34;, &#34;c&#34; Object.assign(Point, { origin: new Point(0,0) }) Proxies ä½¿ç”¨ä»£ç†ï¼ˆProxyï¼‰ç›‘å¬å¯¹è±¡çš„æ“ä½œï¼Œç„¶åå¯ä»¥åšä¸€äº›ç›¸åº”äº‹æƒ…ã€‚
var target = {}; var handler = { get: function (receiver, name) { return `Hello, ${name}!`; } }; var p = new Proxy(target, handler); p.world === &#39;Hello, world!&#39;; å¯ç›‘å¬çš„æ“ä½œï¼šgetã€setã€hasã€deletePropertyã€applyã€constructã€getOwnPropertyDescriptorã€definePropertyã€getPrototypeOfã€setPrototypeOfã€enumerateã€ownKeysã€preventExtensionsã€isExtensibleã€‚
Symbols Symbol æ˜¯ä¸€ç§åŸºæœ¬ç±»å‹ã€‚Symbol é€šè¿‡è°ƒç”¨ symbol å‡½æ•°äº§ç”Ÿï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå¯é€‰çš„åå­—å‚æ•°ï¼Œè¯¥å‡½æ•°è¿”å›çš„ symbol æ˜¯å”¯ä¸€çš„ã€‚
var key = Symbol(&#34;key&#34;); var key2 = Symbol(&#34;key&#34;); key == key2 //false Promises Promises æ˜¯å¤„ç†å¼‚æ­¥æ“ä½œçš„å¯¹è±¡ï¼Œä½¿ç”¨äº† Promise å¯¹è±¡ä¹‹åå¯ä»¥ç”¨ä¸€ç§é“¾å¼è°ƒç”¨çš„æ–¹å¼æ¥ç»„ç»‡ä»£ç ï¼Œè®©ä»£ç æ›´åŠ ç›´è§‚ï¼ˆç±»ä¼¼ jQuery çš„ deferred å¯¹è±¡ï¼‰ã€‚
function fakeAjax(url) { return new Promise(function (resolve, reject) { // setTimeouts are for effect, typically we would handle XHR if (!url) { return setTimeout(reject, 1000); } return setTimeout(resolve, 1000); }); } // no url, promise rejected fakeAjax().then(function () { console.log(&#39;success&#39;); },function () { console.log(&#39;fail&#39;); }); " />
<meta name="description" content="ä¸€ã€javascript ç”±ä¸‰éƒ¨åˆ†ç»„æˆ 1.ECMAScriptï¼ˆæ ¸å¿ƒï¼‰ å®ƒè§„å®šäº†è¯­è¨€çš„ç»„æˆéƒ¨åˆ†ï¼šæ³•è¯­ï¼Œç±»å‹ï¼Œè¯­å¥ï¼Œå…³é”®å­—ï¼Œæ“ä½œç¬¦ç­‰ç­‰ã€‚
2.DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰ DOM æŠŠæ•´ä¸ªé¡µé¢æ˜ å°„ä¸ºä¸€ä¸ªå¤šå±‚èŠ‚ç‚¹ç»“æœï¼Œå¼€å‘äººå‘˜å¯å€ŸåŠ© DOM æä¾›çš„ APIï¼Œè½»æ¾åœ°åˆ é™¤ã€æ·»åŠ ã€æ›¿æ¢æˆ–ä¿®æ”¹ä»»ä½•èŠ‚ç‚¹ã€‚
3.BOMï¼ˆæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼‰ æ”¯æŒå¯ä»¥è®¿é—®å’Œæ“ä½œæµè§ˆå™¨çª—å£çš„æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼Œå¼€å‘äººå‘˜å¯ä»¥æ§åˆ¶æµè§ˆå™¨æ˜¾ç¤ºçš„é¡µé¢ä»¥å¤–çš„éƒ¨åˆ†ã€‚
äºŒã€ä»€ä¹ˆæ˜¯ ES5ï¼Ÿ ä½œä¸º ECMAScript ç¬¬äº”ä¸ªç‰ˆæœ¬ï¼ˆç¬¬å››ç‰ˆå› ä¸ºè¿‡äºå¤æ‚åºŸå¼ƒäº†ï¼‰ï¼Œæµè§ˆå™¨æ”¯æŒæƒ…å†µå¯çœ‹ç¬¬ä¸€å‰¯å›¾ï¼Œå¢åŠ ç‰¹æ€§å¦‚ä¸‹ã€‚
1.strict æ¨¡å¼ ä¸¥æ ¼æ¨¡å¼ï¼Œé™åˆ¶ä¸€äº›ç”¨æ³•ï¼Œ&lsquo;use strict&rsquo;;
2.Array å¢åŠ æ–¹æ³• å¢åŠ äº† everyã€someã€forEachã€filterã€indexOfã€lastIndexOfã€isArrayã€mapã€reduceã€reduceRight æ–¹æ³•
PSï¼šè¿˜æœ‰å…¶ä»–æ–¹æ³• Function.prototype.bindã€String.prototype.trimã€Date.now
3.Object æ–¹æ³• Object.getPrototypeOf Object.create Object.getOwnPropertyNames Object.defineProperty Object.getOwnPropertyDescriptor Object.defineProperties Object.keys Object.preventExtensions / Object.isExtensible Object.seal / Object.isSealed Object.freeze / Object.isFrozen PSï¼šåªè®²æœ‰ä»€ä¹ˆï¼Œä¸è®²æ˜¯ä»€ä¹ˆã€‚
2.ä»€ä¹ˆæ˜¯ ES6? ECMAScript6 åœ¨ä¿è¯å‘ä¸‹å…¼å®¹çš„å‰æä¸‹ï¼Œæä¾›å¤§é‡æ–°ç‰¹æ€§ï¼Œç›®å‰æµè§ˆå™¨å…¼å®¹æƒ…å†µå¦‚ä¸‹ï¼š
ES6 ç‰¹æ€§å¦‚ä¸‹ï¼š
å—çº§ä½œç”¨åŸŸ å…³é”®å­— let, å¸¸é‡ const
å¯¹è±¡å­—é¢é‡çš„å±æ€§èµ‹å€¼ç®€å†™ï¼ˆproperty value shorthandï¼‰
var obj = { // __proto__ __proto__: theProtoObj, // Shorthand for â€˜handler: handlerâ€™ handler, // Method definitions toString() { // Super calls return &#34;d &#34; &#43; super.toString(); }, // Computed (dynamic) property names [ &#39;prop_&#39; &#43; (() =&gt; 42)() ]: 42 }; èµ‹å€¼è§£æ„ let singer = { first: &#34;Bob&#34;, last: &#34;Dylan&#34; }; let { first: f, last: l } = singer; // ç›¸å½“äº f = &#34;Bob&#34;, l = &#34;Dylan&#34; let [all, year, month, day] = /^(\d\d\d\d)-(\d\d)-(\d\d)$/.exec(&#34;2015-10-25&#34;); let [x, y] = [1, 2, 3]; // x = 1, y = 2 å‡½æ•°å‚æ•° - é»˜è®¤å€¼ã€å‚æ•°æ‰“åŒ…ã€æ•°ç»„å±•å¼€ï¼ˆDefaultã€Restã€Spreadï¼‰ //Default function findArtist(name=&#39;lu&#39;, age=&#39;26&#39;) { ... } //Rest function f(x, ...y) { // y is an Array return x * y.length; } f(3, &#34;hello&#34;, true) == 6 //Spread function f(x, y, z) { return x &#43; y &#43; z; } // Pass each elem of array as argument f(...[1,2,3]) == 6 ç®­å¤´å‡½æ•° Arrow functions (1) ç®€åŒ–äº†ä»£ç å½¢å¼ï¼Œé»˜è®¤ return è¡¨è¾¾å¼ç»“æœã€‚
(2) è‡ªåŠ¨ç»‘å®šè¯­ä¹‰ thisï¼Œå³å®šä¹‰å‡½æ•°æ—¶çš„ thisã€‚å¦‚ä¸Šé¢ä¾‹å­ä¸­ï¼ŒforEach çš„åŒ¿åå‡½æ•°å‚æ•°ä¸­ç”¨åˆ°çš„ thisã€‚
6.å­—ç¬¦ä¸²æ¨¡æ¿ Template strings
var name = &#34;Bob&#34;, time = &#34;today&#34;; `Hello ${name}, how are you ${time}?` // return &#34;Hello Bob, how are you today?&#34; Iteratorsï¼ˆè¿­ä»£å™¨ï¼‰&#43; for..of è¿­ä»£å™¨æœ‰ä¸ª next æ–¹æ³•ï¼Œè°ƒç”¨ä¼šè¿”å›ï¼š
(1) è¿”å›è¿­ä»£å¯¹è±¡çš„ä¸€ä¸ªå…ƒç´ ï¼š{ done: false, value: elem }
(2) å¦‚æœå·²åˆ°è¿­ä»£å¯¹è±¡çš„æœ«ç«¯ï¼š{ done: true, value: retVal }
for (var n of [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]) { console.log(n); } // æ‰“å°aã€bã€c ç”Ÿæˆå™¨ï¼ˆGeneratorsï¼‰
Class
Classï¼Œæœ‰ constructorã€extendsã€superï¼Œä½†æœ¬è´¨ä¸Šæ˜¯è¯­æ³•ç³–ï¼ˆå¯¹è¯­è¨€çš„åŠŸèƒ½å¹¶æ²¡æœ‰å½±å“ï¼Œä½†æ˜¯æ›´æ–¹ä¾¿ç¨‹åºå‘˜ä½¿ç”¨ï¼‰ã€‚
class Artist { constructor(name) { this.name = name; } perform() { return this.name &#43; &#34; performs &#34;; } } class Singer extends Artist { constructor(name, song) { super.constructor(name); this.song = song; } perform() { return super.perform() &#43; &#34;[&#34; &#43; this.song &#43; &#34;]&#34;; } } let james = new Singer(&#34;Etta James&#34;, &#34;At last&#34;); james instanceof Artist; // true james instanceof Singer; // true james.perform(); // &#34;Etta James performs [At last]&#34; Modules ES6 çš„å†…ç½®æ¨¡å—åŠŸèƒ½å€Ÿé‰´äº† CommonJS å’Œ AMD å„è‡ªçš„ä¼˜ç‚¹ï¼š
(1) å…·æœ‰ CommonJS çš„ç²¾ç®€è¯­æ³•ã€å”¯ä¸€å¯¼å‡ºå‡ºå£ (single exports) å’Œå¾ªç¯ä¾èµ– (cyclic dependencies) çš„ç‰¹ç‚¹ã€‚
(2) ç±»ä¼¼ AMDï¼Œæ”¯æŒå¼‚æ­¥åŠ è½½å’Œå¯é…ç½®çš„æ¨¡å—åŠ è½½ã€‚
// lib/math.js export function sum(x, y) { return x &#43; y; } export var pi = 3.141593; // app.js import * as math from &#34;lib/math&#34;; alert(&#34;2Ï€ = &#34; &#43; math.sum(math.pi, math.pi)); // otherApp.js import {sum, pi} from &#34;lib/math&#34;; alert(&#34;2Ï€ = &#34; &#43; sum(pi, pi)); Module Loaders: // Dynamic loading â€“ â€˜Systemâ€™ is default loader System.import(&#39;lib/math&#39;).then(function(m) { alert(&#34;2Ï€ = &#34; &#43; m.sum(m.pi, m.pi)); }); // Directly manipulate module cache System.get(&#39;jquery&#39;); System.set(&#39;jquery&#39;, Module({$: $})); // WARNING: not yet finalized Map &#43; Set &#43; WeakMap &#43; WeakSet å››ç§é›†åˆç±»å‹ï¼ŒWeakMapã€WeakSet ä½œä¸ºå±æ€§é”®çš„å¯¹è±¡å¦‚æœæ²¡æœ‰åˆ«çš„å˜é‡åœ¨å¼•ç”¨å®ƒä»¬ï¼Œåˆ™ä¼šè¢«å›æ”¶é‡Šæ”¾æ‰ã€‚
// Sets var s = new Set(); s.add(&#34;hello&#34;).add(&#34;goodbye&#34;).add(&#34;hello&#34;); s.size === 2; s.has(&#34;hello&#34;) === true; // Maps var m = new Map(); m.set(&#34;hello&#34;, 42); m.set(s, 34); m.get(s) == 34; //WeakMap var wm = new WeakMap(); wm.set(s, { extra: 42 }); wm.size === undefined // Weak Sets var ws = new WeakSet(); ws.add({ data: 42 });//Because the added object has no other references, it will not be held in the set Math &#43; Number &#43; String &#43; Array &#43; Object APIs ä¸€äº›æ–°çš„ API
Number.EPSILON Number.isInteger(Infinity) // false Number.isNaN(&#34;NaN&#34;) // false Math.acosh(3) // 1.762747174039086 Math.hypot(3, 4) // 5 Math.imul(Math.pow(2, 32) - 1, Math.pow(2, 32) - 2) // 2 &#34;abcde&#34;.includes(&#34;cd&#34;) // true &#34;abc&#34;.repeat(3) // &#34;abcabcabc&#34; Array.from(document.querySelectorAll(&#39;*&#39;)) // Returns a real Array Array.of(1, 2, 3) // Similar to new Array(...), but without special one-arg behavior [0, 0, 0].fill(7, 1) // [0,7,7] [1, 2, 3].find(x =&gt; x == 3) // 3 [1, 2, 3].findIndex(x =&gt; x == 2) // 1 [1, 2, 3, 4, 5].copyWithin(3, 0) // [1, 2, 3, 1, 2] [&#34;a&#34;, &#34;b&#34;, &#34;c&#34;].entries() // iterator [0, &#34;a&#34;], [1,&#34;b&#34;], [2,&#34;c&#34;] [&#34;a&#34;, &#34;b&#34;, &#34;c&#34;].keys() // iterator 0, 1, 2 [&#34;a&#34;, &#34;b&#34;, &#34;c&#34;].values() // iterator &#34;a&#34;, &#34;b&#34;, &#34;c&#34; Object.assign(Point, { origin: new Point(0,0) }) Proxies ä½¿ç”¨ä»£ç†ï¼ˆProxyï¼‰ç›‘å¬å¯¹è±¡çš„æ“ä½œï¼Œç„¶åå¯ä»¥åšä¸€äº›ç›¸åº”äº‹æƒ…ã€‚
var target = {}; var handler = { get: function (receiver, name) { return `Hello, ${name}!`; } }; var p = new Proxy(target, handler); p.world === &#39;Hello, world!&#39;; å¯ç›‘å¬çš„æ“ä½œï¼šgetã€setã€hasã€deletePropertyã€applyã€constructã€getOwnPropertyDescriptorã€definePropertyã€getPrototypeOfã€setPrototypeOfã€enumerateã€ownKeysã€preventExtensionsã€isExtensibleã€‚
Symbols Symbol æ˜¯ä¸€ç§åŸºæœ¬ç±»å‹ã€‚Symbol é€šè¿‡è°ƒç”¨ symbol å‡½æ•°äº§ç”Ÿï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå¯é€‰çš„åå­—å‚æ•°ï¼Œè¯¥å‡½æ•°è¿”å›çš„ symbol æ˜¯å”¯ä¸€çš„ã€‚
var key = Symbol(&#34;key&#34;); var key2 = Symbol(&#34;key&#34;); key == key2 //false Promises Promises æ˜¯å¤„ç†å¼‚æ­¥æ“ä½œçš„å¯¹è±¡ï¼Œä½¿ç”¨äº† Promise å¯¹è±¡ä¹‹åå¯ä»¥ç”¨ä¸€ç§é“¾å¼è°ƒç”¨çš„æ–¹å¼æ¥ç»„ç»‡ä»£ç ï¼Œè®©ä»£ç æ›´åŠ ç›´è§‚ï¼ˆç±»ä¼¼ jQuery çš„ deferred å¯¹è±¡ï¼‰ã€‚
function fakeAjax(url) { return new Promise(function (resolve, reject) { // setTimeouts are for effect, typically we would handle XHR if (!url) { return setTimeout(reject, 1000); } return setTimeout(resolve, 1000); }); } // no url, promise rejected fakeAjax().then(function () { console.log(&#39;success&#39;); },function () { console.log(&#39;fail&#39;); }); " />
<meta property="og:locale" content="en-us" /><meta property="og:image" content="https://imgurl.zishu.me/favicon.ico" />

<link href="https://fonts.googleapis.com" rel="preconnect">
<link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono">
<link rel="stylesheet" href="/css/ui.css">
<script defer src="/js/dark-mode.js"></script>
<link disabled id="dark-mode-theme" rel="stylesheet" href="/css/dark.css">
<link rel="stylesheet" href="/css/dropdown.css">
<link href="/index.xml" rel="alternate" type="application/rss+xml" title="å­èˆ’çš„åšå®¢">
</head>

<body>
  <header class="container no-print">
  <div class="u-header">
    <nav class="bar">
      <ul>
        <li><img class="icon-text" id="dark-mode-toggle" src="/images/moon.svg" alt="Toggle Dark Mode"></li>

        
        <li><a href="/">é¦–é¡µ</a></li>
        
        <li><a href="/blog/">æ–‡ç« </a></li>
        
        <li><a href="/tags/">æ ‡ç­¾</a></li>
        
        <li><a href="/message/">ç•™è¨€</a></li>
        
        <li><a href="/about/">å…³äº</a></li>
        
        <li><a href="/projects/">é¡¹ç›®</a></li>
        
        <li><a href="/links/">å‹é“¾</a></li>
        
        
        <li><a href="/search/">ğŸ”</a></li>
        <li><a href="/index.xml" target="_blank">RSS</a></li>
      </ul>
    </nav>

  </div>
</header>
  <main class="container">

    <header>
      <hgroup id="brand">
        <h1>ES5 å’Œ ES6 çš„åŒºåˆ«ï¼Ÿ</h1>

        
        <h5>
          <time>2021/01/20</time>

          
          <span class="no-print">|
          
          <a href="/tags/js">#js</a>
          
          <a href="/tags/es6">#ES6</a>
          
          </span>
          

          
          
          <span class="no-print">|
            <a href="/categories/%E6%8A%80%E6%9C%AF">æŠ€æœ¯</a>
          </span>
          
          
        </h5>
        

      </hgroup>
      <hr class="sep">
    </header>
    

    
    <div class="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#ä¸€javascript-ç”±ä¸‰éƒ¨åˆ†ç»„æˆ">ä¸€ã€javascript ç”±ä¸‰éƒ¨åˆ†ç»„æˆ</a>
      <ul>
        <li><a href="#1ecmascriptæ ¸å¿ƒ">1.ECMAScriptï¼ˆæ ¸å¿ƒï¼‰</a></li>
        <li><a href="#2domæ–‡æ¡£å¯¹è±¡æ¨¡å‹">2.DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰</a></li>
        <li><a href="#3bomæµè§ˆå™¨å¯¹è±¡æ¨¡å‹">3.BOMï¼ˆæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼‰</a></li>
      </ul>
    </li>
    <li><a href="#äºŒä»€ä¹ˆæ˜¯-es5">äºŒã€ä»€ä¹ˆæ˜¯ ES5ï¼Ÿ</a>
      <ul>
        <li><a href="#1strict-æ¨¡å¼">1.strict æ¨¡å¼</a></li>
        <li><a href="#2array-å¢åŠ æ–¹æ³•">2.Array å¢åŠ æ–¹æ³•</a></li>
        <li><a href="#3object-æ–¹æ³•">3.Object æ–¹æ³•</a></li>
        <li><a href="#2ä»€ä¹ˆæ˜¯-es6">2.ä»€ä¹ˆæ˜¯ ES6?</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
    

    <article class="post-content">
      
      <h2 id="ä¸€javascript-ç”±ä¸‰éƒ¨åˆ†ç»„æˆ">ä¸€ã€javascript ç”±ä¸‰éƒ¨åˆ†ç»„æˆ</h2>
<h3 id="1ecmascriptæ ¸å¿ƒ">1.ECMAScriptï¼ˆæ ¸å¿ƒï¼‰</h3>
<p>å®ƒè§„å®šäº†è¯­è¨€çš„ç»„æˆéƒ¨åˆ†ï¼šæ³•è¯­ï¼Œç±»å‹ï¼Œè¯­å¥ï¼Œå…³é”®å­—ï¼Œæ“ä½œç¬¦ç­‰ç­‰ã€‚</p>
<h3 id="2domæ–‡æ¡£å¯¹è±¡æ¨¡å‹">2.DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰</h3>
<p>DOM æŠŠæ•´ä¸ªé¡µé¢æ˜ å°„ä¸ºä¸€ä¸ªå¤šå±‚èŠ‚ç‚¹ç»“æœï¼Œå¼€å‘äººå‘˜å¯å€ŸåŠ© DOM æä¾›çš„ APIï¼Œè½»æ¾åœ°åˆ é™¤ã€æ·»åŠ ã€æ›¿æ¢æˆ–ä¿®æ”¹ä»»ä½•èŠ‚ç‚¹ã€‚</p>
<h3 id="3bomæµè§ˆå™¨å¯¹è±¡æ¨¡å‹">3.BOMï¼ˆæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼‰</h3>
<p>æ”¯æŒå¯ä»¥è®¿é—®å’Œæ“ä½œæµè§ˆå™¨çª—å£çš„æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼Œå¼€å‘äººå‘˜å¯ä»¥æ§åˆ¶æµè§ˆå™¨æ˜¾ç¤ºçš„é¡µé¢ä»¥å¤–çš„éƒ¨åˆ†ã€‚</p>
<h2 id="äºŒä»€ä¹ˆæ˜¯-es5">äºŒã€ä»€ä¹ˆæ˜¯ ES5ï¼Ÿ</h2>
<p>ä½œä¸º ECMAScript ç¬¬äº”ä¸ªç‰ˆæœ¬ï¼ˆç¬¬å››ç‰ˆå› ä¸ºè¿‡äºå¤æ‚åºŸå¼ƒäº†ï¼‰ï¼Œæµè§ˆå™¨æ”¯æŒæƒ…å†µå¯çœ‹ç¬¬ä¸€å‰¯å›¾ï¼Œå¢åŠ ç‰¹æ€§å¦‚ä¸‹ã€‚</p>
<h3 id="1strict-æ¨¡å¼">1.strict æ¨¡å¼</h3>
<p>ä¸¥æ ¼æ¨¡å¼ï¼Œé™åˆ¶ä¸€äº›ç”¨æ³•ï¼Œ&lsquo;use strict&rsquo;;</p>
<h3 id="2array-å¢åŠ æ–¹æ³•">2.Array å¢åŠ æ–¹æ³•</h3>
<p>å¢åŠ äº† everyã€someã€forEachã€filterã€indexOfã€lastIndexOfã€isArrayã€mapã€reduceã€reduceRight æ–¹æ³•</p>
<p>PSï¼šè¿˜æœ‰å…¶ä»–æ–¹æ³• Function.prototype.bindã€String.prototype.trimã€Date.now</p>
<h3 id="3object-æ–¹æ³•">3.Object æ–¹æ³•</h3>
<ul>
<li>Object.getPrototypeOf</li>
<li>Object.create</li>
<li>Object.getOwnPropertyNames</li>
<li>Object.defineProperty</li>
<li>Object.getOwnPropertyDescriptor</li>
<li>Object.defineProperties</li>
<li>Object.keys</li>
<li>Object.preventExtensions / Object.isExtensible</li>
<li>Object.seal / Object.isSealed</li>
<li>Object.freeze / Object.isFrozen</li>
</ul>
<p>PSï¼šåªè®²æœ‰ä»€ä¹ˆï¼Œä¸è®²æ˜¯ä»€ä¹ˆã€‚</p>
<h3 id="2ä»€ä¹ˆæ˜¯-es6">2.ä»€ä¹ˆæ˜¯ ES6?</h3>
<p>ECMAScript6 åœ¨ä¿è¯å‘ä¸‹å…¼å®¹çš„å‰æä¸‹ï¼Œæä¾›å¤§é‡æ–°ç‰¹æ€§ï¼Œç›®å‰æµè§ˆå™¨å…¼å®¹æƒ…å†µå¦‚ä¸‹ï¼š</p>
<p><strong>ES6 ç‰¹æ€§å¦‚ä¸‹ï¼š</strong></p>
<ol>
<li>
<p>å—çº§ä½œç”¨åŸŸ å…³é”®å­— let, å¸¸é‡ const</p>
</li>
<li>
<p>å¯¹è±¡å­—é¢é‡çš„å±æ€§èµ‹å€¼ç®€å†™ï¼ˆproperty value shorthandï¼‰</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// __proto__
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">__proto__</span><span class="o">:</span> <span class="nx">theProtoObj</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Shorthand for â€˜handler: handlerâ€™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">handler</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Method definitions
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">toString</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Super calls
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="s2">&#34;d &#34;</span> <span class="o">+</span> <span class="kr">super</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Computed (dynamic) property names
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">[</span> <span class="s1">&#39;prop_&#39;</span> <span class="o">+</span> <span class="p">(()</span> <span class="p">=&gt;</span> <span class="mi">42</span><span class="p">)()</span> <span class="p">]</span><span class="o">:</span> <span class="mi">42</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></div><ol start="3">
<li>èµ‹å€¼è§£æ„</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">singer</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">first</span><span class="o">:</span> <span class="s2">&#34;Bob&#34;</span><span class="p">,</span> <span class="nx">last</span><span class="o">:</span> <span class="s2">&#34;Dylan&#34;</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="p">{</span> <span class="nx">first</span><span class="o">:</span> <span class="nx">f</span><span class="p">,</span> <span class="nx">last</span><span class="o">:</span> <span class="nx">l</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">singer</span><span class="p">;</span> <span class="c1">// ç›¸å½“äº f = &#34;Bob&#34;, l = &#34;Dylan&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">let</span> <span class="p">[</span><span class="nx">all</span><span class="p">,</span> <span class="nx">year</span><span class="p">,</span> <span class="nx">month</span><span class="p">,</span> <span class="nx">day</span><span class="p">]</span> <span class="o">=</span>  <span class="sr">/^(\d\d\d\d)-(\d\d)-(\d\d)$/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="s2">&#34;2015-10-25&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span> <span class="c1">// x = 1, y = 2
</span></span></span></code></pre></div><ol start="4">
<li>å‡½æ•°å‚æ•° - é»˜è®¤å€¼ã€å‚æ•°æ‰“åŒ…ã€æ•°ç»„å±•å¼€ï¼ˆDefaultã€Restã€Spreadï¼‰</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//Default
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">findArtist</span><span class="p">(</span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;lu&#39;</span><span class="p">,</span> <span class="nx">age</span><span class="o">=</span><span class="s1">&#39;26&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//Rest
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="p">...</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// y is an Array
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="k">return</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">y</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">f</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&#34;hello&#34;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//Spread
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span> <span class="o">+</span> <span class="nx">z</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Pass each elem of array as argument
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">f</span><span class="p">(...[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="o">==</span> <span class="mi">6</span>
</span></span></code></pre></div><ol start="5">
<li>ç®­å¤´å‡½æ•° Arrow functions</li>
</ol>
<p>(1) ç®€åŒ–äº†ä»£ç å½¢å¼ï¼Œé»˜è®¤ return è¡¨è¾¾å¼ç»“æœã€‚</p>
<p>(2) è‡ªåŠ¨ç»‘å®šè¯­ä¹‰ thisï¼Œå³å®šä¹‰å‡½æ•°æ—¶çš„ thisã€‚å¦‚ä¸Šé¢ä¾‹å­ä¸­ï¼ŒforEach çš„åŒ¿åå‡½æ•°å‚æ•°ä¸­ç”¨åˆ°çš„ thisã€‚</p>
<p>6.å­—ç¬¦ä¸²æ¨¡æ¿ Template strings</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">&#34;Bob&#34;</span><span class="p">,</span> <span class="nx">time</span> <span class="o">=</span> <span class="s2">&#34;today&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="sb">`Hello </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">, how are you </span><span class="si">${</span><span class="nx">time</span><span class="si">}</span><span class="sb">?`</span>
</span></span><span class="line"><span class="cl"><span class="c1">// return &#34;Hello Bob, how are you today?&#34;
</span></span></span></code></pre></div><ol start="7">
<li>Iteratorsï¼ˆè¿­ä»£å™¨ï¼‰+ for..of</li>
</ol>
<p>è¿­ä»£å™¨æœ‰ä¸ª next æ–¹æ³•ï¼Œè°ƒç”¨ä¼šè¿”å›ï¼š</p>
<p>(1) è¿”å›è¿­ä»£å¯¹è±¡çš„ä¸€ä¸ªå…ƒç´ ï¼š{ done: false, value: elem }</p>
<p>(2) å¦‚æœå·²åˆ°è¿­ä»£å¯¹è±¡çš„æœ«ç«¯ï¼š{ done: true, value: retVal }</p>
<pre tabindex="0"><code>for (var n of [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]) {
  console.log(n);
}
// æ‰“å°aã€bã€c
</code></pre><ol start="8">
<li>
<p>ç”Ÿæˆå™¨ï¼ˆGeneratorsï¼‰</p>
</li>
<li>
<p>Class</p>
</li>
</ol>
<p>Classï¼Œæœ‰ constructorã€extendsã€superï¼Œä½†æœ¬è´¨ä¸Šæ˜¯è¯­æ³•ç³–ï¼ˆå¯¹è¯­è¨€çš„åŠŸèƒ½å¹¶æ²¡æœ‰å½±å“ï¼Œä½†æ˜¯æ›´æ–¹ä¾¿ç¨‹åºå‘˜ä½¿ç”¨ï¼‰ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Artist</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">perform</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&#34; performs &#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Singer</span> <span class="kr">extends</span> <span class="nx">Artist</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">song</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kr">super</span><span class="p">.</span><span class="nx">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">song</span> <span class="o">=</span> <span class="nx">song</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">perform</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kr">super</span><span class="p">.</span><span class="nx">perform</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&#34;[&#34;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">song</span> <span class="o">+</span> <span class="s2">&#34;]&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">james</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Singer</span><span class="p">(</span><span class="s2">&#34;Etta James&#34;</span><span class="p">,</span> <span class="s2">&#34;At last&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">james</span> <span class="k">instanceof</span> <span class="nx">Artist</span><span class="p">;</span> <span class="c1">// true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">james</span> <span class="k">instanceof</span> <span class="nx">Singer</span><span class="p">;</span> <span class="c1">// true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">james</span><span class="p">.</span><span class="nx">perform</span><span class="p">();</span> <span class="c1">// &#34;Etta James performs [At last]&#34;
</span></span></span></code></pre></div><ol start="10">
<li>Modules</li>
</ol>
<p>ES6 çš„å†…ç½®æ¨¡å—åŠŸèƒ½å€Ÿé‰´äº† CommonJS å’Œ AMD å„è‡ªçš„ä¼˜ç‚¹ï¼š</p>
<p>(1) å…·æœ‰ CommonJS çš„ç²¾ç®€è¯­æ³•ã€å”¯ä¸€å¯¼å‡ºå‡ºå£ (single exports) å’Œå¾ªç¯ä¾èµ– (cyclic dependencies) çš„ç‰¹ç‚¹ã€‚</p>
<p>(2) ç±»ä¼¼ AMDï¼Œæ”¯æŒå¼‚æ­¥åŠ è½½å’Œå¯é…ç½®çš„æ¨¡å—åŠ è½½ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// lib/math.js
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kd">var</span> <span class="nx">pi</span> <span class="o">=</span> <span class="mf">3.141593</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// app.js
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">math</span> <span class="nx">from</span> <span class="s2">&#34;lib/math&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">alert</span><span class="p">(</span><span class="s2">&#34;2Ï€ = &#34;</span> <span class="o">+</span> <span class="nx">math</span><span class="p">.</span><span class="nx">sum</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">pi</span><span class="p">,</span> <span class="nx">math</span><span class="p">.</span><span class="nx">pi</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// otherApp.js
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="p">{</span><span class="nx">sum</span><span class="p">,</span> <span class="nx">pi</span><span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;lib/math&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">alert</span><span class="p">(</span><span class="s2">&#34;2Ï€ = &#34;</span> <span class="o">+</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">pi</span><span class="p">,</span> <span class="nx">pi</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Module</span> <span class="nx">Loaders</span><span class="o">:</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Dynamic loading â€“ â€˜Systemâ€™ is default loader
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">System</span><span class="p">.</span><span class="kr">import</span><span class="p">(</span><span class="s1">&#39;lib/math&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">alert</span><span class="p">(</span><span class="s2">&#34;2Ï€ = &#34;</span> <span class="o">+</span> <span class="nx">m</span><span class="p">.</span><span class="nx">sum</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">pi</span><span class="p">,</span> <span class="nx">m</span><span class="p">.</span><span class="nx">pi</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Directly manipulate module cache
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">System</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">System</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">,</span> <span class="nx">Module</span><span class="p">({</span><span class="nx">$</span><span class="o">:</span> <span class="nx">$</span><span class="p">}));</span> <span class="c1">// WARNING: not yet finalized
</span></span></span></code></pre></div><ol start="11">
<li>Map + Set + WeakMap + WeakSet</li>
</ol>
<p>å››ç§é›†åˆç±»å‹ï¼ŒWeakMapã€WeakSet ä½œä¸ºå±æ€§é”®çš„å¯¹è±¡å¦‚æœæ²¡æœ‰åˆ«çš„å˜é‡åœ¨å¼•ç”¨å®ƒä»¬ï¼Œåˆ™ä¼šè¢«å›æ”¶é‡Šæ”¾æ‰ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// Sets
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Set</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">s</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">).</span><span class="nx">add</span><span class="p">(</span><span class="s2">&#34;goodbye&#34;</span><span class="p">).</span><span class="nx">add</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">s</span><span class="p">.</span><span class="nx">size</span> <span class="o">===</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">s</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">)</span> <span class="o">===</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Maps
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Map</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">m</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">,</span> <span class="mi">42</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">m</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="mi">34</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">m</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="o">==</span> <span class="mi">34</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//WeakMap
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">wm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WeakMap</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">wm</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="p">{</span> <span class="nx">extra</span><span class="o">:</span> <span class="mi">42</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">wm</span><span class="p">.</span><span class="nx">size</span> <span class="o">===</span> <span class="kc">undefined</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Weak Sets
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WeakSet</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">ws</span><span class="p">.</span><span class="nx">add</span><span class="p">({</span> <span class="nx">data</span><span class="o">:</span> <span class="mi">42</span> <span class="p">});</span><span class="c1">//Because the added object has no other references, it will not be held in the set
</span></span></span></code></pre></div><ol start="12">
<li>Math + Number + String + Array + Object APIs</li>
</ol>
<p>ä¸€äº›æ–°çš„ API</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nb">Number</span><span class="p">.</span><span class="nx">EPSILON</span>
</span></span><span class="line"><span class="cl"><span class="nb">Number</span><span class="p">.</span><span class="nx">isInteger</span><span class="p">(</span><span class="kc">Infinity</span><span class="p">)</span> <span class="c1">// false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="s2">&#34;NaN&#34;</span><span class="p">)</span> <span class="c1">// false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nb">Math</span><span class="p">.</span><span class="nx">acosh</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1">// 1.762747174039086
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">Math</span><span class="p">.</span><span class="nx">hypot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="c1">// 5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">Math</span><span class="p">.</span><span class="nx">imul</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">// 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;abcde&#34;</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">&#34;cd&#34;</span><span class="p">)</span> <span class="c1">// true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="s2">&#34;abc&#34;</span><span class="p">.</span><span class="nx">repeat</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1">// &#34;abcabcabc&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nb">Array</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">))</span> <span class="c1">// Returns a real Array
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">Array</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">// Similar to new Array(...), but without special one-arg behavior
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">].</span><span class="nx">fill</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">// [0,7,7]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">find</span><span class="p">(</span><span class="nx">x</span> <span class="p">=&gt;</span> <span class="nx">x</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">// 3
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">findIndex</span><span class="p">(</span><span class="nx">x</span> <span class="p">=&gt;</span> <span class="nx">x</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">// 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">].</span><span class="nx">copyWithin</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">// [1, 2, 3, 1, 2]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">[</span><span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="s2">&#34;b&#34;</span><span class="p">,</span> <span class="s2">&#34;c&#34;</span><span class="p">].</span><span class="nx">entries</span><span class="p">()</span> <span class="c1">// iterator [0, &#34;a&#34;], [1,&#34;b&#34;], [2,&#34;c&#34;]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">[</span><span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="s2">&#34;b&#34;</span><span class="p">,</span> <span class="s2">&#34;c&#34;</span><span class="p">].</span><span class="nx">keys</span><span class="p">()</span> <span class="c1">// iterator 0, 1, 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">[</span><span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="s2">&#34;b&#34;</span><span class="p">,</span> <span class="s2">&#34;c&#34;</span><span class="p">].</span><span class="nx">values</span><span class="p">()</span> <span class="c1">// iterator &#34;a&#34;, &#34;b&#34;, &#34;c&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">Point</span><span class="p">,</span> <span class="p">{</span> <span class="nx">origin</span><span class="o">:</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">})</span>
</span></span></code></pre></div><ol start="13">
<li>Proxies</li>
</ol>
<p>ä½¿ç”¨ä»£ç†ï¼ˆProxyï¼‰ç›‘å¬å¯¹è±¡çš„æ“ä½œï¼Œç„¶åå¯ä»¥åšä¸€äº›ç›¸åº”äº‹æƒ…ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">target</span> <span class="o">=</span> <span class="p">{};</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">handler</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">receiver</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="sb">`Hello, </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">!`</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Proxy</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="nx">handler</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">p</span><span class="p">.</span><span class="nx">world</span> <span class="o">===</span> <span class="s1">&#39;Hello, world!&#39;</span><span class="p">;</span>
</span></span></code></pre></div><p>å¯ç›‘å¬çš„æ“ä½œï¼šgetã€setã€hasã€deletePropertyã€applyã€constructã€getOwnPropertyDescriptorã€definePropertyã€getPrototypeOfã€setPrototypeOfã€enumerateã€ownKeysã€preventExtensionsã€isExtensibleã€‚</p>
<ol start="14">
<li>Symbols</li>
</ol>
<p>Symbol æ˜¯ä¸€ç§åŸºæœ¬ç±»å‹ã€‚Symbol é€šè¿‡è°ƒç”¨ symbol å‡½æ•°äº§ç”Ÿï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå¯é€‰çš„åå­—å‚æ•°ï¼Œè¯¥å‡½æ•°è¿”å›çš„ symbol æ˜¯å”¯ä¸€çš„ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s2">&#34;key&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">key2</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s2">&#34;key&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">key</span> <span class="o">==</span> <span class="nx">key2</span>  <span class="c1">//false
</span></span></span></code></pre></div><ol start="15">
<li>Promises</li>
</ol>
<p>Promises æ˜¯å¤„ç†å¼‚æ­¥æ“ä½œçš„å¯¹è±¡ï¼Œä½¿ç”¨äº† Promise å¯¹è±¡ä¹‹åå¯ä»¥ç”¨ä¸€ç§é“¾å¼è°ƒç”¨çš„æ–¹å¼æ¥ç»„ç»‡ä»£ç ï¼Œè®©ä»£ç æ›´åŠ ç›´è§‚ï¼ˆç±»ä¼¼ jQuery çš„ deferred å¯¹è±¡ï¼‰ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">fakeAjax</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// setTimeouts are for effect, typically we would handle XHR
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">url</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">reject</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// no url, promise rejected
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">fakeAjax</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;success&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;fail&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div>
    </article>

    
    <hr class="sep">
<ul class="comment-tabs">
  
  <li>LinuxDo</li>
  
  <li>Giscus</li>
  <li>Twikoo</li>
</ul>
<div class="comments">
  
  <div>
    <div id='discourse-comments'></div>
    <meta name='discourse-username' content='anghunk'>
    <script type="text/javascript">
      DiscourseEmbed = {
        discourseUrl: 'https://linux.do/',
        discourseEmbedUrl: 'https://zishu.me\/blog\/48.html\/',
        
      };

      (function() {
        var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
        d.src = DiscourseEmbed.discourseUrl + 'javascripts/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
      })();
    </script>
  </div>
  
  <div class="giscus"></div>
  <div id="tcomment"></div>
</div>
<script 
  src="https://giscus.app/client.js" 
  data-repo="ezyshu/hugo-blog" 
  data-repo-id="R_kgDOJkJvtw"
  data-category="Announcements" 
  data-category-id="DIC_kwDOJkJvt84CX9d6" 
  data-mapping="pathname" 
  data-strict="0"
  data-reactions-enabled="1" 
  data-emit-metadata="1" 
  data-input-position="top" 
  data-theme="light"
  data-lang="zh-CN" 
  data-loading="lazy" 
  crossorigin="anonymous" 
  async>
</script>

<script src="https://cdn.jsdelivr.net/npm/twikoo@1.6.42/dist/twikoo.min.js"></script>
<script>
twikoo.init({
  envId: 'https://twikoo.zishu.me/.netlify/functions/twikoo',
  el: '#tcomment',
  lang: 'zh-CN', 
})
</script>

<script>
document.querySelectorAll('.comment-tabs li').forEach((tab, index) => {
  if (index === 0) {
    document.querySelectorAll('.comment-tabs li')[0].classList.add('active');
    document.querySelectorAll('.comments > div')[0].classList.add('active');
  }
  
  tab.addEventListener('click', function() {
    document.querySelectorAll('.comment-tabs li').forEach(sibling => {
      sibling.classList.remove('active');
    });
    this.classList.add('active');
    
    document.querySelectorAll('.comments > div').forEach(content => {
      content.classList.remove('active');
    });
    document.querySelectorAll('.comments > div')[index].classList.add('active');
  });
});
</script>

<style>
  .comment-tabs {
    display: flex;
    margin-top: 3em;
  }
  .comment-tabs li {
    margin-right: 40px;
    cursor: pointer;
  }
  .comment-tabs li.active {
    text-decoration: underline;
  }
  .comments > div.active {
    display: block;
  }
  .comments > div {
    display: none;
  }
</style>
    
    
  </main>
  <footer class="container no-print">
  <div class="u-footer">
    Â© 2020 - 2025 Powered by å­èˆ’
    <a href="https://github.com/ezyshu/" target="_blank"><img class="icon-social" src="https://unpkg.com/simple-icons@v15/icons/github.svg" alt=""></a>
    <a href="/index.xml" target="_blank" title="RSS Feed"><img class="icon-social" src="https://unpkg.com/simple-icons@v15/icons/RSS.svg" alt=""></a>
  </div>
  <img src="https://profile-counter.glitch.me/zishu_me/count.svg" alt="count" style="display:none;">
  <p>Ad Astra Per Aspera.</p>
</footer>


</body>

</html>
<!DOCTYPE html>
<html class="no-js" lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>关于 HugoFast 这个项目 - 子舒的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">

	<link rel="stylesheet" href="/css/style.css">
	

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="topbar">
		<a class="topbar__link" href="/" title="子舒的博客" rel="sidebar">
			<div class="topbar__item topbar__text">
					<div class="topbar__title">子舒的博客</div>
					<div class="topbar__tagline">The Tao that is utterable is not the eternal Tao</div>
				</div>
		</a>
	</div>
		
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于 HugoFast 这个项目</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<time class="meta__text" datetime="2023-06-02T00:00:00Z">June 02, 2023</time></div></div>
		</header>
		<div class="content post__content clearfix">
			<p>项目来源于我的突发奇想，并且基于热爱折腾的心理，利用 GitHub 本身提供的 Api，将博客管理面板化。</p>
<p>目前仅支持 hugo，其他程序有对应的工具，就不造轮子了。</p>
<p>Github: <a href="https://github.com/dlzmoe/HugoFast">https://github.com/dlzmoe/HugoFast</a><br>
网站：<a href="https://hugofast.netlify.app/">https://hugofast.netlify.app/</a><br>
用户文档：<a href="https://hugofast-docs.netlify.app/">https://hugofast-docs.netlify.app/</a></p>
<h2 id="1-自托管">1. 自托管</h2>
<p>前往 <a href="https://github.com/dlzmoe/HugoFast">https://github.com/dlzmoe/HugoFast</a> fork 本项目，然后下载到本地。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone https://github.com/dlzmoe/HugoFast.git
</span></span></code></pre></div><p>::: warning
这里默认你有一定的代码基础，本地提前安装好了 node 依赖等。
:::</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 进入项目安装依赖包</span>
</span></span><span style="display:flex;"><span>cd HugoFast
</span></span><span style="display:flex;"><span>yarn
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 使用 `yarn serve` 运行项目</span>
</span></span><span style="display:flex;"><span>yarn serve
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 打包到 dist 文件</span>
</span></span><span style="display:flex;"><span>yarn build
</span></span></code></pre></div><p>打包后的文件可以放在的任意空间部署。</p>
<h2 id="2-准备工作">2. 准备工作</h2>
<h3 id="1-获取-github-token">(1) 获取 Github Token</h3>
<p>前往 <a href="https://github.com/settings/tokens/">https://github.com/settings/tokens/</a> 。</p>
<p><img src="https://imgurl.zishu.me/images/old/image.78dovytsm800.png" alt="image"></p>
<p>新建一个 token，选择 repo / user 这两个权限，名称随意，最后生成 token。</p>
<p>注意要保存好这个密钥，在新的终端打开网站需要用到这个密钥。</p>
<h3 id="2-操作-hugo-源码仓库">(2) 操作 hugo 源码仓库</h3>
<p>前往你的 hugo 源码仓库，如下图。</p>
<p><img src="https://imgurl.zishu.me/images/old/image.3uzka7ljq5k0.webp" alt="image"></p>
<p><img src="https://imgurl.zishu.me/images/old/image.61dcey3vxtk0.webp" alt="image"></p>
<p>在仓库的 <code>setting/actions</code>，滑到最下面，打开 actions 的 pr 权限，不然 actions 自动部署会失败。</p>
<p><img src="https://imgurl.zishu.me/images/old/image.22kcble6v8zk.webp" alt="image"></p>
<h3 id="3-添加-githubworkflowsmainyml">(3) 添加 <code>.github/workflows/main.yml</code></h3>
<p>点击 <code>actions</code> &gt; <code>set up a workflow yourself</code> 新建一个 actions 工作流。</p>
<p>注意：
<code>git config --global user.email &quot;&quot;</code> 和 <code>git config --global user.name &quot;&quot;</code> 里面要填写你的 GitHub 邮箱以及用户名。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">name</span>: <span style="color:#ae81ff">hugo deploy</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">on</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">push</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">workflow_dispatch</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">schedule</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Runs everyday at 8:00 AM</span>
</span></span><span style="display:flex;"><span>        - <span style="color:#f92672">cron</span>: <span style="color:#e6db74">&#34;0 0 * * *&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">jobs</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">build</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">runs-on</span>: <span style="color:#ae81ff">ubuntu-latest</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">steps</span>:
</span></span><span style="display:flex;"><span>            - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Checkout</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">actions/checkout@v2</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">with</span>:
</span></span><span style="display:flex;"><span>                  <span style="color:#f92672">submodules</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>                  <span style="color:#f92672">fetch-depth</span>: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Setup Hugo</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">peaceiris/actions-hugo@v2</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">with</span>:
</span></span><span style="display:flex;"><span>                  <span style="color:#f92672">hugo-version</span>: <span style="color:#e6db74">&#34;latest&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Build Web</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">run</span>: <span style="color:#ae81ff">hugo</span>
</span></span><span style="display:flex;"><span>            - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Commit changes</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">run</span>: |<span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                git config --global user.email &#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                git config --global user.name &#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                git pull
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                git add .
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                git commit -m &#34;my commit&#34;</span>                
</span></span><span style="display:flex;"><span>            - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Push changes</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">ad-m/github-push-action@master</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">with</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">github_token</span>: <span style="color:#ae81ff">${{ secrets.GITHUB_TOKEN }}</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">branch</span>: <span style="color:#ae81ff">main</span>
</span></span></code></pre></div><h2 id="3-hugofast-网站">3. HugoFast 网站</h2>
<p>使用官方提供的版本。</p>
<p>在线管理：<a href="https://hugofast.netlify.app/">https://hugofast.netlify.app/</a></p>
<p><img src="https://imgurl.zishu.me/images/old/image.5ocupnuzhjs0.webp" alt="image"></p>
<p>第一行：获取的 GitHub Token<br>
第二行：hugo 源码仓库</p>
<p><img src="https://imgurl.zishu.me/images/old/image.5jmwjxbnk0c0.webp" alt="image"></p>
<p>填写完成后，会自动获取文章目录，选择后点击确认。</p>
<p><img src="https://imgurl.zishu.me/images/old/2023/647e9e250aeff.png" alt="image"></p>
<p>进入网站就可以正常使用功能了，如修改文章，发布新文章，其他功能还在开发中。</p>
<hr>
<p>未完待续&hellip;</p>

		</div>
	</article>
</main>



			</div>
			
		</div>
		
		
	</div>
<script async defer src="/js/menu.js"></script>

  <script>
    MathJax = {
      tex: {
        inlineMath: [["$", "$"]],
      },
      displayMath: [
        ["$$", "$$"],
        ["\[\[", "\]\]"],
      ],
      svg: {
        fontCache: "global",
      },
    };
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script
    id="MathJax-script"
    async
    src="https://gcore.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
  ></script>
</body>
</html>
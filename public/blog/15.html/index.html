<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8" />
<meta name="generator" content="Hugo 0.146.5">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="toTop" content="true">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="author" content="map[email:anghunk@gmail.com name:å­èˆ’]" />
<meta property="og:url" content="https://zishu.me/blog/15.html/" />
<link rel="canonical" href="https://zishu.me/blog/15.html/" /><link rel="apple-touch-icon" href="https://imgurl.zishu.me/favicon.ico" />
<link rel="icon" href="https://imgurl.zishu.me/favicon.ico" />
<link rel="shortcut" href="https://imgurl.zishu.me/favicon.ico" /><link rel="alternate" type="application/atom+xml" href="https://zishu.me/index.xml" title="å­èˆ’çš„åšå®¢">
<script type="application/ld+json">
{
"@context" : "http://schema.org",
"@type" : "BlogPosting",
"mainEntityOfPage": {
"@type": "WebPage",
"@id": "https:\/\/zishu.me\/"
},
"articleSection" : "blog",
"name" : "é¢å‘å¯¹è±¡ç¼–ç¨‹",
"headline" : "é¢å‘å¯¹è±¡ç¼–ç¨‹",
"description" : "é¢å‘å¯¹è±¡æŠŠæ„æˆé—®é¢˜çš„ transaction åˆ†è§£æˆå„ä¸ªå¯¹è±¡ï¼Œè€Œå»ºç«‹å¯¹è±¡çš„ç›®çš„ä¹Ÿä¸æ˜¯ä¸ºäº†å®Œæˆä¸€ä¸ªä¸ªæ­¥éª¤ï¼Œè€Œæ˜¯ä¸ºäº†æè¿°æŸä¸ªäº‹ç‰©åœ¨è§£å†³æ•´ä¸ªé—®é¢˜çš„è¿‡ç¨‹ä¸­æ‰€å‘ç”Ÿçš„è¡Œä¸ºï¼Œæ„åœ¨å†™å‡ºé€šç”¨ä»£ç ï¼ŒåŠ å¼ºä»£ç é‡ç”¨ï¼Œå±è”½å·®å¼‚æ€§ã€‚\nä¸€ã€ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ js æ˜¯åŸºäºåŸå‹çš„ï¼ŒåŸºäºé¢å‘å¯¹è±¡ç¼–ç¨‹\né¢å‘å¯¹è±¡å°±æ˜¯æŠŠæ•°æ®å’Œå¯¹æ•°æ®çš„æ“ä½œæ–¹æ³•æ”¾åœ¨ä¸€èµ·ï¼Œä½œä¸ºä¸€ä¸ªæ•´ä½“â€”â€”å¯¹è±¡ã€‚å¯¹åŒç±»å¯¹è±¡æŠ½è±¡å‡ºå…¶å…±æ€§ï¼Œå½¢æˆç±»\n1.é¢å‘è¿‡ç¨‹ç¨‹åºè®¾è®¡ å°†ä¸€ä¸ªé¡¹ç›®ï¼ˆæˆ–è€…ä¸€ä¸ªäº‹ä»¶ï¼‰ä»å¤´åˆ°å°¾æŒ‰é¡ºåºï¼Œä¸€æ­¥ä¸€æ­¥å®Œæˆï¼Œå…ˆåšä»€ä¹ˆï¼Œååšä»€ä¹ˆï¼Œä¸€ç›´åˆ°ç»“æŸï¼Œä¹Ÿæ˜¯æˆ‘ä»¬äººåšäº‹çš„æ–¹æ³•ã€‚\nè‡ªä¸Šè€Œä¸‹ï¼Œå…ˆç¡®å®šä¸€ä¸ªæ•´ä½“çš„æ¡†æ¶ï¼Œç„¶åæ·»ç –åŠ ç“¦ï¼Œé€æ­¥å®ç°æƒ³è¦å¾—åˆ°çš„æ•ˆæœï¼Œé€‚ç”¨äºç®€å•çš„ç³»ç»Ÿï¼Œå®¹æ˜“ç†è§£ã€‚ä½†æ˜¯éš¾ä»¥åº”å¯¹å¤æ‚çš„ç³»ç»Ÿï¼Œä¸æ˜“ç»´æŠ¤æ‰©å±•ï¼Œéš¾ä»¥å¤ç”¨\né¢å‘è¿‡ç¨‹æ˜¯åˆ†æè§£å†³é—®é¢˜çš„æ­¥éª¤ï¼Œç„¶åç”¨å‡½æ•°æŠŠè¿™äº›æ­¥éª¤ä¸€æ­¥ä¸€æ­¥çš„å®ç°ï¼Œç„¶ååœ¨ä½¿ç”¨çš„æ—¶å€™ä¸€ä¸€è°ƒç”¨åˆ™å¯ã€‚å¼ºè°ƒçš„æ˜¯å®Œæˆè¿™ä»¶äº‹å„¿çš„åŠ¨ä½œï¼Œæ›´æ¥è¿‘æˆ‘ä»¬æ—¥å¸¸å¤„ç†äº‹æƒ…çš„æ€ç»´ã€‚\n2.é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ å°†ä¸€ä¸ªé¡¹ç›®ï¼ˆæˆ–è€…ä¸€ä¸ªäº‹ä»¶ï¼‰åˆ†æˆæ›´å°çš„é¡¹ç›®ï¼Œæ¯ä¸€ä¸ªéƒ¨åˆ†è´Ÿè´£ä¸€æ–¹é¢çš„åŠŸèƒ½ï¼Œæœ€åç”±è¿™äº›éƒ¨åˆ†ç»„æˆä¸€ä¸ªæ•´ä½“ï¼Œå…ˆè®¾è®¡ç»„ä»¶ï¼Œåœ¨å®Œæˆæ‹¼è£…ï¼Œé€‚ç”¨äºå¤§å‹å¤æ‚çš„ç³»ç»Ÿ\né¢å‘å¯¹è±¡æŠŠæ„æˆé—®é¢˜çš„ transaction åˆ†è§£æˆå„ä¸ªå¯¹è±¡ï¼Œè€Œå»ºç«‹å¯¹è±¡çš„ç›®çš„ä¹Ÿä¸æ˜¯ä¸ºäº†å®Œæˆä¸€ä¸ªä¸ªæ­¥éª¤ï¼Œè€Œæ˜¯ä¸ºäº†æè¿°æŸä¸ªäº‹ç‰©åœ¨è§£å†³æ•´ä¸ªé—®é¢˜çš„è¿‡ç¨‹ä¸­æ‰€å‘ç”Ÿçš„è¡Œä¸ºï¼Œæ„åœ¨å†™å‡ºé€šç”¨ä»£ç ï¼ŒåŠ å¼ºä»£ç é‡ç”¨ï¼Œå±è”½å·®å¼‚æ€§ã€‚\næƒ³è¦å¼„æ˜ç™½é¢å‘å¯¹è±¡ï¼Œéœ€è¦å…ˆç†è§£ç±»å’Œå¯¹è±¡çš„æ¦‚å¿µ\nã€Šä»€ä¹ˆæ˜¯ç±»å’Œå¯¹è±¡ï¼Ÿã€‹\näºŒã€åˆ›å»ºå¯¹è±¡çš„æ–¹æ³• 1.åˆ›å»ºå­—é¢é‡å’Œå®ä¾‹ window.onload = function() { \/\/ å®ä¾‹ var person = new Object(); person.name = \u0026#39;å°æ˜\u0026#39;; person.age = 22; person.year = function() { console.log(this.name \u002b \u0026#39;ä»Šå¹´\u0026#39; \u002b this.age \u002b \u0026#39;å²äº†ï¼\u0026#39;) }; person.year(); \/\/ å­—é¢é‡ var student = { name: \u0026#39;å°æ˜\u0026#39;, age: 22, year: function () { console.log(this.name \u002b \u0026#39;ä»Šå¹´\u0026#39; \u002b this.age \u002b \u0026#39;å²äº†ï¼\u0026#39;) } } student.year(); } \/\/ å°æ˜ä»Šå¹´22å²äº†ï¼ ä¸¤è€…è¾“å‡ºçš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œæ§åˆ¶å°è¾“å‡ºï¼š\nç¼ºç‚¹ï¼šé‡å¤å®ä¾‹åŒ–å¯¹è±¡ï¼Œä»£ç å†—ä½™é«˜\n2.å·¥å‚æ¨¡å¼ window.onload = function() { function createObj(name, age) { var obj = new Object(); obj.name = name, obj.age = age, obj.year = function() { console.log(this.name \u002b \u0026#39;ä»Šå¹´\u0026#39; \u002b this.age \u002b \u0026#39;å²äº†ï¼\u0026#39;) } return obj; } var obj = createObj(\u0026#39;å°æ˜\u0026#39;, 22); obj.year(); } \/\/ å°æ˜ä»Šå¹´22å²äº†ï¼ ä¼˜ç‚¹ï¼šè§£å†³é‡å¤å®ä¾‹åŒ–å¯¹è±¡çš„é—®é¢˜ ç¼ºç‚¹ï¼šæ— æ³•è¯†åˆ«å¯¹è±¡çš„ç±»å‹ï¼Œå› ä¸ºæ‰€æœ‰çš„å®ä¾‹éƒ½æŒ‡å‘ä¸€ä¸ªåŸå‹\n3.æ„é€ å‡½æ•° window.onload = function() { function Person(name, age) { this.name = name; this.age = age; this.year = function() { console.log(this.name \u002b \u0026#39;ä»Šå¹´\u0026#39; \u002b this.age \u002b \u0026#39;å²äº†ï¼\u0026#39;) } } var student = new Person(\u0026#39;å°æ˜\u0026#39;, 22); student.year(); } \/\/ å°æ˜ä»Šå¹´22å²äº†ï¼ ä¼˜ç‚¹ï¼šå¯ä»¥è¯†åˆ«å¯¹è±¡çš„ç±»å‹ ç¼ºç‚¹ï¼šå¤šä¸ªå®ä¾‹é‡å¤åˆ›å»ºæ–¹æ³•ï¼Œæ— æ³•å…±äº«\n4. åŸå‹æ¨¡å¼ window.onload = function() { function Par() {} Par.prototype = { constructor: \u0026#39;Par\u0026#39;, name: \u0026#39;å°æ˜\u0026#39;, age: 22, year: function() { console.log(this.name \u002b \u0026#39;ä»Šå¹´\u0026#39; \u002b this.age \u002b \u0026#39;å²äº†ï¼\u0026#39;) } }; var son = new Par(); son.year(); } \/\/ å°æ˜ä»Šå¹´22å²äº†ï¼ ç¼ºç‚¹ï¼šæ‰€æœ‰å®ä¾‹å…±äº«ä»–çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ä¼ å‚å’Œåˆå§‹åŒ–å±æ€§å€¼\n5.æ··åˆæ¨¡å¼ (æ¨èä½¿ç”¨) æ˜¯æ„é€ å‡½æ•°å’ŒåŸå‹æ¨¡å¼æ··åˆçš„å†™æ³•ï¼Œæ‹¥æœ‰å„è‡ªçš„ä¼˜ç‚¹ï¼Œæ„é€ å‡½æ•°å…±äº«å®ä¾‹å±æ€§ï¼ŒåŸå‹æ¨¡å¼å…±äº«æ–¹æ³•å’Œæƒ³è¦å…±äº«çš„å±æ€§ï¼Œå¯ä»¥ä¼ å‚å’Œåˆå§‹åŒ–å±æ€§å€¼\nå…ˆç”¨æ„é€ å‡½æ•°å®šä¹‰å¯¹è±¡çš„å±æ€§æ–¹æ³•ï¼Œç„¶åç”¨åŸå‹æ¨¡å¼åˆ›å»ºæ–¹æ³•ï¼Œä½¿ç”¨çš„å±æ€§é€šè¿‡ prototype è·å–ï¼Œæœ‰ä¸€ä¸ª constructor å±æ€§ï¼Œå¯ä»¥æŒ‡å‘è¦æ“ä½œçš„å‡½æ•°å¯¹è±¡ï¼ˆæ„é€ å‡½æ•°ï¼‰\næ¯”å¦‚constructor: Parï¼Œå°±ä»£è¡¨ä¸‹é¢è¿™ä¸ªåŸå‹æ–¹æ³•æŒ‡å‘Par()å¯¹è±¡ï¼ˆæ„é€ å‡½æ•°ï¼‰\nwindow.onload = function() { function Par(name, age) { this.name = name; this.age = age; } Par.prototype = { constructor: Par, year: function() { console.log(this.name \u002b \u0026#39;ä»Šå¹´\u0026#39; \u002b this.age \u002b \u0026#39;å²äº†ï¼\u0026#39;); } }; var son = new Par(\u0026#39;å°æ˜\u0026#39;, 22) son.year(); } \/\/ å°æ˜ä»Šå¹´22å²äº†ï¼ ä¸‰ã€åŸå‹ï¼ŒåŸå‹é“¾ 1.åŸå‹å¯¹è±¡ å‡½æ•°å¯¹è±¡éƒ½å…·æœ‰prototypeå±æ€§ï¼Œå®ƒæŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ (æµè§ˆå™¨å†…å­˜åˆ›å»ºçš„å¯¹è±¡)ï¼ŒåŸå‹å¯¹è±¡éƒ½å…·æœ‰constructorå±æ€§ï¼Œå®ƒæŒ‡å‘prototypeå±æ€§æ‰€åœ¨çš„å‡½æ•°å¯¹è±¡ (æ„é€ å‡½æ•°) window.onload = function() { function Par(name, age) { this.name = name; this.age = age; } Par.prototype = { \/\/ constructoræŒ‡å‘å¯¹è±¡ constructor: Par, year: function() { console.log(this.name \u002b \u0026#39;ä»Šå¹´\u0026#39; \u002b this.age \u002b \u0026#39;å²äº†ï¼\u0026#39;); } }; var son = new Par(\u0026#39;å°æ˜\u0026#39;, 22) son.year(); \/*********************************************\/ console.log(Par.prototype) console.log(Par.prototype.constructor) \/*********************************************\/ } é€šè¿‡æ§åˆ¶å°å¯ä»¥çœ‹åˆ°\næ„é€ å‡½æ•°çš„prototyprå±æ€§æŒ‡å‘åŸå‹å¯¹è±¡\nåŸå‹å¯¹è±¡çš„construcyorå±æ€§æŒ‡å‘æ„é€ å‡½æ•°\nå½“è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå®ä¾‹åï¼Œè¯¥å®ä¾‹ä¼šæœ‰ä¸€ä¸ªéšè—å±æ€§__proto__ ï¼Œå®ƒæŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ console.log(son.__proto__ === Par.prototype) \/\/ true æ‰€æœ‰çš„æ„é€ å‡½æ•°çš„ prototype éƒ½æ˜¯ object ç±»å‹ console.log(typeof Par.prototype) \/\/ object Function çš„ prototype æ˜¯ä¸€ä¸ªç©ºå‡½æ•°ï¼Œæ‰€æœ‰å†…ç½®å‡½æ•°çš„__proto__å±æ€§éƒ½æŒ‡å‘è¿™ä¸ªç©ºå‡½æ•° console.log(Math.__proto__) å¦‚æœæ„é€ å‡½æ•°å®ä¾‹å’ŒåŸå‹å¯¹è±¡ä¸­åŒæ—¶å®šä¹‰äº†ä¸€ä¸ªå±æ€§ï¼Œåœ¨è°ƒç”¨æ—¶ï¼Œä¼šå±è”½åŸå‹å¯¹è±¡ä¸­çš„å±æ€§ï¼Œå¦‚æœæƒ³è¦è®¿é—®åŸå‹å¯¹è±¡ä¸­çš„å±æ€§å€¼ï¼Œéœ€è¦é€šè¿‡deleteæ–¹æ³•å°†åŒåå±æ€§åœ¨å®ä¾‹ï¼ˆæ„é€ å‡½æ•°ï¼‰ä¸­å½»åº•åˆ é™¤ window.onload = function () { function Par(name) { this.name = name; } Par.prototype.name = \u0026#34;å¼ ä¸‰\u0026#34;; var son = new Par(\u0026#34;æå››\u0026#34;); console.log(son.name); \/\/ æå›› console.log(son.__proto__.name); \/\/ å¼ ä¸‰ \/\/ ä½¿ç”¨ delete åˆ é™¤å®ä¾‹çš„åŒåå±æ€§å€¼ console.log(delete son.name); \/\/ true console.log(son.name); \/\/ å¼ ä¸‰ } é€šè¿‡hasOwnProperty(å±æ€§å)å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå±æ€§å­˜åœ¨äºæ„é€ å‡½æ•°ä¸­ï¼Œè¿˜æ˜¯åŸå‹å¯¹è±¡ä¸­ trueè¡¨ç¤ºå­˜åœ¨æ„é€ å‡½æ•°ä¸­ï¼›falseè¡¨ç¤ºå­˜åœ¨åŸå‹å¯¹è±¡ä¸­\nconsole.log(Par.hasOwnProperty(name)); \/\/ false æ“ä½œç¬¦inï¼Œå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå±æ€§æ˜¯å¦å­˜åœ¨ï¼ˆå­˜åœ¨äºæ„é€ å‡½æ•°å’ŒåŸå‹å¯¹è±¡ä¸­çš†å¯ï¼‰ window.onload = function () { function Par(name, age) { this.name = name; this.age = age; } Par.prototype = { constructor: Par, year: function() { console.log(this.name \u002b this.age) } }; var son = new Par(\u0026#39;xm\u0026#39;, \u0026#39;22\u0026#39;) son.year(); console.log(\u0026#39;name\u0026#39; in Par); \/\/ true console.log(\u0026#39;age\u0026#39; in Par); \/\/ false } åŒæ ·çš„ä¸¤ä¸ªå±æ€§ï¼Œåˆ¤æ–­å…¶æ˜¯å¦å­˜åœ¨äºå®ä¾‹æˆ–è€…åŸå‹å¯¹è±¡ä¸­ï¼Œè¾“å‡ºçš„ç»“æœä¸ä¸€æ ·\nå‚è€ƒ:ã€Šå¯¹è±¡ä¸­æ˜¯å¦æœ‰æŸä¸€ä¸ªå±æ€§ inã€‹https:\/\/www.cnblogs.com\/IwishIcould\/p\/12333739.html\n2.__proto__å’Œ prototype çš„åŒºåˆ« prototypeå±æ€§åªæœ‰å‡½æ•°å¯¹è±¡ä¸Šæ‰æœ‰ï¼Œè€Œ__proto__å±æ€§æ‰€æœ‰å¯¹è±¡éƒ½æœ‰\nprototypeæ˜¯ç”±å‡½æ•°å¯¹è±¡æŒ‡å‘åŸå‹å¯¹è±¡ï¼Œè€Œ__proto__æ˜¯ç”±å®ä¾‹æŒ‡å‘å‡½æ•°å¯¹è±¡çš„åŸå‹å¯¹è±¡\nåŸå‹é“¾ï¼Œå°†çˆ¶ç±»å‹çš„å®ä¾‹ä½œä¸ºå­ç±»å‹çš„åŸå‹å¯¹è±¡ï¼Œè¿™ç§é“¾å¼å…³ç³»å«åšåŸå‹é“¾\n3.ç»§æ‰¿ åŸå‹é“¾ç»§æ‰¿ ä¼˜ç‚¹ï¼šçˆ¶ç±»åŸå‹å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•å¯ä»¥å¤ç”¨ ç¼ºç‚¹ï¼šå­ç±»å®ä¾‹æ²¡æœ‰è‡ªå·±çš„å±æ€§ï¼Œä¸èƒ½å‘çˆ¶ç±»ä¼ é€’å‚æ•°\nfunction test1() { function SuperType() { this.city = [ \u0026#34;åŒ—äº¬\u0026#34;, \u0026#34;ä¸Šæµ·\u0026#34;, \u0026#34;å¤©æ´¥\u0026#34; ]; this.property = true; } SuperType.prototype = { constructor : SuperType, \/\/ ä¿æŒæ„é€ å‡½æ•°å’ŒåŸå‹å¯¹è±¡çš„å®Œæ•´æ€§ age : 15, getSuperValue : function() { return this.property; } }; function SonType() { this.property = false; } \/\/ é‡å†™å­ç±»çš„åŸå‹æŒ‡å‘çˆ¶ç±»çš„å®ä¾‹ï¼šç»§æ‰¿çˆ¶ç±»çš„åŸå‹ SubType.prototype = new SuperType(); SubType.prototype = { constructor : SubType, getSonType : function() { return this.property; } }; \/\/ ä¼˜ç‚¹éªŒè¯ let son = new SubType(); console.log(son.age); \/\/ 15 console.log(son.getSuperValue()); \/\/ false \/\/ ç¼ºç‚¹éªŒè¯ let instance1 = new SubType(); instance1.city.push(\u0026#34;é‡åº†\u0026#34;); console.log(instance1.city); \/\/ [\u0026#34;åŒ—äº¬\u0026#34;, \u0026#34;ä¸Šæµ·\u0026#34;, \u0026#34;å¤©æ´¥\u0026#34;, \u0026#34;é‡åº†\u0026#34;] let instance2 = new SubType(); console.log(instance2.city); \/\/ [\u0026#34;åŒ—äº¬\u0026#34;, \u0026#34;ä¸Šæµ·\u0026#34;, \u0026#34;å¤©æ´¥\u0026#34;, \u0026#34;é‡åº†\u0026#34;] } \/\/ test1(); æ„é€ å‡½æ•°ç»§æ‰¿ ä¼˜ç‚¹ï¼šå­ç±»å®ä¾‹æœ‰è‡ªå·±çš„å±æ€§ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•°ï¼Œè§£å†³åŸå‹é“¾ç»§æ‰¿çš„ç¼ºç‚¹ ç¼ºç‚¹ï¼šçˆ¶ç±»åŸå‹çš„å±æ€§å’Œæ–¹æ³•ä¸å¯å¤ç”¨\nfunction test2() { function SuperType(name) { this.name = name; this.city = [ \u0026#34;åŒ—äº¬\u0026#34;, \u0026#34;ä¸Šæµ·\u0026#34;, \u0026#34;å¤©æ´¥\u0026#34; ] } SuperType.prototype = { constructor : SuperType, age : 18, showInfo : function() { return this.name; } }; function SubType() { \/\/ çˆ¶ç±»è°ƒç”¨ call() æˆ–è€… apply() æ–¹æ³•å’Œå­ç±»å…±ç”¨åŒä¸€ä¸ª thisï¼Œå®ç°å­ç±»å®ä¾‹å±æ€§çš„ç»§æ‰¿ SuperType.call(this, \u0026#34;å¼ ä¸‰\u0026#34;); } \/\/ ä¼˜ç‚¹éªŒè¯ let instance = new SubType(); instance.city.push(\u0026#34;é‡åº†\u0026#34;); console.log(instance.city); \/\/ [\u0026#34;åŒ—äº¬\u0026#34;, \u0026#34;ä¸Šæµ·\u0026#34;, \u0026#34;å¤©æ´¥\u0026#34;, \u0026#34;é‡åº†\u0026#34;] let instance1 = new SubType(); console.log(instance1.city); \/\/ [\u0026#34;åŒ—äº¬\u0026#34;, \u0026#34;ä¸Šæµ·\u0026#34;, \u0026#34;å¤©æ´¥\u0026#34;] \/\/ ç¼ºç‚¹éªŒè¯ console.log(instance.age); \/\/ undefined instance.showInfo(); \/\/ son.showInfo is not a function } \/\/ test2(); ç»„åˆç»§æ‰¿ï¼ˆæ¨èï¼‰ ä¼˜ç‚¹ï¼šåŸå‹çš„å±æ€§å’Œæ–¹æ³•å¯ä»¥å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»å®ä¾‹éƒ½æœ‰è‡ªå·±çš„å±æ€§ ç¼ºç‚¹ï¼šçˆ¶ç±»æ„é€ å‡½æ•°è°ƒç”¨äº†ä¸¤æ¬¡ï¼Œå­ç±»åŸå‹ä¸­çš„çˆ¶ç±»å®ä¾‹å±æ€§è¢«å­ç±»å®ä¾‹è¦†ç›–\nfunction test3() { function SuperType(name) { this.name = name; this.city = [ \u0026#34;åŒ—äº¬\u0026#34;, \u0026#34;ä¸Šæµ·\u0026#34;, \u0026#34;å¤©æ´¥\u0026#34; ] } SuperType.prototype = { constructor : SuperType, showInfo : function() { console.log(this.name \u002b \u0026#34;ä»Šå¹´\u0026#34; \u002b this.age \u002b \u0026#34;å²äº†\u0026#34;); } }; function SubType(name, age) { \/\/ 1. é€šè¿‡æ„é€ æ–¹æ³•ç»§æ‰¿å®ç°å®ä¾‹å±æ€§çš„ç»§æ‰¿ SuperType.call(this, name); this.age = age; } \/\/ 2. é€šè¿‡åŸå‹é“¾ç»§æ‰¿å®ç°åŸå‹æ–¹æ³•çš„ç»§æ‰¿ SubType.prototype = new SuperType(); \/\/ ä¼˜ç‚¹éªŒè¯ let instance = new SubType(\u0026#34;å¼ ä¸‰\u0026#34;, 15); instance.showInfo(); \/\/ å¼ ä¸‰ä»Šå¹´ 15 å²äº† let instance1 = new SubType(); instance1.city.push(\u0026#34;é‡åº†\u0026#34;); console.log(instance1.city); \/\/ [\u0026#34;åŒ—äº¬\u0026#34;, \u0026#34;ä¸Šæµ·\u0026#34;, \u0026#34;å¤©æ´¥\u0026#34;, \u0026#34;é‡åº†\u0026#34;] let instance2 = new SubType(); console.log(instance2.city); \/\/ [\u0026#34;åŒ—äº¬\u0026#34;, \u0026#34;ä¸Šæµ·\u0026#34;, \u0026#34;å¤©æ´¥\u0026#34;] } \/\/ test3(); å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼ˆæ¨èï¼‰ ä¼˜ç‚¹ï¼šè§£å†³äº†ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹ï¼Œæ•ˆç‡é«˜ ç¼ºç‚¹ï¼šåŸºæœ¬æ²¡æœ‰\nfunction test4() { function inheritPrototype(subType, superType) { \/\/ 1. ç»§æ‰¿çˆ¶ç±»çš„åŸå‹ var prototype = Object.create(superType.prototype); \/\/ 2. é‡å†™è¢«æ±¡æŸ“çš„ construct prototype.constructor = subType; \/\/ 3. é‡å†™å­ç±»çš„åŸå‹ subType.prototype = prototype; } function SuperType(name) { this.name = name; this.city = [ \u0026#34;åŒ—äº¬\u0026#34;, \u0026#34;ä¸Šæµ·\u0026#34;, \u0026#34;å¤©æ´¥\u0026#34; ]; } SuperType.prototype.sayName = function() { console.log(this.name); }; function SubType(name, age) { SuperType.call(this, name); this.age = age; } \/\/ å°†çˆ¶ç±»åŸå‹æŒ‡å‘å­ç±» inheritPrototype(SubType, SuperType); SubType.prototype.sayAge = function() { console.log(this.age); } \/\/ ä¼˜ç‚¹éªŒè¯ let instance = new SubType(\u0026#34;å¼ ä¸‰\u0026#34;, 15); instance.sayName(); \/\/ å¼ ä¸‰ let instance1 = new SubType(); instance1.city.push(\u0026#34;é‡åº†\u0026#34;); console.log(instance1.city); \/\/ [\u0026#34;åŒ—äº¬\u0026#34;, \u0026#34;ä¸Šæµ·\u0026#34;, \u0026#34;å¤©æ´¥\u0026#34;, \u0026#34;é‡åº†\u0026#34;] let instance2 = new SubType(); console.log(instance2.city); \/\/ [\u0026#34;åŒ—äº¬\u0026#34;, \u0026#34;ä¸Šæµ·\u0026#34;, \u0026#34;å¤©æ´¥\u0026#34;] } \/\/ test4(); 4.ES6 æ–°æ–¹æ³•ï¼ï¼class æ–°çš„å…³é”®å­—classåœ¨ es6 å¼€å§‹è¢«å¼•å…¥åˆ° javascript ä¸­æ¥ï¼Œclassçš„ç›®çš„å°±æ˜¯è®©å®šä¹‰ç±»æ›´ç®€å•\nç”¨å‡½æ•°æ–¹æ³•å®ç°ï¼š\nfunction Person(name) { this.name = name; } Person.prototype.hello = function () { console.log(\u0026#39;Hello, \u0026#39; \u002b this.name \u002b \u0026#39;!\u0026#39;); } var son = new Person(\u0026#39;xm\u0026#39;) son.hello(); \/\/ Hello, xm! ç”¨classæ¥å®ç°ï¼š\nclass Person { constructor(name) { this.name = name; } hello() { console.log(\u0026#39;Hello, \u0026#39; \u002b this.name \u002b \u0026#39;!\u0026#39;); } } var son = new person(\u0026#39;xm\u0026#39;) son.hello(); \/\/ Hello, xm! å¯ä»¥åœ¨çœ‹åˆ°ï¼Œåœ¨å®šä¹‰classä¸­ï¼Œç›´æ¥åŒ…å«äº†æ„é€ å‡½æ•°constructorå±æ€§ï¼Œå’ŒåŸå‹å¯¹è±¡ä¸Šçš„å‡½æ•°hello()æ–¹æ³•ï¼Œçœç•¥æ‰äº†functionå…³é”®å­—\néœ€è¦æ³¨æ„ï¼šåŸæ¥çš„å†™æ³•æ˜¯ï¼Œæ„é€ å‡½æ•°å’ŒåŸå‹å¯¹è±¡åˆ†æ•£å¼€æ¥å†™ï¼Œç°åœ¨ç”¨classå¯ä»¥ç›´æ¥æŠŠä¸¤è€…ä¸²åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œåªæœ‰æœ€åä¼ å‚å’Œè°ƒç”¨æ–¹æ³•æ—¶å†™æ³•æ˜¯ä¸€æ ·çš„\nclass ç»§æ‰¿\nç”¨classå®šä¹‰å¯¹è±¡çš„å¦ä¸€ä¸ªå·¨å¤§çš„å¥½å¤„æ˜¯ç»§æ‰¿æ›´æ–¹ä¾¿äº†ã€‚æƒ³ä¸€æƒ³æˆ‘ä»¬ä»Personæ´¾ç”Ÿä¸€ä¸ªPrimaryPersonéœ€è¦ç¼–å†™çš„ä»£ç é‡ã€‚ç°åœ¨ï¼ŒåŸå‹ç»§æ‰¿çš„ä¸­é—´å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡çš„æ„é€ å‡½æ•°ç­‰ç­‰éƒ½ä¸éœ€è¦è€ƒè™‘äº†ï¼Œç›´æ¥é€šè¿‡extendsæ¥å®ç°ï¼š\nclass PrimaryPerson extends Person { constructor(name, grade) { super(name); \/\/ è®°å¾—ç”¨ super è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼ this.grade = grade; } myGrade() { alert(\u0026#39;I am at grade \u0026#39; \u002b this.grade); } } æ³¨æ„PrimaryPersonçš„å®šä¹‰ä¹Ÿæ˜¯é€šè¿‡ class å…³é”®å­—å®ç°çš„ï¼Œè€Œextendsåˆ™è¡¨ç¤ºåŸå‹é“¾å¯¹è±¡æ¥è‡ªPersonï¼Œå­ç±»çš„æ„é€ å‡½æ•°å¯èƒ½ä¼šå’Œçˆ¶ç±»çš„ä¸å¤ªç›¸åŒ\nä¾‹å¦‚ï¼ŒPrimaryPersonéœ€è¦nameå’Œgradeä¸¤ä¸ªå‚æ•°ï¼Œå¹¶ä¸”éœ€è¦é€šè¿‡super(name)æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¦åˆ™çˆ¶ç±»çš„nameå±æ€§æ— æ³•æ­£å¸¸åˆå§‹åŒ–ã€‚\nPrimaryPersonå·²ç»è‡ªåŠ¨è·å¾—äº†çˆ¶ç±»Personçš„helloæ–¹æ³•ï¼Œæˆ‘ä»¬åˆåœ¨å­ç±»ä¸­å®šä¹‰äº†æ–°çš„myGradeæ–¹æ³•ã€‚\nES6 å¼•å…¥çš„classå’ŒåŸæœ‰çš„JavaScriptåŸå‹ç»§æ‰¿æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ\nå®é™…ä¸Šå®ƒä»¬æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œclassçš„ä½œç”¨å°±æ˜¯è®© JavaScript å¼•æ“å»å®ç°åŸæ¥éœ€è¦æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„åŸå‹é“¾ä»£ç ã€‚ç®€è€Œè¨€ä¹‹ï¼Œç”¨classçš„å¥½å¤„å°±æ˜¯æå¤§åœ°ç®€åŒ–äº†åŸå‹é“¾ä»£ç ã€‚\nä½†æ˜¯ï¼\nç›®å‰å¹¶ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒclassï¼Œæ‰€ä»¥åœ¨é€‰æ‹©çš„æ—¶å€™ä¸€å®šè¦æ…é‡ï¼\n",
"inLanguage" : "en-US",
"author" : "map[email:anghunk@gmail.com name:å­èˆ’]",
"creator" : "map[email:anghunk@gmail.com name:å­èˆ’]",
"publisher": "map[email:anghunk@gmail.com name:å­èˆ’]",
"accountablePerson" : "map[email:anghunk@gmail.com name:å­èˆ’]",
"copyrightHolder" : "map[email:anghunk@gmail.com name:å­èˆ’]",
"copyrightYear" : "2020",
"datePublished": "2020-11-12 00:00:00 \u002b0000 UTC",
"dateModified" : "2020-11-12 00:00:00 \u002b0000 UTC",
"url" : "https:\/\/zishu.me\/blog\/15.html\/",
"keywords" : [ "ç¼–ç¨‹","js", ]
}
</script><title>é¢å‘å¯¹è±¡ç¼–ç¨‹ - å­èˆ’çš„åšå®¢</title>
<meta property="og:title" content="é¢å‘å¯¹è±¡ç¼–ç¨‹" />
<meta property="og:type" content="article" />
<meta property="og:description" content="é¢å‘å¯¹è±¡æŠŠæ„æˆé—®é¢˜çš„ transaction åˆ†è§£æˆå„ä¸ªå¯¹è±¡ï¼Œè€Œå»ºç«‹å¯¹è±¡çš„ç›®çš„ä¹Ÿä¸æ˜¯ä¸ºäº†å®Œæˆä¸€ä¸ªä¸ªæ­¥éª¤ï¼Œè€Œæ˜¯ä¸ºäº†æè¿°æŸä¸ªäº‹ç‰©åœ¨è§£å†³æ•´ä¸ªé—®é¢˜çš„è¿‡ç¨‹ä¸­æ‰€å‘ç”Ÿçš„è¡Œä¸ºï¼Œæ„åœ¨å†™å‡ºé€šç”¨ä»£ç ï¼ŒåŠ å¼ºä»£ç é‡ç”¨ï¼Œå±è”½å·®å¼‚æ€§ã€‚
ä¸€ã€ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ js æ˜¯åŸºäºåŸå‹çš„ï¼ŒåŸºäºé¢å‘å¯¹è±¡ç¼–ç¨‹
é¢å‘å¯¹è±¡å°±æ˜¯æŠŠæ•°æ®å’Œå¯¹æ•°æ®çš„æ“ä½œæ–¹æ³•æ”¾åœ¨ä¸€èµ·ï¼Œä½œä¸ºä¸€ä¸ªæ•´ä½“â€”â€”å¯¹è±¡ã€‚å¯¹åŒç±»å¯¹è±¡æŠ½è±¡å‡ºå…¶å…±æ€§ï¼Œå½¢æˆç±»
1.é¢å‘è¿‡ç¨‹ç¨‹åºè®¾è®¡ å°†ä¸€ä¸ªé¡¹ç›®ï¼ˆæˆ–è€…ä¸€ä¸ªäº‹ä»¶ï¼‰ä»å¤´åˆ°å°¾æŒ‰é¡ºåºï¼Œä¸€æ­¥ä¸€æ­¥å®Œæˆï¼Œå…ˆåšä»€ä¹ˆï¼Œååšä»€ä¹ˆï¼Œä¸€ç›´åˆ°ç»“æŸï¼Œä¹Ÿæ˜¯æˆ‘ä»¬äººåšäº‹çš„æ–¹æ³•ã€‚
è‡ªä¸Šè€Œä¸‹ï¼Œå…ˆç¡®å®šä¸€ä¸ªæ•´ä½“çš„æ¡†æ¶ï¼Œç„¶åæ·»ç –åŠ ç“¦ï¼Œé€æ­¥å®ç°æƒ³è¦å¾—åˆ°çš„æ•ˆæœï¼Œé€‚ç”¨äºç®€å•çš„ç³»ç»Ÿï¼Œå®¹æ˜“ç†è§£ã€‚ä½†æ˜¯éš¾ä»¥åº”å¯¹å¤æ‚çš„ç³»ç»Ÿï¼Œä¸æ˜“ç»´æŠ¤æ‰©å±•ï¼Œéš¾ä»¥å¤ç”¨
é¢å‘è¿‡ç¨‹æ˜¯åˆ†æè§£å†³é—®é¢˜çš„æ­¥éª¤ï¼Œç„¶åç”¨å‡½æ•°æŠŠè¿™äº›æ­¥éª¤ä¸€æ­¥ä¸€æ­¥çš„å®ç°ï¼Œç„¶ååœ¨ä½¿ç”¨çš„æ—¶å€™ä¸€ä¸€è°ƒç”¨åˆ™å¯ã€‚å¼ºè°ƒçš„æ˜¯å®Œæˆè¿™ä»¶äº‹å„¿çš„åŠ¨ä½œï¼Œæ›´æ¥è¿‘æˆ‘ä»¬æ—¥å¸¸å¤„ç†äº‹æƒ…çš„æ€ç»´ã€‚
2.é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ å°†ä¸€ä¸ªé¡¹ç›®ï¼ˆæˆ–è€…ä¸€ä¸ªäº‹ä»¶ï¼‰åˆ†æˆæ›´å°çš„é¡¹ç›®ï¼Œæ¯ä¸€ä¸ªéƒ¨åˆ†è´Ÿè´£ä¸€æ–¹é¢çš„åŠŸèƒ½ï¼Œæœ€åç”±è¿™äº›éƒ¨åˆ†ç»„æˆä¸€ä¸ªæ•´ä½“ï¼Œå…ˆè®¾è®¡ç»„ä»¶ï¼Œåœ¨å®Œæˆæ‹¼è£…ï¼Œé€‚ç”¨äºå¤§å‹å¤æ‚çš„ç³»ç»Ÿ
é¢å‘å¯¹è±¡æŠŠæ„æˆé—®é¢˜çš„ transaction åˆ†è§£æˆå„ä¸ªå¯¹è±¡ï¼Œè€Œå»ºç«‹å¯¹è±¡çš„ç›®çš„ä¹Ÿä¸æ˜¯ä¸ºäº†å®Œæˆä¸€ä¸ªä¸ªæ­¥éª¤ï¼Œè€Œæ˜¯ä¸ºäº†æè¿°æŸä¸ªäº‹ç‰©åœ¨è§£å†³æ•´ä¸ªé—®é¢˜çš„è¿‡ç¨‹ä¸­æ‰€å‘ç”Ÿçš„è¡Œä¸ºï¼Œæ„åœ¨å†™å‡ºé€šç”¨ä»£ç ï¼ŒåŠ å¼ºä»£ç é‡ç”¨ï¼Œå±è”½å·®å¼‚æ€§ã€‚
æƒ³è¦å¼„æ˜ç™½é¢å‘å¯¹è±¡ï¼Œéœ€è¦å…ˆç†è§£ç±»å’Œå¯¹è±¡çš„æ¦‚å¿µ
ã€Šä»€ä¹ˆæ˜¯ç±»å’Œå¯¹è±¡ï¼Ÿã€‹
äºŒã€åˆ›å»ºå¯¹è±¡çš„æ–¹æ³• 1.åˆ›å»ºå­—é¢é‡å’Œå®ä¾‹ window.onload = function() { // å®ä¾‹ var person = new Object(); person.name = &#39;å°æ˜&#39;; person.age = 22; person.year = function() { console.log(this.name &#43; &#39;ä»Šå¹´&#39; &#43; this.age &#43; &#39;å²äº†ï¼&#39;) }; person.year(); // å­—é¢é‡ var student = { name: &#39;å°æ˜&#39;, age: 22, year: function () { console.log(this.name &#43; &#39;ä»Šå¹´&#39; &#43; this.age &#43; &#39;å²äº†ï¼&#39;) } } student.year(); } // å°æ˜ä»Šå¹´22å²äº†ï¼ ä¸¤è€…è¾“å‡ºçš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œæ§åˆ¶å°è¾“å‡ºï¼š
ç¼ºç‚¹ï¼šé‡å¤å®ä¾‹åŒ–å¯¹è±¡ï¼Œä»£ç å†—ä½™é«˜
2.å·¥å‚æ¨¡å¼ window.onload = function() { function createObj(name, age) { var obj = new Object(); obj.name = name, obj.age = age, obj.year = function() { console.log(this.name &#43; &#39;ä»Šå¹´&#39; &#43; this.age &#43; &#39;å²äº†ï¼&#39;) } return obj; } var obj = createObj(&#39;å°æ˜&#39;, 22); obj.year(); } // å°æ˜ä»Šå¹´22å²äº†ï¼ ä¼˜ç‚¹ï¼šè§£å†³é‡å¤å®ä¾‹åŒ–å¯¹è±¡çš„é—®é¢˜ ç¼ºç‚¹ï¼šæ— æ³•è¯†åˆ«å¯¹è±¡çš„ç±»å‹ï¼Œå› ä¸ºæ‰€æœ‰çš„å®ä¾‹éƒ½æŒ‡å‘ä¸€ä¸ªåŸå‹
3.æ„é€ å‡½æ•° window.onload = function() { function Person(name, age) { this.name = name; this.age = age; this.year = function() { console.log(this.name &#43; &#39;ä»Šå¹´&#39; &#43; this.age &#43; &#39;å²äº†ï¼&#39;) } } var student = new Person(&#39;å°æ˜&#39;, 22); student.year(); } // å°æ˜ä»Šå¹´22å²äº†ï¼ ä¼˜ç‚¹ï¼šå¯ä»¥è¯†åˆ«å¯¹è±¡çš„ç±»å‹ ç¼ºç‚¹ï¼šå¤šä¸ªå®ä¾‹é‡å¤åˆ›å»ºæ–¹æ³•ï¼Œæ— æ³•å…±äº«
4. åŸå‹æ¨¡å¼ window.onload = function() { function Par() {} Par.prototype = { constructor: &#39;Par&#39;, name: &#39;å°æ˜&#39;, age: 22, year: function() { console.log(this.name &#43; &#39;ä»Šå¹´&#39; &#43; this.age &#43; &#39;å²äº†ï¼&#39;) } }; var son = new Par(); son.year(); } // å°æ˜ä»Šå¹´22å²äº†ï¼ ç¼ºç‚¹ï¼šæ‰€æœ‰å®ä¾‹å…±äº«ä»–çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ä¼ å‚å’Œåˆå§‹åŒ–å±æ€§å€¼
5.æ··åˆæ¨¡å¼ (æ¨èä½¿ç”¨) æ˜¯æ„é€ å‡½æ•°å’ŒåŸå‹æ¨¡å¼æ··åˆçš„å†™æ³•ï¼Œæ‹¥æœ‰å„è‡ªçš„ä¼˜ç‚¹ï¼Œæ„é€ å‡½æ•°å…±äº«å®ä¾‹å±æ€§ï¼ŒåŸå‹æ¨¡å¼å…±äº«æ–¹æ³•å’Œæƒ³è¦å…±äº«çš„å±æ€§ï¼Œå¯ä»¥ä¼ å‚å’Œåˆå§‹åŒ–å±æ€§å€¼
å…ˆç”¨æ„é€ å‡½æ•°å®šä¹‰å¯¹è±¡çš„å±æ€§æ–¹æ³•ï¼Œç„¶åç”¨åŸå‹æ¨¡å¼åˆ›å»ºæ–¹æ³•ï¼Œä½¿ç”¨çš„å±æ€§é€šè¿‡ prototype è·å–ï¼Œæœ‰ä¸€ä¸ª constructor å±æ€§ï¼Œå¯ä»¥æŒ‡å‘è¦æ“ä½œçš„å‡½æ•°å¯¹è±¡ï¼ˆæ„é€ å‡½æ•°ï¼‰
æ¯”å¦‚constructor: Parï¼Œå°±ä»£è¡¨ä¸‹é¢è¿™ä¸ªåŸå‹æ–¹æ³•æŒ‡å‘Par()å¯¹è±¡ï¼ˆæ„é€ å‡½æ•°ï¼‰
window.onload = function() { function Par(name, age) { this.name = name; this.age = age; } Par.prototype = { constructor: Par, year: function() { console.log(this.name &#43; &#39;ä»Šå¹´&#39; &#43; this.age &#43; &#39;å²äº†ï¼&#39;); } }; var son = new Par(&#39;å°æ˜&#39;, 22) son.year(); } // å°æ˜ä»Šå¹´22å²äº†ï¼ ä¸‰ã€åŸå‹ï¼ŒåŸå‹é“¾ 1.åŸå‹å¯¹è±¡ å‡½æ•°å¯¹è±¡éƒ½å…·æœ‰prototypeå±æ€§ï¼Œå®ƒæŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ (æµè§ˆå™¨å†…å­˜åˆ›å»ºçš„å¯¹è±¡)ï¼ŒåŸå‹å¯¹è±¡éƒ½å…·æœ‰constructorå±æ€§ï¼Œå®ƒæŒ‡å‘prototypeå±æ€§æ‰€åœ¨çš„å‡½æ•°å¯¹è±¡ (æ„é€ å‡½æ•°) window.onload = function() { function Par(name, age) { this.name = name; this.age = age; } Par.prototype = { // constructoræŒ‡å‘å¯¹è±¡ constructor: Par, year: function() { console.log(this.name &#43; &#39;ä»Šå¹´&#39; &#43; this.age &#43; &#39;å²äº†ï¼&#39;); } }; var son = new Par(&#39;å°æ˜&#39;, 22) son.year(); /*********************************************/ console.log(Par.prototype) console.log(Par.prototype.constructor) /*********************************************/ } é€šè¿‡æ§åˆ¶å°å¯ä»¥çœ‹åˆ°
æ„é€ å‡½æ•°çš„prototyprå±æ€§æŒ‡å‘åŸå‹å¯¹è±¡
åŸå‹å¯¹è±¡çš„construcyorå±æ€§æŒ‡å‘æ„é€ å‡½æ•°
å½“è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå®ä¾‹åï¼Œè¯¥å®ä¾‹ä¼šæœ‰ä¸€ä¸ªéšè—å±æ€§__proto__ ï¼Œå®ƒæŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ console.log(son.__proto__ === Par.prototype) // true æ‰€æœ‰çš„æ„é€ å‡½æ•°çš„ prototype éƒ½æ˜¯ object ç±»å‹ console.log(typeof Par.prototype) // object Function çš„ prototype æ˜¯ä¸€ä¸ªç©ºå‡½æ•°ï¼Œæ‰€æœ‰å†…ç½®å‡½æ•°çš„__proto__å±æ€§éƒ½æŒ‡å‘è¿™ä¸ªç©ºå‡½æ•° console.log(Math.__proto__) å¦‚æœæ„é€ å‡½æ•°å®ä¾‹å’ŒåŸå‹å¯¹è±¡ä¸­åŒæ—¶å®šä¹‰äº†ä¸€ä¸ªå±æ€§ï¼Œåœ¨è°ƒç”¨æ—¶ï¼Œä¼šå±è”½åŸå‹å¯¹è±¡ä¸­çš„å±æ€§ï¼Œå¦‚æœæƒ³è¦è®¿é—®åŸå‹å¯¹è±¡ä¸­çš„å±æ€§å€¼ï¼Œéœ€è¦é€šè¿‡deleteæ–¹æ³•å°†åŒåå±æ€§åœ¨å®ä¾‹ï¼ˆæ„é€ å‡½æ•°ï¼‰ä¸­å½»åº•åˆ é™¤ window.onload = function () { function Par(name) { this.name = name; } Par.prototype.name = &#34;å¼ ä¸‰&#34;; var son = new Par(&#34;æå››&#34;); console.log(son.name); // æå›› console.log(son.__proto__.name); // å¼ ä¸‰ // ä½¿ç”¨ delete åˆ é™¤å®ä¾‹çš„åŒåå±æ€§å€¼ console.log(delete son.name); // true console.log(son.name); // å¼ ä¸‰ } é€šè¿‡hasOwnProperty(å±æ€§å)å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå±æ€§å­˜åœ¨äºæ„é€ å‡½æ•°ä¸­ï¼Œè¿˜æ˜¯åŸå‹å¯¹è±¡ä¸­ trueè¡¨ç¤ºå­˜åœ¨æ„é€ å‡½æ•°ä¸­ï¼›falseè¡¨ç¤ºå­˜åœ¨åŸå‹å¯¹è±¡ä¸­
console.log(Par.hasOwnProperty(name)); // false æ“ä½œç¬¦inï¼Œå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå±æ€§æ˜¯å¦å­˜åœ¨ï¼ˆå­˜åœ¨äºæ„é€ å‡½æ•°å’ŒåŸå‹å¯¹è±¡ä¸­çš†å¯ï¼‰ window.onload = function () { function Par(name, age) { this.name = name; this.age = age; } Par.prototype = { constructor: Par, year: function() { console.log(this.name &#43; this.age) } }; var son = new Par(&#39;xm&#39;, &#39;22&#39;) son.year(); console.log(&#39;name&#39; in Par); // true console.log(&#39;age&#39; in Par); // false } åŒæ ·çš„ä¸¤ä¸ªå±æ€§ï¼Œåˆ¤æ–­å…¶æ˜¯å¦å­˜åœ¨äºå®ä¾‹æˆ–è€…åŸå‹å¯¹è±¡ä¸­ï¼Œè¾“å‡ºçš„ç»“æœä¸ä¸€æ ·
å‚è€ƒ:ã€Šå¯¹è±¡ä¸­æ˜¯å¦æœ‰æŸä¸€ä¸ªå±æ€§ inã€‹https://www.cnblogs.com/IwishIcould/p/12333739.html
2.__proto__å’Œ prototype çš„åŒºåˆ« prototypeå±æ€§åªæœ‰å‡½æ•°å¯¹è±¡ä¸Šæ‰æœ‰ï¼Œè€Œ__proto__å±æ€§æ‰€æœ‰å¯¹è±¡éƒ½æœ‰
prototypeæ˜¯ç”±å‡½æ•°å¯¹è±¡æŒ‡å‘åŸå‹å¯¹è±¡ï¼Œè€Œ__proto__æ˜¯ç”±å®ä¾‹æŒ‡å‘å‡½æ•°å¯¹è±¡çš„åŸå‹å¯¹è±¡
åŸå‹é“¾ï¼Œå°†çˆ¶ç±»å‹çš„å®ä¾‹ä½œä¸ºå­ç±»å‹çš„åŸå‹å¯¹è±¡ï¼Œè¿™ç§é“¾å¼å…³ç³»å«åšåŸå‹é“¾
3.ç»§æ‰¿ åŸå‹é“¾ç»§æ‰¿ ä¼˜ç‚¹ï¼šçˆ¶ç±»åŸå‹å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•å¯ä»¥å¤ç”¨ ç¼ºç‚¹ï¼šå­ç±»å®ä¾‹æ²¡æœ‰è‡ªå·±çš„å±æ€§ï¼Œä¸èƒ½å‘çˆ¶ç±»ä¼ é€’å‚æ•°
function test1() { function SuperType() { this.city = [ &#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34; ]; this.property = true; } SuperType.prototype = { constructor : SuperType, // ä¿æŒæ„é€ å‡½æ•°å’ŒåŸå‹å¯¹è±¡çš„å®Œæ•´æ€§ age : 15, getSuperValue : function() { return this.property; } }; function SonType() { this.property = false; } // é‡å†™å­ç±»çš„åŸå‹æŒ‡å‘çˆ¶ç±»çš„å®ä¾‹ï¼šç»§æ‰¿çˆ¶ç±»çš„åŸå‹ SubType.prototype = new SuperType(); SubType.prototype = { constructor : SubType, getSonType : function() { return this.property; } }; // ä¼˜ç‚¹éªŒè¯ let son = new SubType(); console.log(son.age); // 15 console.log(son.getSuperValue()); // false // ç¼ºç‚¹éªŒè¯ let instance1 = new SubType(); instance1.city.push(&#34;é‡åº†&#34;); console.log(instance1.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;, &#34;é‡åº†&#34;] let instance2 = new SubType(); console.log(instance2.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;, &#34;é‡åº†&#34;] } // test1(); æ„é€ å‡½æ•°ç»§æ‰¿ ä¼˜ç‚¹ï¼šå­ç±»å®ä¾‹æœ‰è‡ªå·±çš„å±æ€§ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•°ï¼Œè§£å†³åŸå‹é“¾ç»§æ‰¿çš„ç¼ºç‚¹ ç¼ºç‚¹ï¼šçˆ¶ç±»åŸå‹çš„å±æ€§å’Œæ–¹æ³•ä¸å¯å¤ç”¨
function test2() { function SuperType(name) { this.name = name; this.city = [ &#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34; ] } SuperType.prototype = { constructor : SuperType, age : 18, showInfo : function() { return this.name; } }; function SubType() { // çˆ¶ç±»è°ƒç”¨ call() æˆ–è€… apply() æ–¹æ³•å’Œå­ç±»å…±ç”¨åŒä¸€ä¸ª thisï¼Œå®ç°å­ç±»å®ä¾‹å±æ€§çš„ç»§æ‰¿ SuperType.call(this, &#34;å¼ ä¸‰&#34;); } // ä¼˜ç‚¹éªŒè¯ let instance = new SubType(); instance.city.push(&#34;é‡åº†&#34;); console.log(instance.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;, &#34;é‡åº†&#34;] let instance1 = new SubType(); console.log(instance1.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;] // ç¼ºç‚¹éªŒè¯ console.log(instance.age); // undefined instance.showInfo(); // son.showInfo is not a function } // test2(); ç»„åˆç»§æ‰¿ï¼ˆæ¨èï¼‰ ä¼˜ç‚¹ï¼šåŸå‹çš„å±æ€§å’Œæ–¹æ³•å¯ä»¥å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»å®ä¾‹éƒ½æœ‰è‡ªå·±çš„å±æ€§ ç¼ºç‚¹ï¼šçˆ¶ç±»æ„é€ å‡½æ•°è°ƒç”¨äº†ä¸¤æ¬¡ï¼Œå­ç±»åŸå‹ä¸­çš„çˆ¶ç±»å®ä¾‹å±æ€§è¢«å­ç±»å®ä¾‹è¦†ç›–
function test3() { function SuperType(name) { this.name = name; this.city = [ &#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34; ] } SuperType.prototype = { constructor : SuperType, showInfo : function() { console.log(this.name &#43; &#34;ä»Šå¹´&#34; &#43; this.age &#43; &#34;å²äº†&#34;); } }; function SubType(name, age) { // 1. é€šè¿‡æ„é€ æ–¹æ³•ç»§æ‰¿å®ç°å®ä¾‹å±æ€§çš„ç»§æ‰¿ SuperType.call(this, name); this.age = age; } // 2. é€šè¿‡åŸå‹é“¾ç»§æ‰¿å®ç°åŸå‹æ–¹æ³•çš„ç»§æ‰¿ SubType.prototype = new SuperType(); // ä¼˜ç‚¹éªŒè¯ let instance = new SubType(&#34;å¼ ä¸‰&#34;, 15); instance.showInfo(); // å¼ ä¸‰ä»Šå¹´ 15 å²äº† let instance1 = new SubType(); instance1.city.push(&#34;é‡åº†&#34;); console.log(instance1.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;, &#34;é‡åº†&#34;] let instance2 = new SubType(); console.log(instance2.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;] } // test3(); å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼ˆæ¨èï¼‰ ä¼˜ç‚¹ï¼šè§£å†³äº†ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹ï¼Œæ•ˆç‡é«˜ ç¼ºç‚¹ï¼šåŸºæœ¬æ²¡æœ‰
function test4() { function inheritPrototype(subType, superType) { // 1. ç»§æ‰¿çˆ¶ç±»çš„åŸå‹ var prototype = Object.create(superType.prototype); // 2. é‡å†™è¢«æ±¡æŸ“çš„ construct prototype.constructor = subType; // 3. é‡å†™å­ç±»çš„åŸå‹ subType.prototype = prototype; } function SuperType(name) { this.name = name; this.city = [ &#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34; ]; } SuperType.prototype.sayName = function() { console.log(this.name); }; function SubType(name, age) { SuperType.call(this, name); this.age = age; } // å°†çˆ¶ç±»åŸå‹æŒ‡å‘å­ç±» inheritPrototype(SubType, SuperType); SubType.prototype.sayAge = function() { console.log(this.age); } // ä¼˜ç‚¹éªŒè¯ let instance = new SubType(&#34;å¼ ä¸‰&#34;, 15); instance.sayName(); // å¼ ä¸‰ let instance1 = new SubType(); instance1.city.push(&#34;é‡åº†&#34;); console.log(instance1.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;, &#34;é‡åº†&#34;] let instance2 = new SubType(); console.log(instance2.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;] } // test4(); 4.ES6 æ–°æ–¹æ³•ï¼ï¼class æ–°çš„å…³é”®å­—classåœ¨ es6 å¼€å§‹è¢«å¼•å…¥åˆ° javascript ä¸­æ¥ï¼Œclassçš„ç›®çš„å°±æ˜¯è®©å®šä¹‰ç±»æ›´ç®€å•
ç”¨å‡½æ•°æ–¹æ³•å®ç°ï¼š
function Person(name) { this.name = name; } Person.prototype.hello = function () { console.log(&#39;Hello, &#39; &#43; this.name &#43; &#39;!&#39;); } var son = new Person(&#39;xm&#39;) son.hello(); // Hello, xm! ç”¨classæ¥å®ç°ï¼š
class Person { constructor(name) { this.name = name; } hello() { console.log(&#39;Hello, &#39; &#43; this.name &#43; &#39;!&#39;); } } var son = new person(&#39;xm&#39;) son.hello(); // Hello, xm! å¯ä»¥åœ¨çœ‹åˆ°ï¼Œåœ¨å®šä¹‰classä¸­ï¼Œç›´æ¥åŒ…å«äº†æ„é€ å‡½æ•°constructorå±æ€§ï¼Œå’ŒåŸå‹å¯¹è±¡ä¸Šçš„å‡½æ•°hello()æ–¹æ³•ï¼Œçœç•¥æ‰äº†functionå…³é”®å­—
éœ€è¦æ³¨æ„ï¼šåŸæ¥çš„å†™æ³•æ˜¯ï¼Œæ„é€ å‡½æ•°å’ŒåŸå‹å¯¹è±¡åˆ†æ•£å¼€æ¥å†™ï¼Œç°åœ¨ç”¨classå¯ä»¥ç›´æ¥æŠŠä¸¤è€…ä¸²åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œåªæœ‰æœ€åä¼ å‚å’Œè°ƒç”¨æ–¹æ³•æ—¶å†™æ³•æ˜¯ä¸€æ ·çš„
class ç»§æ‰¿
ç”¨classå®šä¹‰å¯¹è±¡çš„å¦ä¸€ä¸ªå·¨å¤§çš„å¥½å¤„æ˜¯ç»§æ‰¿æ›´æ–¹ä¾¿äº†ã€‚æƒ³ä¸€æƒ³æˆ‘ä»¬ä»Personæ´¾ç”Ÿä¸€ä¸ªPrimaryPersonéœ€è¦ç¼–å†™çš„ä»£ç é‡ã€‚ç°åœ¨ï¼ŒåŸå‹ç»§æ‰¿çš„ä¸­é—´å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡çš„æ„é€ å‡½æ•°ç­‰ç­‰éƒ½ä¸éœ€è¦è€ƒè™‘äº†ï¼Œç›´æ¥é€šè¿‡extendsæ¥å®ç°ï¼š
class PrimaryPerson extends Person { constructor(name, grade) { super(name); // è®°å¾—ç”¨ super è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼ this.grade = grade; } myGrade() { alert(&#39;I am at grade &#39; &#43; this.grade); } } æ³¨æ„PrimaryPersonçš„å®šä¹‰ä¹Ÿæ˜¯é€šè¿‡ class å…³é”®å­—å®ç°çš„ï¼Œè€Œextendsåˆ™è¡¨ç¤ºåŸå‹é“¾å¯¹è±¡æ¥è‡ªPersonï¼Œå­ç±»çš„æ„é€ å‡½æ•°å¯èƒ½ä¼šå’Œçˆ¶ç±»çš„ä¸å¤ªç›¸åŒ
ä¾‹å¦‚ï¼ŒPrimaryPersonéœ€è¦nameå’Œgradeä¸¤ä¸ªå‚æ•°ï¼Œå¹¶ä¸”éœ€è¦é€šè¿‡super(name)æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¦åˆ™çˆ¶ç±»çš„nameå±æ€§æ— æ³•æ­£å¸¸åˆå§‹åŒ–ã€‚
PrimaryPersonå·²ç»è‡ªåŠ¨è·å¾—äº†çˆ¶ç±»Personçš„helloæ–¹æ³•ï¼Œæˆ‘ä»¬åˆåœ¨å­ç±»ä¸­å®šä¹‰äº†æ–°çš„myGradeæ–¹æ³•ã€‚
ES6 å¼•å…¥çš„classå’ŒåŸæœ‰çš„JavaScriptåŸå‹ç»§æ‰¿æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ
å®é™…ä¸Šå®ƒä»¬æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œclassçš„ä½œç”¨å°±æ˜¯è®© JavaScript å¼•æ“å»å®ç°åŸæ¥éœ€è¦æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„åŸå‹é“¾ä»£ç ã€‚ç®€è€Œè¨€ä¹‹ï¼Œç”¨classçš„å¥½å¤„å°±æ˜¯æå¤§åœ°ç®€åŒ–äº†åŸå‹é“¾ä»£ç ã€‚
ä½†æ˜¯ï¼
ç›®å‰å¹¶ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒclassï¼Œæ‰€ä»¥åœ¨é€‰æ‹©çš„æ—¶å€™ä¸€å®šè¦æ…é‡ï¼
" />
<meta name="description" content="é¢å‘å¯¹è±¡æŠŠæ„æˆé—®é¢˜çš„ transaction åˆ†è§£æˆå„ä¸ªå¯¹è±¡ï¼Œè€Œå»ºç«‹å¯¹è±¡çš„ç›®çš„ä¹Ÿä¸æ˜¯ä¸ºäº†å®Œæˆä¸€ä¸ªä¸ªæ­¥éª¤ï¼Œè€Œæ˜¯ä¸ºäº†æè¿°æŸä¸ªäº‹ç‰©åœ¨è§£å†³æ•´ä¸ªé—®é¢˜çš„è¿‡ç¨‹ä¸­æ‰€å‘ç”Ÿçš„è¡Œä¸ºï¼Œæ„åœ¨å†™å‡ºé€šç”¨ä»£ç ï¼ŒåŠ å¼ºä»£ç é‡ç”¨ï¼Œå±è”½å·®å¼‚æ€§ã€‚
ä¸€ã€ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ js æ˜¯åŸºäºåŸå‹çš„ï¼ŒåŸºäºé¢å‘å¯¹è±¡ç¼–ç¨‹
é¢å‘å¯¹è±¡å°±æ˜¯æŠŠæ•°æ®å’Œå¯¹æ•°æ®çš„æ“ä½œæ–¹æ³•æ”¾åœ¨ä¸€èµ·ï¼Œä½œä¸ºä¸€ä¸ªæ•´ä½“â€”â€”å¯¹è±¡ã€‚å¯¹åŒç±»å¯¹è±¡æŠ½è±¡å‡ºå…¶å…±æ€§ï¼Œå½¢æˆç±»
1.é¢å‘è¿‡ç¨‹ç¨‹åºè®¾è®¡ å°†ä¸€ä¸ªé¡¹ç›®ï¼ˆæˆ–è€…ä¸€ä¸ªäº‹ä»¶ï¼‰ä»å¤´åˆ°å°¾æŒ‰é¡ºåºï¼Œä¸€æ­¥ä¸€æ­¥å®Œæˆï¼Œå…ˆåšä»€ä¹ˆï¼Œååšä»€ä¹ˆï¼Œä¸€ç›´åˆ°ç»“æŸï¼Œä¹Ÿæ˜¯æˆ‘ä»¬äººåšäº‹çš„æ–¹æ³•ã€‚
è‡ªä¸Šè€Œä¸‹ï¼Œå…ˆç¡®å®šä¸€ä¸ªæ•´ä½“çš„æ¡†æ¶ï¼Œç„¶åæ·»ç –åŠ ç“¦ï¼Œé€æ­¥å®ç°æƒ³è¦å¾—åˆ°çš„æ•ˆæœï¼Œé€‚ç”¨äºç®€å•çš„ç³»ç»Ÿï¼Œå®¹æ˜“ç†è§£ã€‚ä½†æ˜¯éš¾ä»¥åº”å¯¹å¤æ‚çš„ç³»ç»Ÿï¼Œä¸æ˜“ç»´æŠ¤æ‰©å±•ï¼Œéš¾ä»¥å¤ç”¨
é¢å‘è¿‡ç¨‹æ˜¯åˆ†æè§£å†³é—®é¢˜çš„æ­¥éª¤ï¼Œç„¶åç”¨å‡½æ•°æŠŠè¿™äº›æ­¥éª¤ä¸€æ­¥ä¸€æ­¥çš„å®ç°ï¼Œç„¶ååœ¨ä½¿ç”¨çš„æ—¶å€™ä¸€ä¸€è°ƒç”¨åˆ™å¯ã€‚å¼ºè°ƒçš„æ˜¯å®Œæˆè¿™ä»¶äº‹å„¿çš„åŠ¨ä½œï¼Œæ›´æ¥è¿‘æˆ‘ä»¬æ—¥å¸¸å¤„ç†äº‹æƒ…çš„æ€ç»´ã€‚
2.é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ å°†ä¸€ä¸ªé¡¹ç›®ï¼ˆæˆ–è€…ä¸€ä¸ªäº‹ä»¶ï¼‰åˆ†æˆæ›´å°çš„é¡¹ç›®ï¼Œæ¯ä¸€ä¸ªéƒ¨åˆ†è´Ÿè´£ä¸€æ–¹é¢çš„åŠŸèƒ½ï¼Œæœ€åç”±è¿™äº›éƒ¨åˆ†ç»„æˆä¸€ä¸ªæ•´ä½“ï¼Œå…ˆè®¾è®¡ç»„ä»¶ï¼Œåœ¨å®Œæˆæ‹¼è£…ï¼Œé€‚ç”¨äºå¤§å‹å¤æ‚çš„ç³»ç»Ÿ
é¢å‘å¯¹è±¡æŠŠæ„æˆé—®é¢˜çš„ transaction åˆ†è§£æˆå„ä¸ªå¯¹è±¡ï¼Œè€Œå»ºç«‹å¯¹è±¡çš„ç›®çš„ä¹Ÿä¸æ˜¯ä¸ºäº†å®Œæˆä¸€ä¸ªä¸ªæ­¥éª¤ï¼Œè€Œæ˜¯ä¸ºäº†æè¿°æŸä¸ªäº‹ç‰©åœ¨è§£å†³æ•´ä¸ªé—®é¢˜çš„è¿‡ç¨‹ä¸­æ‰€å‘ç”Ÿçš„è¡Œä¸ºï¼Œæ„åœ¨å†™å‡ºé€šç”¨ä»£ç ï¼ŒåŠ å¼ºä»£ç é‡ç”¨ï¼Œå±è”½å·®å¼‚æ€§ã€‚
æƒ³è¦å¼„æ˜ç™½é¢å‘å¯¹è±¡ï¼Œéœ€è¦å…ˆç†è§£ç±»å’Œå¯¹è±¡çš„æ¦‚å¿µ
ã€Šä»€ä¹ˆæ˜¯ç±»å’Œå¯¹è±¡ï¼Ÿã€‹
äºŒã€åˆ›å»ºå¯¹è±¡çš„æ–¹æ³• 1.åˆ›å»ºå­—é¢é‡å’Œå®ä¾‹ window.onload = function() { // å®ä¾‹ var person = new Object(); person.name = &#39;å°æ˜&#39;; person.age = 22; person.year = function() { console.log(this.name &#43; &#39;ä»Šå¹´&#39; &#43; this.age &#43; &#39;å²äº†ï¼&#39;) }; person.year(); // å­—é¢é‡ var student = { name: &#39;å°æ˜&#39;, age: 22, year: function () { console.log(this.name &#43; &#39;ä»Šå¹´&#39; &#43; this.age &#43; &#39;å²äº†ï¼&#39;) } } student.year(); } // å°æ˜ä»Šå¹´22å²äº†ï¼ ä¸¤è€…è¾“å‡ºçš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œæ§åˆ¶å°è¾“å‡ºï¼š
ç¼ºç‚¹ï¼šé‡å¤å®ä¾‹åŒ–å¯¹è±¡ï¼Œä»£ç å†—ä½™é«˜
2.å·¥å‚æ¨¡å¼ window.onload = function() { function createObj(name, age) { var obj = new Object(); obj.name = name, obj.age = age, obj.year = function() { console.log(this.name &#43; &#39;ä»Šå¹´&#39; &#43; this.age &#43; &#39;å²äº†ï¼&#39;) } return obj; } var obj = createObj(&#39;å°æ˜&#39;, 22); obj.year(); } // å°æ˜ä»Šå¹´22å²äº†ï¼ ä¼˜ç‚¹ï¼šè§£å†³é‡å¤å®ä¾‹åŒ–å¯¹è±¡çš„é—®é¢˜ ç¼ºç‚¹ï¼šæ— æ³•è¯†åˆ«å¯¹è±¡çš„ç±»å‹ï¼Œå› ä¸ºæ‰€æœ‰çš„å®ä¾‹éƒ½æŒ‡å‘ä¸€ä¸ªåŸå‹
3.æ„é€ å‡½æ•° window.onload = function() { function Person(name, age) { this.name = name; this.age = age; this.year = function() { console.log(this.name &#43; &#39;ä»Šå¹´&#39; &#43; this.age &#43; &#39;å²äº†ï¼&#39;) } } var student = new Person(&#39;å°æ˜&#39;, 22); student.year(); } // å°æ˜ä»Šå¹´22å²äº†ï¼ ä¼˜ç‚¹ï¼šå¯ä»¥è¯†åˆ«å¯¹è±¡çš„ç±»å‹ ç¼ºç‚¹ï¼šå¤šä¸ªå®ä¾‹é‡å¤åˆ›å»ºæ–¹æ³•ï¼Œæ— æ³•å…±äº«
4. åŸå‹æ¨¡å¼ window.onload = function() { function Par() {} Par.prototype = { constructor: &#39;Par&#39;, name: &#39;å°æ˜&#39;, age: 22, year: function() { console.log(this.name &#43; &#39;ä»Šå¹´&#39; &#43; this.age &#43; &#39;å²äº†ï¼&#39;) } }; var son = new Par(); son.year(); } // å°æ˜ä»Šå¹´22å²äº†ï¼ ç¼ºç‚¹ï¼šæ‰€æœ‰å®ä¾‹å…±äº«ä»–çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ä¼ å‚å’Œåˆå§‹åŒ–å±æ€§å€¼
5.æ··åˆæ¨¡å¼ (æ¨èä½¿ç”¨) æ˜¯æ„é€ å‡½æ•°å’ŒåŸå‹æ¨¡å¼æ··åˆçš„å†™æ³•ï¼Œæ‹¥æœ‰å„è‡ªçš„ä¼˜ç‚¹ï¼Œæ„é€ å‡½æ•°å…±äº«å®ä¾‹å±æ€§ï¼ŒåŸå‹æ¨¡å¼å…±äº«æ–¹æ³•å’Œæƒ³è¦å…±äº«çš„å±æ€§ï¼Œå¯ä»¥ä¼ å‚å’Œåˆå§‹åŒ–å±æ€§å€¼
å…ˆç”¨æ„é€ å‡½æ•°å®šä¹‰å¯¹è±¡çš„å±æ€§æ–¹æ³•ï¼Œç„¶åç”¨åŸå‹æ¨¡å¼åˆ›å»ºæ–¹æ³•ï¼Œä½¿ç”¨çš„å±æ€§é€šè¿‡ prototype è·å–ï¼Œæœ‰ä¸€ä¸ª constructor å±æ€§ï¼Œå¯ä»¥æŒ‡å‘è¦æ“ä½œçš„å‡½æ•°å¯¹è±¡ï¼ˆæ„é€ å‡½æ•°ï¼‰
æ¯”å¦‚constructor: Parï¼Œå°±ä»£è¡¨ä¸‹é¢è¿™ä¸ªåŸå‹æ–¹æ³•æŒ‡å‘Par()å¯¹è±¡ï¼ˆæ„é€ å‡½æ•°ï¼‰
window.onload = function() { function Par(name, age) { this.name = name; this.age = age; } Par.prototype = { constructor: Par, year: function() { console.log(this.name &#43; &#39;ä»Šå¹´&#39; &#43; this.age &#43; &#39;å²äº†ï¼&#39;); } }; var son = new Par(&#39;å°æ˜&#39;, 22) son.year(); } // å°æ˜ä»Šå¹´22å²äº†ï¼ ä¸‰ã€åŸå‹ï¼ŒåŸå‹é“¾ 1.åŸå‹å¯¹è±¡ å‡½æ•°å¯¹è±¡éƒ½å…·æœ‰prototypeå±æ€§ï¼Œå®ƒæŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ (æµè§ˆå™¨å†…å­˜åˆ›å»ºçš„å¯¹è±¡)ï¼ŒåŸå‹å¯¹è±¡éƒ½å…·æœ‰constructorå±æ€§ï¼Œå®ƒæŒ‡å‘prototypeå±æ€§æ‰€åœ¨çš„å‡½æ•°å¯¹è±¡ (æ„é€ å‡½æ•°) window.onload = function() { function Par(name, age) { this.name = name; this.age = age; } Par.prototype = { // constructoræŒ‡å‘å¯¹è±¡ constructor: Par, year: function() { console.log(this.name &#43; &#39;ä»Šå¹´&#39; &#43; this.age &#43; &#39;å²äº†ï¼&#39;); } }; var son = new Par(&#39;å°æ˜&#39;, 22) son.year(); /*********************************************/ console.log(Par.prototype) console.log(Par.prototype.constructor) /*********************************************/ } é€šè¿‡æ§åˆ¶å°å¯ä»¥çœ‹åˆ°
æ„é€ å‡½æ•°çš„prototyprå±æ€§æŒ‡å‘åŸå‹å¯¹è±¡
åŸå‹å¯¹è±¡çš„construcyorå±æ€§æŒ‡å‘æ„é€ å‡½æ•°
å½“è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå®ä¾‹åï¼Œè¯¥å®ä¾‹ä¼šæœ‰ä¸€ä¸ªéšè—å±æ€§__proto__ ï¼Œå®ƒæŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ console.log(son.__proto__ === Par.prototype) // true æ‰€æœ‰çš„æ„é€ å‡½æ•°çš„ prototype éƒ½æ˜¯ object ç±»å‹ console.log(typeof Par.prototype) // object Function çš„ prototype æ˜¯ä¸€ä¸ªç©ºå‡½æ•°ï¼Œæ‰€æœ‰å†…ç½®å‡½æ•°çš„__proto__å±æ€§éƒ½æŒ‡å‘è¿™ä¸ªç©ºå‡½æ•° console.log(Math.__proto__) å¦‚æœæ„é€ å‡½æ•°å®ä¾‹å’ŒåŸå‹å¯¹è±¡ä¸­åŒæ—¶å®šä¹‰äº†ä¸€ä¸ªå±æ€§ï¼Œåœ¨è°ƒç”¨æ—¶ï¼Œä¼šå±è”½åŸå‹å¯¹è±¡ä¸­çš„å±æ€§ï¼Œå¦‚æœæƒ³è¦è®¿é—®åŸå‹å¯¹è±¡ä¸­çš„å±æ€§å€¼ï¼Œéœ€è¦é€šè¿‡deleteæ–¹æ³•å°†åŒåå±æ€§åœ¨å®ä¾‹ï¼ˆæ„é€ å‡½æ•°ï¼‰ä¸­å½»åº•åˆ é™¤ window.onload = function () { function Par(name) { this.name = name; } Par.prototype.name = &#34;å¼ ä¸‰&#34;; var son = new Par(&#34;æå››&#34;); console.log(son.name); // æå›› console.log(son.__proto__.name); // å¼ ä¸‰ // ä½¿ç”¨ delete åˆ é™¤å®ä¾‹çš„åŒåå±æ€§å€¼ console.log(delete son.name); // true console.log(son.name); // å¼ ä¸‰ } é€šè¿‡hasOwnProperty(å±æ€§å)å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå±æ€§å­˜åœ¨äºæ„é€ å‡½æ•°ä¸­ï¼Œè¿˜æ˜¯åŸå‹å¯¹è±¡ä¸­ trueè¡¨ç¤ºå­˜åœ¨æ„é€ å‡½æ•°ä¸­ï¼›falseè¡¨ç¤ºå­˜åœ¨åŸå‹å¯¹è±¡ä¸­
console.log(Par.hasOwnProperty(name)); // false æ“ä½œç¬¦inï¼Œå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå±æ€§æ˜¯å¦å­˜åœ¨ï¼ˆå­˜åœ¨äºæ„é€ å‡½æ•°å’ŒåŸå‹å¯¹è±¡ä¸­çš†å¯ï¼‰ window.onload = function () { function Par(name, age) { this.name = name; this.age = age; } Par.prototype = { constructor: Par, year: function() { console.log(this.name &#43; this.age) } }; var son = new Par(&#39;xm&#39;, &#39;22&#39;) son.year(); console.log(&#39;name&#39; in Par); // true console.log(&#39;age&#39; in Par); // false } åŒæ ·çš„ä¸¤ä¸ªå±æ€§ï¼Œåˆ¤æ–­å…¶æ˜¯å¦å­˜åœ¨äºå®ä¾‹æˆ–è€…åŸå‹å¯¹è±¡ä¸­ï¼Œè¾“å‡ºçš„ç»“æœä¸ä¸€æ ·
å‚è€ƒ:ã€Šå¯¹è±¡ä¸­æ˜¯å¦æœ‰æŸä¸€ä¸ªå±æ€§ inã€‹https://www.cnblogs.com/IwishIcould/p/12333739.html
2.__proto__å’Œ prototype çš„åŒºåˆ« prototypeå±æ€§åªæœ‰å‡½æ•°å¯¹è±¡ä¸Šæ‰æœ‰ï¼Œè€Œ__proto__å±æ€§æ‰€æœ‰å¯¹è±¡éƒ½æœ‰
prototypeæ˜¯ç”±å‡½æ•°å¯¹è±¡æŒ‡å‘åŸå‹å¯¹è±¡ï¼Œè€Œ__proto__æ˜¯ç”±å®ä¾‹æŒ‡å‘å‡½æ•°å¯¹è±¡çš„åŸå‹å¯¹è±¡
åŸå‹é“¾ï¼Œå°†çˆ¶ç±»å‹çš„å®ä¾‹ä½œä¸ºå­ç±»å‹çš„åŸå‹å¯¹è±¡ï¼Œè¿™ç§é“¾å¼å…³ç³»å«åšåŸå‹é“¾
3.ç»§æ‰¿ åŸå‹é“¾ç»§æ‰¿ ä¼˜ç‚¹ï¼šçˆ¶ç±»åŸå‹å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•å¯ä»¥å¤ç”¨ ç¼ºç‚¹ï¼šå­ç±»å®ä¾‹æ²¡æœ‰è‡ªå·±çš„å±æ€§ï¼Œä¸èƒ½å‘çˆ¶ç±»ä¼ é€’å‚æ•°
function test1() { function SuperType() { this.city = [ &#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34; ]; this.property = true; } SuperType.prototype = { constructor : SuperType, // ä¿æŒæ„é€ å‡½æ•°å’ŒåŸå‹å¯¹è±¡çš„å®Œæ•´æ€§ age : 15, getSuperValue : function() { return this.property; } }; function SonType() { this.property = false; } // é‡å†™å­ç±»çš„åŸå‹æŒ‡å‘çˆ¶ç±»çš„å®ä¾‹ï¼šç»§æ‰¿çˆ¶ç±»çš„åŸå‹ SubType.prototype = new SuperType(); SubType.prototype = { constructor : SubType, getSonType : function() { return this.property; } }; // ä¼˜ç‚¹éªŒè¯ let son = new SubType(); console.log(son.age); // 15 console.log(son.getSuperValue()); // false // ç¼ºç‚¹éªŒè¯ let instance1 = new SubType(); instance1.city.push(&#34;é‡åº†&#34;); console.log(instance1.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;, &#34;é‡åº†&#34;] let instance2 = new SubType(); console.log(instance2.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;, &#34;é‡åº†&#34;] } // test1(); æ„é€ å‡½æ•°ç»§æ‰¿ ä¼˜ç‚¹ï¼šå­ç±»å®ä¾‹æœ‰è‡ªå·±çš„å±æ€§ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•°ï¼Œè§£å†³åŸå‹é“¾ç»§æ‰¿çš„ç¼ºç‚¹ ç¼ºç‚¹ï¼šçˆ¶ç±»åŸå‹çš„å±æ€§å’Œæ–¹æ³•ä¸å¯å¤ç”¨
function test2() { function SuperType(name) { this.name = name; this.city = [ &#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34; ] } SuperType.prototype = { constructor : SuperType, age : 18, showInfo : function() { return this.name; } }; function SubType() { // çˆ¶ç±»è°ƒç”¨ call() æˆ–è€… apply() æ–¹æ³•å’Œå­ç±»å…±ç”¨åŒä¸€ä¸ª thisï¼Œå®ç°å­ç±»å®ä¾‹å±æ€§çš„ç»§æ‰¿ SuperType.call(this, &#34;å¼ ä¸‰&#34;); } // ä¼˜ç‚¹éªŒè¯ let instance = new SubType(); instance.city.push(&#34;é‡åº†&#34;); console.log(instance.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;, &#34;é‡åº†&#34;] let instance1 = new SubType(); console.log(instance1.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;] // ç¼ºç‚¹éªŒè¯ console.log(instance.age); // undefined instance.showInfo(); // son.showInfo is not a function } // test2(); ç»„åˆç»§æ‰¿ï¼ˆæ¨èï¼‰ ä¼˜ç‚¹ï¼šåŸå‹çš„å±æ€§å’Œæ–¹æ³•å¯ä»¥å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»å®ä¾‹éƒ½æœ‰è‡ªå·±çš„å±æ€§ ç¼ºç‚¹ï¼šçˆ¶ç±»æ„é€ å‡½æ•°è°ƒç”¨äº†ä¸¤æ¬¡ï¼Œå­ç±»åŸå‹ä¸­çš„çˆ¶ç±»å®ä¾‹å±æ€§è¢«å­ç±»å®ä¾‹è¦†ç›–
function test3() { function SuperType(name) { this.name = name; this.city = [ &#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34; ] } SuperType.prototype = { constructor : SuperType, showInfo : function() { console.log(this.name &#43; &#34;ä»Šå¹´&#34; &#43; this.age &#43; &#34;å²äº†&#34;); } }; function SubType(name, age) { // 1. é€šè¿‡æ„é€ æ–¹æ³•ç»§æ‰¿å®ç°å®ä¾‹å±æ€§çš„ç»§æ‰¿ SuperType.call(this, name); this.age = age; } // 2. é€šè¿‡åŸå‹é“¾ç»§æ‰¿å®ç°åŸå‹æ–¹æ³•çš„ç»§æ‰¿ SubType.prototype = new SuperType(); // ä¼˜ç‚¹éªŒè¯ let instance = new SubType(&#34;å¼ ä¸‰&#34;, 15); instance.showInfo(); // å¼ ä¸‰ä»Šå¹´ 15 å²äº† let instance1 = new SubType(); instance1.city.push(&#34;é‡åº†&#34;); console.log(instance1.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;, &#34;é‡åº†&#34;] let instance2 = new SubType(); console.log(instance2.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;] } // test3(); å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼ˆæ¨èï¼‰ ä¼˜ç‚¹ï¼šè§£å†³äº†ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹ï¼Œæ•ˆç‡é«˜ ç¼ºç‚¹ï¼šåŸºæœ¬æ²¡æœ‰
function test4() { function inheritPrototype(subType, superType) { // 1. ç»§æ‰¿çˆ¶ç±»çš„åŸå‹ var prototype = Object.create(superType.prototype); // 2. é‡å†™è¢«æ±¡æŸ“çš„ construct prototype.constructor = subType; // 3. é‡å†™å­ç±»çš„åŸå‹ subType.prototype = prototype; } function SuperType(name) { this.name = name; this.city = [ &#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34; ]; } SuperType.prototype.sayName = function() { console.log(this.name); }; function SubType(name, age) { SuperType.call(this, name); this.age = age; } // å°†çˆ¶ç±»åŸå‹æŒ‡å‘å­ç±» inheritPrototype(SubType, SuperType); SubType.prototype.sayAge = function() { console.log(this.age); } // ä¼˜ç‚¹éªŒè¯ let instance = new SubType(&#34;å¼ ä¸‰&#34;, 15); instance.sayName(); // å¼ ä¸‰ let instance1 = new SubType(); instance1.city.push(&#34;é‡åº†&#34;); console.log(instance1.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;, &#34;é‡åº†&#34;] let instance2 = new SubType(); console.log(instance2.city); // [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;] } // test4(); 4.ES6 æ–°æ–¹æ³•ï¼ï¼class æ–°çš„å…³é”®å­—classåœ¨ es6 å¼€å§‹è¢«å¼•å…¥åˆ° javascript ä¸­æ¥ï¼Œclassçš„ç›®çš„å°±æ˜¯è®©å®šä¹‰ç±»æ›´ç®€å•
ç”¨å‡½æ•°æ–¹æ³•å®ç°ï¼š
function Person(name) { this.name = name; } Person.prototype.hello = function () { console.log(&#39;Hello, &#39; &#43; this.name &#43; &#39;!&#39;); } var son = new Person(&#39;xm&#39;) son.hello(); // Hello, xm! ç”¨classæ¥å®ç°ï¼š
class Person { constructor(name) { this.name = name; } hello() { console.log(&#39;Hello, &#39; &#43; this.name &#43; &#39;!&#39;); } } var son = new person(&#39;xm&#39;) son.hello(); // Hello, xm! å¯ä»¥åœ¨çœ‹åˆ°ï¼Œåœ¨å®šä¹‰classä¸­ï¼Œç›´æ¥åŒ…å«äº†æ„é€ å‡½æ•°constructorå±æ€§ï¼Œå’ŒåŸå‹å¯¹è±¡ä¸Šçš„å‡½æ•°hello()æ–¹æ³•ï¼Œçœç•¥æ‰äº†functionå…³é”®å­—
éœ€è¦æ³¨æ„ï¼šåŸæ¥çš„å†™æ³•æ˜¯ï¼Œæ„é€ å‡½æ•°å’ŒåŸå‹å¯¹è±¡åˆ†æ•£å¼€æ¥å†™ï¼Œç°åœ¨ç”¨classå¯ä»¥ç›´æ¥æŠŠä¸¤è€…ä¸²åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œåªæœ‰æœ€åä¼ å‚å’Œè°ƒç”¨æ–¹æ³•æ—¶å†™æ³•æ˜¯ä¸€æ ·çš„
class ç»§æ‰¿
ç”¨classå®šä¹‰å¯¹è±¡çš„å¦ä¸€ä¸ªå·¨å¤§çš„å¥½å¤„æ˜¯ç»§æ‰¿æ›´æ–¹ä¾¿äº†ã€‚æƒ³ä¸€æƒ³æˆ‘ä»¬ä»Personæ´¾ç”Ÿä¸€ä¸ªPrimaryPersonéœ€è¦ç¼–å†™çš„ä»£ç é‡ã€‚ç°åœ¨ï¼ŒåŸå‹ç»§æ‰¿çš„ä¸­é—´å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡çš„æ„é€ å‡½æ•°ç­‰ç­‰éƒ½ä¸éœ€è¦è€ƒè™‘äº†ï¼Œç›´æ¥é€šè¿‡extendsæ¥å®ç°ï¼š
class PrimaryPerson extends Person { constructor(name, grade) { super(name); // è®°å¾—ç”¨ super è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼ this.grade = grade; } myGrade() { alert(&#39;I am at grade &#39; &#43; this.grade); } } æ³¨æ„PrimaryPersonçš„å®šä¹‰ä¹Ÿæ˜¯é€šè¿‡ class å…³é”®å­—å®ç°çš„ï¼Œè€Œextendsåˆ™è¡¨ç¤ºåŸå‹é“¾å¯¹è±¡æ¥è‡ªPersonï¼Œå­ç±»çš„æ„é€ å‡½æ•°å¯èƒ½ä¼šå’Œçˆ¶ç±»çš„ä¸å¤ªç›¸åŒ
ä¾‹å¦‚ï¼ŒPrimaryPersonéœ€è¦nameå’Œgradeä¸¤ä¸ªå‚æ•°ï¼Œå¹¶ä¸”éœ€è¦é€šè¿‡super(name)æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¦åˆ™çˆ¶ç±»çš„nameå±æ€§æ— æ³•æ­£å¸¸åˆå§‹åŒ–ã€‚
PrimaryPersonå·²ç»è‡ªåŠ¨è·å¾—äº†çˆ¶ç±»Personçš„helloæ–¹æ³•ï¼Œæˆ‘ä»¬åˆåœ¨å­ç±»ä¸­å®šä¹‰äº†æ–°çš„myGradeæ–¹æ³•ã€‚
ES6 å¼•å…¥çš„classå’ŒåŸæœ‰çš„JavaScriptåŸå‹ç»§æ‰¿æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ
å®é™…ä¸Šå®ƒä»¬æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œclassçš„ä½œç”¨å°±æ˜¯è®© JavaScript å¼•æ“å»å®ç°åŸæ¥éœ€è¦æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„åŸå‹é“¾ä»£ç ã€‚ç®€è€Œè¨€ä¹‹ï¼Œç”¨classçš„å¥½å¤„å°±æ˜¯æå¤§åœ°ç®€åŒ–äº†åŸå‹é“¾ä»£ç ã€‚
ä½†æ˜¯ï¼
ç›®å‰å¹¶ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒclassï¼Œæ‰€ä»¥åœ¨é€‰æ‹©çš„æ—¶å€™ä¸€å®šè¦æ…é‡ï¼
" />
<meta property="og:locale" content="en-us" /><meta property="og:image" content="https://imgurl.zishu.me/favicon.ico" />


<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ezyshu/cdn/fonts/tsanger-jinkai/style.css">
<link rel="stylesheet" href="/css/ui.css">
<script src="/js/jquery-3.6.1.js"></script>
<script defer src="/js/dark-mode.js"></script>
<link disabled id="dark-mode-theme" rel="stylesheet" href="/css/dark.css">
<link rel="stylesheet" href="/css/dropdown.css">
<link href="/index.xml" rel="alternate" type="application/rss+xml" title="å­èˆ’çš„åšå®¢">
</head>

<body>
  <header class="container no-print">
  <div class="u-header">
    <nav class="bar">
      <ul>
        <li><img class="icon-text" id="dark-mode-toggle" src="/images/moon.svg" alt="Toggle Dark Mode"></li>

        
        <li><a href="/">é¦–é¡µ</a></li>
        
        <li><a href="/blog/">æ–‡ç« </a></li>
        
        <li><a href="/tags/">æ ‡ç­¾</a></li>
        
        <li><a href="/message/">ç•™è¨€</a></li>
        
        <li><a href="/about/">å…³äº</a></li>
        
        <li><a href="/projects/">é¡¹ç›®</a></li>
        
        <li><a href="/friends/">å‹é“¾</a></li>
        
        
        <li><a href="/search/">ğŸ”</a></li>
        <li><a href="/index.xml" target="_blank">RSS</a></li>
      </ul>
    </nav>

  </div>
</header>
  <main class="container">

    <header>
      <hgroup id="brand">
        <h1>é¢å‘å¯¹è±¡ç¼–ç¨‹</h1>

        
        <h5>
          <time>2020/11/12</time>

          
          <span class="no-print">|
          
          <a href="/tags/%E7%BC%96%E7%A8%8B">#ç¼–ç¨‹</a>
          
          <a href="/tags/js">#js</a>
          
          </span>
          

          
          
          <span class="no-print">|
            <a href="/categories/%E6%8A%80%E6%9C%AF">æŠ€æœ¯</a>
          </span>
          
          
        </h5>
        

      </hgroup>
      <hr class="sep">
    </header>
    

    
    <div class="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#ä¸€ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹">ä¸€ã€ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹</a>
      <ul>
        <li><a href="#1é¢å‘è¿‡ç¨‹ç¨‹åºè®¾è®¡">1.é¢å‘è¿‡ç¨‹ç¨‹åºè®¾è®¡</a></li>
        <li><a href="#2é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡">2.é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡</a></li>
      </ul>
    </li>
    <li><a href="#äºŒåˆ›å»ºå¯¹è±¡çš„æ–¹æ³•">äºŒã€åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•</a>
      <ul>
        <li><a href="#1åˆ›å»ºå­—é¢é‡å’Œå®ä¾‹">1.åˆ›å»ºå­—é¢é‡å’Œå®ä¾‹</a></li>
        <li><a href="#2å·¥å‚æ¨¡å¼">2.å·¥å‚æ¨¡å¼</a></li>
        <li><a href="#3æ„é€ å‡½æ•°">3.æ„é€ å‡½æ•°</a></li>
        <li><a href="#4-åŸå‹æ¨¡å¼">4. åŸå‹æ¨¡å¼</a></li>
        <li><a href="#5æ··åˆæ¨¡å¼-æ¨èä½¿ç”¨">5.æ··åˆæ¨¡å¼ (æ¨èä½¿ç”¨)</a></li>
      </ul>
    </li>
    <li><a href="#ä¸‰åŸå‹åŸå‹é“¾">ä¸‰ã€åŸå‹ï¼ŒåŸå‹é“¾</a>
      <ul>
        <li><a href="#1åŸå‹å¯¹è±¡">1.åŸå‹å¯¹è±¡</a></li>
        <li><a href="#2__proto__å’Œ-prototype-çš„åŒºåˆ«">2.__proto__å’Œ prototype çš„åŒºåˆ«</a></li>
        <li><a href="#3ç»§æ‰¿">3.ç»§æ‰¿</a></li>
        <li><a href="#4es6-æ–°æ–¹æ³•class">4.ES6 æ–°æ–¹æ³•ï¼ï¼class</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
    

    <article class="post-content">
      
      <p>é¢å‘å¯¹è±¡æŠŠæ„æˆé—®é¢˜çš„ transaction åˆ†è§£æˆå„ä¸ªå¯¹è±¡ï¼Œè€Œå»ºç«‹å¯¹è±¡çš„ç›®çš„ä¹Ÿä¸æ˜¯ä¸ºäº†å®Œæˆä¸€ä¸ªä¸ªæ­¥éª¤ï¼Œè€Œæ˜¯ä¸ºäº†æè¿°æŸä¸ªäº‹ç‰©åœ¨è§£å†³æ•´ä¸ªé—®é¢˜çš„è¿‡ç¨‹ä¸­æ‰€å‘ç”Ÿçš„è¡Œä¸ºï¼Œæ„åœ¨å†™å‡ºé€šç”¨ä»£ç ï¼ŒåŠ å¼ºä»£ç é‡ç”¨ï¼Œå±è”½å·®å¼‚æ€§ã€‚</p>
<h2 id="ä¸€ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹">ä¸€ã€ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹</h2>
<p>js æ˜¯<code>åŸºäºåŸå‹</code>çš„ï¼ŒåŸºäº<code>é¢å‘å¯¹è±¡ç¼–ç¨‹</code></p>
<p>é¢å‘å¯¹è±¡å°±æ˜¯æŠŠæ•°æ®å’Œå¯¹æ•°æ®çš„æ“ä½œæ–¹æ³•æ”¾åœ¨ä¸€èµ·ï¼Œä½œä¸ºä¸€ä¸ªæ•´ä½“â€”â€”å¯¹è±¡ã€‚å¯¹åŒç±»å¯¹è±¡æŠ½è±¡å‡ºå…¶å…±æ€§ï¼Œå½¢æˆç±»</p>
<h3 id="1é¢å‘è¿‡ç¨‹ç¨‹åºè®¾è®¡">1.é¢å‘è¿‡ç¨‹ç¨‹åºè®¾è®¡</h3>
<p>å°†ä¸€ä¸ªé¡¹ç›®ï¼ˆæˆ–è€…ä¸€ä¸ªäº‹ä»¶ï¼‰ä»å¤´åˆ°å°¾æŒ‰é¡ºåºï¼Œä¸€æ­¥ä¸€æ­¥å®Œæˆï¼Œå…ˆåšä»€ä¹ˆï¼Œååšä»€ä¹ˆï¼Œä¸€ç›´åˆ°ç»“æŸï¼Œä¹Ÿæ˜¯æˆ‘ä»¬äººåšäº‹çš„æ–¹æ³•ã€‚</p>
<p>è‡ªä¸Šè€Œä¸‹ï¼Œå…ˆç¡®å®šä¸€ä¸ªæ•´ä½“çš„æ¡†æ¶ï¼Œç„¶åæ·»ç –åŠ ç“¦ï¼Œé€æ­¥å®ç°æƒ³è¦å¾—åˆ°çš„æ•ˆæœï¼Œé€‚ç”¨äºç®€å•çš„ç³»ç»Ÿï¼Œå®¹æ˜“ç†è§£ã€‚ä½†æ˜¯éš¾ä»¥åº”å¯¹å¤æ‚çš„ç³»ç»Ÿï¼Œä¸æ˜“ç»´æŠ¤æ‰©å±•ï¼Œéš¾ä»¥å¤ç”¨</p>
<p>é¢å‘è¿‡ç¨‹æ˜¯åˆ†æè§£å†³é—®é¢˜çš„æ­¥éª¤ï¼Œç„¶åç”¨å‡½æ•°æŠŠè¿™äº›æ­¥éª¤ä¸€æ­¥ä¸€æ­¥çš„å®ç°ï¼Œç„¶ååœ¨ä½¿ç”¨çš„æ—¶å€™ä¸€ä¸€è°ƒç”¨åˆ™å¯ã€‚å¼ºè°ƒçš„æ˜¯å®Œæˆè¿™ä»¶äº‹å„¿çš„åŠ¨ä½œï¼Œæ›´æ¥è¿‘æˆ‘ä»¬æ—¥å¸¸å¤„ç†äº‹æƒ…çš„æ€ç»´ã€‚</p>
<h3 id="2é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡">2.é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡</h3>
<p>å°†ä¸€ä¸ªé¡¹ç›®ï¼ˆæˆ–è€…ä¸€ä¸ªäº‹ä»¶ï¼‰åˆ†æˆæ›´å°çš„é¡¹ç›®ï¼Œæ¯ä¸€ä¸ªéƒ¨åˆ†è´Ÿè´£ä¸€æ–¹é¢çš„åŠŸèƒ½ï¼Œæœ€åç”±è¿™äº›éƒ¨åˆ†ç»„æˆä¸€ä¸ªæ•´ä½“ï¼Œå…ˆè®¾è®¡ç»„ä»¶ï¼Œåœ¨å®Œæˆæ‹¼è£…ï¼Œé€‚ç”¨äºå¤§å‹å¤æ‚çš„ç³»ç»Ÿ</p>
<p>é¢å‘å¯¹è±¡æŠŠæ„æˆé—®é¢˜çš„ transaction åˆ†è§£æˆå„ä¸ªå¯¹è±¡ï¼Œè€Œå»ºç«‹å¯¹è±¡çš„ç›®çš„ä¹Ÿä¸æ˜¯ä¸ºäº†å®Œæˆä¸€ä¸ªä¸ªæ­¥éª¤ï¼Œè€Œæ˜¯ä¸ºäº†æè¿°æŸä¸ªäº‹ç‰©åœ¨è§£å†³æ•´ä¸ªé—®é¢˜çš„è¿‡ç¨‹ä¸­æ‰€å‘ç”Ÿçš„è¡Œä¸ºï¼Œæ„åœ¨å†™å‡ºé€šç”¨ä»£ç ï¼ŒåŠ å¼ºä»£ç é‡ç”¨ï¼Œå±è”½å·®å¼‚æ€§ã€‚</p>
<p>æƒ³è¦å¼„æ˜ç™½é¢å‘å¯¹è±¡ï¼Œéœ€è¦å…ˆç†è§£ç±»å’Œå¯¹è±¡çš„æ¦‚å¿µ</p>
<p><a href="../20201118-objects-interfaces-classes">ã€Šä»€ä¹ˆæ˜¯ç±»å’Œå¯¹è±¡ï¼Ÿã€‹</a></p>
<h2 id="äºŒåˆ›å»ºå¯¹è±¡çš„æ–¹æ³•">äºŒã€åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•</h2>
<h3 id="1åˆ›å»ºå­—é¢é‡å’Œå®ä¾‹">1.åˆ›å»ºå­—é¢é‡å’Œå®ä¾‹</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// å®ä¾‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">person</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">&#39;å°æ˜&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">person</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">22</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">person</span><span class="p">.</span><span class="nx">year</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;ä»Šå¹´&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">+</span> <span class="s1">&#39;å²äº†ï¼&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="nx">person</span><span class="p">.</span><span class="nx">year</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// å­—é¢é‡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">var</span> <span class="nx">student</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;å°æ˜&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">age</span><span class="o">:</span> <span class="mi">22</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">year</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;ä»Šå¹´&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">+</span> <span class="s1">&#39;å²äº†ï¼&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">student</span><span class="p">.</span><span class="nx">year</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å°æ˜ä»Šå¹´22å²äº†ï¼
</span></span></span></code></pre></div><p>ä¸¤è€…è¾“å‡ºçš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œæ§åˆ¶å°è¾“å‡ºï¼š</p>
<blockquote>
<p>ç¼ºç‚¹ï¼šé‡å¤å®ä¾‹åŒ–å¯¹è±¡ï¼Œä»£ç å†—ä½™é«˜</p></blockquote>
<h3 id="2å·¥å‚æ¨¡å¼">2.å·¥å‚æ¨¡å¼</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">createObj</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="nx">obj</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">obj</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">obj</span><span class="p">.</span><span class="nx">year</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;ä»Šå¹´&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">+</span> <span class="s1">&#39;å²äº†ï¼&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">obj</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nx">createObj</span><span class="p">(</span><span class="s1">&#39;å°æ˜&#39;</span><span class="p">,</span> <span class="mi">22</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">obj</span><span class="p">.</span><span class="nx">year</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å°æ˜ä»Šå¹´22å²äº†ï¼
</span></span></span></code></pre></div><blockquote>
<p>ä¼˜ç‚¹ï¼šè§£å†³é‡å¤å®ä¾‹åŒ–å¯¹è±¡çš„é—®é¢˜
ç¼ºç‚¹ï¼šæ— æ³•è¯†åˆ«å¯¹è±¡çš„ç±»å‹ï¼Œå› ä¸ºæ‰€æœ‰çš„å®ä¾‹éƒ½æŒ‡å‘ä¸€ä¸ªåŸå‹</p></blockquote>
<h3 id="3æ„é€ å‡½æ•°">3.æ„é€ å‡½æ•°</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">Person</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">year</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;ä»Šå¹´&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">+</span> <span class="s1">&#39;å²äº†ï¼&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">student</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s1">&#39;å°æ˜&#39;</span><span class="p">,</span> <span class="mi">22</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">student</span><span class="p">.</span><span class="nx">year</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å°æ˜ä»Šå¹´22å²äº†ï¼
</span></span></span></code></pre></div><blockquote>
<p>ä¼˜ç‚¹ï¼šå¯ä»¥è¯†åˆ«å¯¹è±¡çš„ç±»å‹
ç¼ºç‚¹ï¼šå¤šä¸ªå®ä¾‹é‡å¤åˆ›å»ºæ–¹æ³•ï¼Œæ— æ³•å…±äº«</p></blockquote>
<h3 id="4-åŸå‹æ¨¡å¼">4. åŸå‹æ¨¡å¼</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">Par</span><span class="p">()</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Par</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">constructor</span><span class="o">:</span> <span class="s1">&#39;Par&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;å°æ˜&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">age</span><span class="o">:</span> <span class="mi">22</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">year</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;ä»Šå¹´&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">+</span> <span class="s1">&#39;å²äº†ï¼&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">son</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Par</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">son</span><span class="p">.</span><span class="nx">year</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å°æ˜ä»Šå¹´22å²äº†ï¼
</span></span></span></code></pre></div><blockquote>
<p>ç¼ºç‚¹ï¼šæ‰€æœ‰å®ä¾‹å…±äº«ä»–çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ä¼ å‚å’Œåˆå§‹åŒ–å±æ€§å€¼</p></blockquote>
<h3 id="5æ··åˆæ¨¡å¼-æ¨èä½¿ç”¨">5.æ··åˆæ¨¡å¼ (æ¨èä½¿ç”¨)</h3>
<p>æ˜¯æ„é€ å‡½æ•°å’ŒåŸå‹æ¨¡å¼æ··åˆçš„å†™æ³•ï¼Œæ‹¥æœ‰å„è‡ªçš„ä¼˜ç‚¹ï¼Œæ„é€ å‡½æ•°å…±äº«å®ä¾‹å±æ€§ï¼ŒåŸå‹æ¨¡å¼å…±äº«æ–¹æ³•å’Œæƒ³è¦å…±äº«çš„å±æ€§ï¼Œå¯ä»¥ä¼ å‚å’Œåˆå§‹åŒ–å±æ€§å€¼</p>
<p>å…ˆç”¨æ„é€ å‡½æ•°å®šä¹‰å¯¹è±¡çš„å±æ€§æ–¹æ³•ï¼Œç„¶åç”¨åŸå‹æ¨¡å¼åˆ›å»ºæ–¹æ³•ï¼Œä½¿ç”¨çš„å±æ€§é€šè¿‡ prototype è·å–ï¼Œæœ‰ä¸€ä¸ª constructor å±æ€§ï¼Œå¯ä»¥æŒ‡å‘è¦æ“ä½œçš„å‡½æ•°å¯¹è±¡ï¼ˆæ„é€ å‡½æ•°ï¼‰</p>
<p>æ¯”å¦‚<code>constructor: Par</code>ï¼Œå°±ä»£è¡¨ä¸‹é¢è¿™ä¸ªåŸå‹æ–¹æ³•æŒ‡å‘<code>Par()</code>å¯¹è±¡ï¼ˆæ„é€ å‡½æ•°ï¼‰</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">Par</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Par</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">constructor</span><span class="o">:</span> <span class="nx">Par</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">year</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;ä»Šå¹´&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">+</span> <span class="s1">&#39;å²äº†ï¼&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">son</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Par</span><span class="p">(</span><span class="s1">&#39;å°æ˜&#39;</span><span class="p">,</span> <span class="mi">22</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">son</span><span class="p">.</span><span class="nx">year</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å°æ˜ä»Šå¹´22å²äº†ï¼
</span></span></span></code></pre></div><h2 id="ä¸‰åŸå‹åŸå‹é“¾">ä¸‰ã€åŸå‹ï¼ŒåŸå‹é“¾</h2>
<h3 id="1åŸå‹å¯¹è±¡">1.åŸå‹å¯¹è±¡</h3>
<ol>
<li>å‡½æ•°å¯¹è±¡éƒ½å…·æœ‰<code>prototype</code>å±æ€§ï¼Œå®ƒæŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ (æµè§ˆå™¨å†…å­˜åˆ›å»ºçš„å¯¹è±¡)ï¼ŒåŸå‹å¯¹è±¡éƒ½å…·æœ‰<code>constructor</code>å±æ€§ï¼Œå®ƒæŒ‡å‘<code>prototype</code>å±æ€§æ‰€åœ¨çš„å‡½æ•°å¯¹è±¡ (æ„é€ å‡½æ•°)</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">Par</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Par</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// constructoræŒ‡å‘å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">constructor</span><span class="o">:</span> <span class="nx">Par</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">year</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;ä»Šå¹´&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">+</span> <span class="s1">&#39;å²äº†ï¼&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">son</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Par</span><span class="p">(</span><span class="s1">&#39;å°æ˜&#39;</span><span class="p">,</span> <span class="mi">22</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">son</span><span class="p">.</span><span class="nx">year</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*********************************************/</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Par</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Par</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="cm">/*********************************************/</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>é€šè¿‡æ§åˆ¶å°å¯ä»¥çœ‹åˆ°</p>
<p>æ„é€ å‡½æ•°çš„<code>prototypr</code>å±æ€§æŒ‡å‘åŸå‹å¯¹è±¡</p>
<p>åŸå‹å¯¹è±¡çš„<code>construcyor</code>å±æ€§æŒ‡å‘æ„é€ å‡½æ•°</p>
<ol>
<li>å½“è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå®ä¾‹åï¼Œè¯¥å®ä¾‹ä¼šæœ‰ä¸€ä¸ªéšè—å±æ€§<code>__proto__ </code>ï¼Œå®ƒæŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">son</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">Par</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// true
</span></span></span></code></pre></div><ol start="3">
<li>æ‰€æœ‰çš„æ„é€ å‡½æ•°çš„ prototype éƒ½æ˜¯ object ç±»å‹</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">Par</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// object
</span></span></span></code></pre></div><ol start="4">
<li>Function çš„ prototype æ˜¯ä¸€ä¸ªç©ºå‡½æ•°ï¼Œæ‰€æœ‰å†…ç½®å‡½æ•°çš„__proto__å±æ€§éƒ½æŒ‡å‘è¿™ä¸ªç©ºå‡½æ•°</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">)</span>
</span></span></code></pre></div><ol>
<li>å¦‚æœæ„é€ å‡½æ•°å®ä¾‹å’ŒåŸå‹å¯¹è±¡ä¸­åŒæ—¶å®šä¹‰äº†ä¸€ä¸ªå±æ€§ï¼Œåœ¨è°ƒç”¨æ—¶ï¼Œä¼šå±è”½åŸå‹å¯¹è±¡ä¸­çš„å±æ€§ï¼Œå¦‚æœæƒ³è¦è®¿é—®åŸå‹å¯¹è±¡ä¸­çš„å±æ€§å€¼ï¼Œéœ€è¦é€šè¿‡<code>delete</code>æ–¹æ³•å°†åŒåå±æ€§åœ¨å®ä¾‹ï¼ˆæ„é€ å‡½æ•°ï¼‰ä¸­å½»åº•åˆ é™¤</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">Par</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Par</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s2">&#34;å¼ ä¸‰&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">son</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Par</span><span class="p">(</span><span class="s2">&#34;æå››&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">son</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">// æå››
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">son</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">// å¼ ä¸‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ä½¿ç”¨ delete åˆ é™¤å®ä¾‹çš„åŒåå±æ€§å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">delete</span> <span class="nx">son</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>   <span class="c1">// true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">son</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">// å¼ ä¸‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><ol start="6">
<li>é€šè¿‡<code>hasOwnProperty(å±æ€§å)</code>å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå±æ€§å­˜åœ¨äºæ„é€ å‡½æ•°ä¸­ï¼Œè¿˜æ˜¯åŸå‹å¯¹è±¡ä¸­</li>
</ol>
<blockquote>
<p><code>true</code>è¡¨ç¤ºå­˜åœ¨æ„é€ å‡½æ•°ä¸­ï¼›<code>false</code>è¡¨ç¤ºå­˜åœ¨åŸå‹å¯¹è±¡ä¸­</p></blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Par</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">name</span><span class="p">));</span>  <span class="c1">// false
</span></span></span></code></pre></div><ol start="7">
<li>æ“ä½œç¬¦<code>in</code>ï¼Œå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå±æ€§æ˜¯å¦å­˜åœ¨ï¼ˆå­˜åœ¨äºæ„é€ å‡½æ•°å’ŒåŸå‹å¯¹è±¡ä¸­çš†å¯ï¼‰</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">Par</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Par</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">constructor</span><span class="o">:</span> <span class="nx">Par</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">year</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">age</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">son</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Par</span><span class="p">(</span><span class="s1">&#39;xm&#39;</span><span class="p">,</span> <span class="s1">&#39;22&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">son</span><span class="p">.</span><span class="nx">year</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="k">in</span> <span class="nx">Par</span><span class="p">);</span> <span class="c1">// true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;age&#39;</span> <span class="k">in</span> <span class="nx">Par</span><span class="p">);</span>  <span class="c1">// false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><p>åŒæ ·çš„ä¸¤ä¸ªå±æ€§ï¼Œåˆ¤æ–­å…¶æ˜¯å¦å­˜åœ¨äºå®ä¾‹æˆ–è€…åŸå‹å¯¹è±¡ä¸­ï¼Œè¾“å‡ºçš„ç»“æœä¸ä¸€æ ·</p>
<blockquote>
<p>å‚è€ƒ:ã€Šå¯¹è±¡ä¸­æ˜¯å¦æœ‰æŸä¸€ä¸ªå±æ€§ inã€‹<a href="https://www.cnblogs.com/IwishIcould/p/12333739.html">https://www.cnblogs.com/IwishIcould/p/12333739.html</a></p></blockquote>
<h3 id="2__proto__å’Œ-prototype-çš„åŒºåˆ«">2.__proto__å’Œ prototype çš„åŒºåˆ«</h3>
<ol>
<li>
<p><code>prototype</code>å±æ€§åªæœ‰å‡½æ•°å¯¹è±¡ä¸Šæ‰æœ‰ï¼Œè€Œ<code>__proto__</code>å±æ€§æ‰€æœ‰å¯¹è±¡éƒ½æœ‰</p>
</li>
<li>
<p><code>prototype</code>æ˜¯ç”±å‡½æ•°å¯¹è±¡æŒ‡å‘åŸå‹å¯¹è±¡ï¼Œè€Œ<code>__proto__</code>æ˜¯ç”±å®ä¾‹æŒ‡å‘å‡½æ•°å¯¹è±¡çš„åŸå‹å¯¹è±¡</p>
</li>
<li>
<p>åŸå‹é“¾ï¼Œå°†çˆ¶ç±»å‹çš„å®ä¾‹ä½œä¸ºå­ç±»å‹çš„åŸå‹å¯¹è±¡ï¼Œè¿™ç§é“¾å¼å…³ç³»å«åš<code>åŸå‹é“¾</code></p>
</li>
</ol>
<h3 id="3ç»§æ‰¿">3.ç»§æ‰¿</h3>
<ol>
<li>åŸå‹é“¾ç»§æ‰¿</li>
</ol>
<blockquote>
<p>ä¼˜ç‚¹ï¼šçˆ¶ç±»åŸå‹å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•å¯ä»¥å¤ç”¨
ç¼ºç‚¹ï¼šå­ç±»å®ä¾‹æ²¡æœ‰è‡ªå·±çš„å±æ€§ï¼Œä¸èƒ½å‘çˆ¶ç±»ä¼ é€’å‚æ•°</p></blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">test1</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">SuperType</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">city</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&#34;åŒ—äº¬&#34;</span><span class="p">,</span> <span class="s2">&#34;ä¸Šæµ·&#34;</span><span class="p">,</span> <span class="s2">&#34;å¤©æ´¥&#34;</span> <span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">property</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">SuperType</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">constructor</span> <span class="o">:</span> <span class="nx">SuperType</span><span class="p">,</span>     <span class="c1">// ä¿æŒæ„é€ å‡½æ•°å’ŒåŸå‹å¯¹è±¡çš„å®Œæ•´æ€§
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">age</span> <span class="o">:</span> <span class="mi">15</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">getSuperValue</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">property</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">SonType</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">property</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// é‡å†™å­ç±»çš„åŸå‹æŒ‡å‘çˆ¶ç±»çš„å®ä¾‹ï¼šç»§æ‰¿çˆ¶ç±»çš„åŸå‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">SubType</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SuperType</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">SubType</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">constructor</span> <span class="o">:</span> <span class="nx">SubType</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">getSonType</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">property</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ä¼˜ç‚¹éªŒè¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">let</span> <span class="nx">son</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubType</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">son</span><span class="p">.</span><span class="nx">age</span><span class="p">);</span> <span class="c1">// 15
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">son</span><span class="p">.</span><span class="nx">getSuperValue</span><span class="p">());</span> <span class="c1">// false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ç¼ºç‚¹éªŒè¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">let</span> <span class="nx">instance1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubType</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">instance1</span><span class="p">.</span><span class="nx">city</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&#34;é‡åº†&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">instance1</span><span class="p">.</span><span class="nx">city</span><span class="p">);</span> <span class="c1">// [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;, &#34;é‡åº†&#34;]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">instance2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubType</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">instance2</span><span class="p">.</span><span class="nx">city</span><span class="p">);</span> <span class="c1">// [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;, &#34;é‡åº†&#34;]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// test1();
</span></span></span></code></pre></div><ol start="2">
<li>æ„é€ å‡½æ•°ç»§æ‰¿</li>
</ol>
<blockquote>
<p>ä¼˜ç‚¹ï¼šå­ç±»å®ä¾‹æœ‰è‡ªå·±çš„å±æ€§ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•°ï¼Œè§£å†³åŸå‹é“¾ç»§æ‰¿çš„ç¼ºç‚¹
ç¼ºç‚¹ï¼šçˆ¶ç±»åŸå‹çš„å±æ€§å’Œæ–¹æ³•ä¸å¯å¤ç”¨</p></blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">test2</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">SuperType</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">city</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&#34;åŒ—äº¬&#34;</span><span class="p">,</span> <span class="s2">&#34;ä¸Šæµ·&#34;</span><span class="p">,</span> <span class="s2">&#34;å¤©æ´¥&#34;</span> <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">SuperType</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">constructor</span> <span class="o">:</span> <span class="nx">SuperType</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">age</span> <span class="o">:</span> <span class="mi">18</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">showInfo</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">SubType</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// çˆ¶ç±»è°ƒç”¨ call() æˆ–è€… apply() æ–¹æ³•å’Œå­ç±»å…±ç”¨åŒä¸€ä¸ª thisï¼Œå®ç°å­ç±»å®ä¾‹å±æ€§çš„ç»§æ‰¿
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">SuperType</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s2">&#34;å¼ ä¸‰&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ä¼˜ç‚¹éªŒè¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">let</span> <span class="nx">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubType</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">instance</span><span class="p">.</span><span class="nx">city</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&#34;é‡åº†&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">instance</span><span class="p">.</span><span class="nx">city</span><span class="p">);</span> <span class="c1">// [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;, &#34;é‡åº†&#34;]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">instance1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubType</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">instance1</span><span class="p">.</span><span class="nx">city</span><span class="p">);</span> <span class="c1">// [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ç¼ºç‚¹éªŒè¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">instance</span><span class="p">.</span><span class="nx">age</span><span class="p">);</span> <span class="c1">// undefined
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">instance</span><span class="p">.</span><span class="nx">showInfo</span><span class="p">();</span> <span class="c1">// son.showInfo is not a function
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// test2();
</span></span></span></code></pre></div><ol start="3">
<li>ç»„åˆç»§æ‰¿ï¼ˆæ¨èï¼‰</li>
</ol>
<blockquote>
<p>ä¼˜ç‚¹ï¼šåŸå‹çš„å±æ€§å’Œæ–¹æ³•å¯ä»¥å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»å®ä¾‹éƒ½æœ‰è‡ªå·±çš„å±æ€§
ç¼ºç‚¹ï¼šçˆ¶ç±»æ„é€ å‡½æ•°è°ƒç”¨äº†ä¸¤æ¬¡ï¼Œå­ç±»åŸå‹ä¸­çš„çˆ¶ç±»å®ä¾‹å±æ€§è¢«å­ç±»å®ä¾‹è¦†ç›–</p></blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">test3</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">SuperType</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">city</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&#34;åŒ—äº¬&#34;</span><span class="p">,</span> <span class="s2">&#34;ä¸Šæµ·&#34;</span><span class="p">,</span> <span class="s2">&#34;å¤©æ´¥&#34;</span> <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">SuperType</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">constructor</span> <span class="o">:</span> <span class="nx">SuperType</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">showInfo</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&#34;ä»Šå¹´&#34;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">+</span> <span class="s2">&#34;å²äº†&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">SubType</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 1. é€šè¿‡æ„é€ æ–¹æ³•ç»§æ‰¿å®ç°å®ä¾‹å±æ€§çš„ç»§æ‰¿
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">SuperType</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 2. é€šè¿‡åŸå‹é“¾ç»§æ‰¿å®ç°åŸå‹æ–¹æ³•çš„ç»§æ‰¿
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">SubType</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SuperType</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ä¼˜ç‚¹éªŒè¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">let</span> <span class="nx">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubType</span><span class="p">(</span><span class="s2">&#34;å¼ ä¸‰&#34;</span><span class="p">,</span> <span class="mi">15</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">instance</span><span class="p">.</span><span class="nx">showInfo</span><span class="p">();</span> <span class="c1">// å¼ ä¸‰ä»Šå¹´ 15 å²äº†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">instance1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubType</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">instance1</span><span class="p">.</span><span class="nx">city</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&#34;é‡åº†&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">instance1</span><span class="p">.</span><span class="nx">city</span><span class="p">);</span> <span class="c1">// [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;, &#34;é‡åº†&#34;]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">instance2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubType</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">instance2</span><span class="p">.</span><span class="nx">city</span><span class="p">);</span> <span class="c1">// [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// test3();
</span></span></span></code></pre></div><ol start="4">
<li>å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼ˆæ¨èï¼‰</li>
</ol>
<blockquote>
<p>ä¼˜ç‚¹ï¼šè§£å†³äº†ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹ï¼Œæ•ˆç‡é«˜
ç¼ºç‚¹ï¼šåŸºæœ¬æ²¡æœ‰</p></blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">test4</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">inheritPrototype</span><span class="p">(</span><span class="nx">subType</span><span class="p">,</span> <span class="nx">superType</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 1. ç»§æ‰¿çˆ¶ç±»çš„åŸå‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kd">var</span> <span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">superType</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 2. é‡å†™è¢«æ±¡æŸ“çš„ construct
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="nx">subType</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 3. é‡å†™å­ç±»çš„åŸå‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">subType</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">prototype</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">SuperType</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">city</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&#34;åŒ—äº¬&#34;</span><span class="p">,</span> <span class="s2">&#34;ä¸Šæµ·&#34;</span><span class="p">,</span> <span class="s2">&#34;å¤©æ´¥&#34;</span> <span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">SuperType</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sayName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">SubType</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">SuperType</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// å°†çˆ¶ç±»åŸå‹æŒ‡å‘å­ç±»
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">inheritPrototype</span><span class="p">(</span><span class="nx">SubType</span><span class="p">,</span> <span class="nx">SuperType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">SubType</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sayAge</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">age</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ä¼˜ç‚¹éªŒè¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">let</span> <span class="nx">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubType</span><span class="p">(</span><span class="s2">&#34;å¼ ä¸‰&#34;</span><span class="p">,</span> <span class="mi">15</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">instance</span><span class="p">.</span><span class="nx">sayName</span><span class="p">();</span> <span class="c1">// å¼ ä¸‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">instance1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubType</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">instance1</span><span class="p">.</span><span class="nx">city</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&#34;é‡åº†&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">instance1</span><span class="p">.</span><span class="nx">city</span><span class="p">);</span> <span class="c1">// [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;, &#34;é‡åº†&#34;]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">instance2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubType</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">instance2</span><span class="p">.</span><span class="nx">city</span><span class="p">);</span> <span class="c1">// [&#34;åŒ—äº¬&#34;, &#34;ä¸Šæµ·&#34;, &#34;å¤©æ´¥&#34;]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// test4();
</span></span></span></code></pre></div><h3 id="4es6-æ–°æ–¹æ³•class">4.ES6 æ–°æ–¹æ³•ï¼ï¼class</h3>
<p>æ–°çš„å…³é”®å­—<code>class</code>åœ¨ es6 å¼€å§‹è¢«å¼•å…¥åˆ° javascript ä¸­æ¥ï¼Œ<code>class</code>çš„ç›®çš„å°±æ˜¯è®©å®šä¹‰ç±»æ›´ç®€å•</p>
<p>ç”¨å‡½æ•°æ–¹æ³•å®ç°ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">Person</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hello</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Hello, &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;!&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">son</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s1">&#39;xm&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">son</span><span class="p">.</span><span class="nx">hello</span><span class="p">();</span>    <span class="c1">// Hello, xm!
</span></span></span></code></pre></div><p>ç”¨<code>class</code>æ¥å®ç°ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Person</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">hello</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Hello, &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;!&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">son</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">person</span><span class="p">(</span><span class="s1">&#39;xm&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">son</span><span class="p">.</span><span class="nx">hello</span><span class="p">();</span>    <span class="c1">// Hello, xm!
</span></span></span></code></pre></div><p>å¯ä»¥åœ¨çœ‹åˆ°ï¼Œåœ¨å®šä¹‰<code>class</code>ä¸­ï¼Œç›´æ¥åŒ…å«äº†æ„é€ å‡½æ•°<code>constructor</code>å±æ€§ï¼Œå’ŒåŸå‹å¯¹è±¡ä¸Šçš„å‡½æ•°<code>hello()</code>æ–¹æ³•ï¼Œçœç•¥æ‰äº†<code>function</code>å…³é”®å­—</p>
<p>éœ€è¦æ³¨æ„ï¼šåŸæ¥çš„å†™æ³•æ˜¯ï¼Œæ„é€ å‡½æ•°å’ŒåŸå‹å¯¹è±¡åˆ†æ•£å¼€æ¥å†™ï¼Œç°åœ¨ç”¨<code>class</code>å¯ä»¥ç›´æ¥æŠŠä¸¤è€…ä¸²åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œåªæœ‰æœ€åä¼ å‚å’Œè°ƒç”¨æ–¹æ³•æ—¶å†™æ³•æ˜¯ä¸€æ ·çš„</p>
<p><strong>class ç»§æ‰¿</strong></p>
<p>ç”¨<code>class</code>å®šä¹‰å¯¹è±¡çš„å¦ä¸€ä¸ªå·¨å¤§çš„å¥½å¤„æ˜¯ç»§æ‰¿æ›´æ–¹ä¾¿äº†ã€‚æƒ³ä¸€æƒ³æˆ‘ä»¬ä»<code>Person</code>æ´¾ç”Ÿä¸€ä¸ª<code>PrimaryPerson</code>éœ€è¦ç¼–å†™çš„ä»£ç é‡ã€‚ç°åœ¨ï¼ŒåŸå‹ç»§æ‰¿çš„ä¸­é—´å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡çš„æ„é€ å‡½æ•°ç­‰ç­‰éƒ½ä¸éœ€è¦è€ƒè™‘äº†ï¼Œç›´æ¥é€šè¿‡<code>extends</code>æ¥å®ç°ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">PrimaryPerson</span> <span class="kr">extends</span> <span class="nx">Person</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">grade</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kr">super</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span> <span class="c1">// è®°å¾—ç”¨ super è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">grade</span> <span class="o">=</span> <span class="nx">grade</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">myGrade</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;I am at grade &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">grade</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>æ³¨æ„<code>PrimaryPerson</code>çš„å®šä¹‰ä¹Ÿæ˜¯é€šè¿‡ class å…³é”®å­—å®ç°çš„ï¼Œè€Œ<code>extends</code>åˆ™è¡¨ç¤ºåŸå‹é“¾å¯¹è±¡æ¥è‡ª<code>Person</code>ï¼Œå­ç±»çš„æ„é€ å‡½æ•°å¯èƒ½ä¼šå’Œçˆ¶ç±»çš„ä¸å¤ªç›¸åŒ</p>
<p>ä¾‹å¦‚ï¼Œ<code>PrimaryPerson</code>éœ€è¦<code>name</code>å’Œ<code>grade</code>ä¸¤ä¸ªå‚æ•°ï¼Œå¹¶ä¸”éœ€è¦é€šè¿‡<code>super(name)</code>æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¦åˆ™çˆ¶ç±»çš„<code>name</code>å±æ€§æ— æ³•æ­£å¸¸åˆå§‹åŒ–ã€‚</p>
<p><code>PrimaryPerson</code>å·²ç»è‡ªåŠ¨è·å¾—äº†çˆ¶ç±»<code>Person</code>çš„<code>helloæ–¹æ³•</code>ï¼Œæˆ‘ä»¬åˆåœ¨å­ç±»ä¸­å®šä¹‰äº†æ–°çš„<code>myGrade</code>æ–¹æ³•ã€‚</p>
<p>ES6 å¼•å…¥çš„<code>class</code>å’ŒåŸæœ‰çš„<code>JavaScriptåŸå‹ç»§æ‰¿</code>æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p>
<p>å®é™…ä¸Šå®ƒä»¬æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œ<code>class</code>çš„ä½œç”¨å°±æ˜¯è®© JavaScript å¼•æ“å»å®ç°åŸæ¥éœ€è¦æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„åŸå‹é“¾ä»£ç ã€‚ç®€è€Œè¨€ä¹‹ï¼Œç”¨<code>class</code>çš„å¥½å¤„å°±æ˜¯æå¤§åœ°ç®€åŒ–äº†åŸå‹é“¾ä»£ç ã€‚</p>
<p>ä½†æ˜¯ï¼</p>
<p>ç›®å‰å¹¶ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒ<code>class</code>ï¼Œæ‰€ä»¥åœ¨é€‰æ‹©çš„æ—¶å€™ä¸€å®šè¦æ…é‡ï¼</p>

    </article>

    
    <hr class="sep">
<ul class="comment-tabs">
  
  <li>LinuxDo</li>
  
  <li>Giscus</li>
  <li>Twikoo</li>
</ul>
<div class="comments">
  
  <div>
    <div id='discourse-comments'></div>
    <meta name='discourse-username' content='anghunk'>
    <script type="text/javascript">
      DiscourseEmbed = {
        discourseUrl: 'https://linux.do/',
        discourseEmbedUrl: 'https://zishu.me\/blog\/15.html\/',
        
      };

      (function() {
        var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
        d.src = DiscourseEmbed.discourseUrl + 'javascripts/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
      })();
    </script>
  </div>
  
  <div class="giscus"></div>
  <div id="tcomment"></div>
</div>
<script 
  src="https://giscus.app/client.js" 
  data-repo="ezyshu/hugo-blog" 
  data-repo-id="R_kgDOJkJvtw"
  data-category="Announcements" 
  data-category-id="DIC_kwDOJkJvt84CX9d6" 
  data-mapping="pathname" 
  data-strict="0"
  data-reactions-enabled="1" 
  data-emit-metadata="1" 
  data-input-position="top" 
  data-theme="light"
  data-lang="zh-CN" 
  data-loading="lazy" 
  crossorigin="anonymous" 
  async>
</script>

<script src="https://cdn.jsdelivr.net/npm/twikoo@1.6.42/dist/twikoo.min.js"></script>
<script>
twikoo.init({
  envId: 'https://twikoo.zishu.me/.netlify/functions/twikoo',
  el: '#tcomment',
  lang: 'zh-CN', 
})
</script>

<script>
document.querySelectorAll('.comment-tabs li').forEach((tab, index) => {
  if (index === 0) {
    document.querySelectorAll('.comment-tabs li')[0].classList.add('active');
    document.querySelectorAll('.comments > div')[0].classList.add('active');
  }
  
  tab.addEventListener('click', function() {
    document.querySelectorAll('.comment-tabs li').forEach(sibling => {
      sibling.classList.remove('active');
    });
    this.classList.add('active');
    
    document.querySelectorAll('.comments > div').forEach(content => {
      content.classList.remove('active');
    });
    document.querySelectorAll('.comments > div')[index].classList.add('active');
  });
});
</script>

<style>
  .comment-tabs {
    display: flex;
    margin-top: 3em;
  }
  .comment-tabs li {
    margin-right: 40px;
    cursor: pointer;
  }
  .comment-tabs li.active {
    text-decoration: underline;
  }
  .comments > div.active {
    display: block;
  }
  .comments > div {
    display: none;
  }
</style>
    
    
  </main>
  <hr class="sep">
<footer class="container no-print">
  <div class="u-footer">
    <p>
      æœ¬åšå®¢ä½¿ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" style="color:inherit;">CC BY-NC-SA 4.0</a> åè®®å¼€æº
    </p>
    <p>Â© 2020 - 2025 Powered by å­èˆ’</p>
    <div class="footflex">
      <p>Ad Astra Per Aspera.</p>
      <p>
        <a title="Email" href="mailto:hi@zishu.me"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail-icon lucide-mail"><path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"/><rect x="2" y="4" width="20" height="16" rx="2"/></svg></a>
        <a title="Github" href="https://github.com/ezyshu/" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg></a>
        <a title="RSS Feed" href="/index.xml" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rss-icon lucide-rss"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg></a>
      </p>
    </div>
  </div>
</footer>

<a herf="javascript:void(0)" class="gotop"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up-from-dot-icon lucide-arrow-up-from-dot"><path d="m5 9 7-7 7 7"/><path d="M12 16V2"/><circle cx="12" cy="21" r="1"/></svg></a>
<style>
.gotop {
  position: fixed;
  right: 20px;
  bottom: 50px;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  overflow: hidden;
  background: #c6c3c3;
  color: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.1s linear;
  border: 1px solid #ccc;
}

.gotop:hover {
  background: #ccc;
}
</style>
<script src="/js/main.js"></script>
</body>

</html>